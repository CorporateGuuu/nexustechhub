"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "(api-node)/./lib/2fa.js":
/*!********************!*\
  !*** ./lib/2fa.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   disable2FA: () => (/* binding */ disable2FA),\n/* harmony export */   enable2FA: () => (/* binding */ enable2FA),\n/* harmony export */   generate2FASecret: () => (/* binding */ generate2FASecret),\n/* harmony export */   generateBackupCodes: () => (/* binding */ generateBackupCodes),\n/* harmony export */   generateDuoRequest: () => (/* binding */ generateDuoRequest),\n/* harmony export */   getUserTwoFactorSettings: () => (/* binding */ getUserTwoFactorSettings),\n/* harmony export */   sendEmailVerification: () => (/* binding */ sendEmailVerification),\n/* harmony export */   sendSmsVerification: () => (/* binding */ sendSmsVerification),\n/* harmony export */   sendTwoFactorCode: () => (/* binding */ sendTwoFactorCode),\n/* harmony export */   updateUserTwoFactorSettings: () => (/* binding */ updateUserTwoFactorSettings),\n/* harmony export */   verify2FA: () => (/* binding */ verify2FA),\n/* harmony export */   verifyBackupCode: () => (/* binding */ verifyBackupCode),\n/* harmony export */   verifyCode: () => (/* binding */ verifyCode),\n/* harmony export */   verifyDuoResponse: () => (/* binding */ verifyDuoResponse)\n/* harmony export */ });\n// Two-Factor Authentication for Nexus TechHub\n// Mock implementation for demo purposes\nconst verify2FA = async (userId, code, method = 'email')=>{\n    console.log(`2FA verification for user ${userId} with code ${code} via ${method}`);\n    // Mock verification - always succeeds for demo\n    return {\n        success: true,\n        verified: true\n    };\n};\nconst generate2FASecret = async (userId)=>{\n    console.log(`Generating 2FA secret for user ${userId}`);\n    // Mock secret generation\n    return {\n        secret: 'MOCK2FASECRET123456789',\n        qrCode: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg=='\n    };\n};\nconst enable2FA = async (userId, method = 'email')=>{\n    console.log(`Enabling 2FA for user ${userId} via ${method}`);\n    return {\n        success: true,\n        enabled: true,\n        method\n    };\n};\nconst disable2FA = async (userId)=>{\n    console.log(`Disabling 2FA for user ${userId}`);\n    return {\n        success: true,\n        enabled: false\n    };\n};\nconst getUserTwoFactorSettings = async (userId)=>{\n    console.log(`Getting 2FA settings for user ${userId}`);\n    // Mock settings - 2FA disabled by default\n    return {\n        enabled: false,\n        email_enabled: false,\n        sms_enabled: false,\n        duo_enabled: false,\n        preferred_method: 'email',\n        backup_codes_count: 0\n    };\n};\nconst sendTwoFactorCode = async (userId, method = 'email')=>{\n    console.log(`Sending 2FA code to user ${userId} via ${method}`);\n    return {\n        success: true,\n        sent: true,\n        method,\n        code: '123456' // Mock code for demo\n    };\n};\nconst generateBackupCodes = async (userId)=>{\n    console.log(`Generating backup codes for user ${userId}`);\n    // Mock backup codes\n    const codes = [];\n    for(let i = 0; i < 10; i++){\n        codes.push(Math.random().toString(36).substring(2, 10).toUpperCase());\n    }\n    return {\n        success: true,\n        codes\n    };\n};\nconst verifyBackupCode = async (userId, code)=>{\n    console.log(`Verifying backup code for user ${userId}: ${code}`);\n    // Mock verification - always succeeds for demo\n    return {\n        success: true,\n        verified: true,\n        remaining_codes: 9\n    };\n};\n// Additional 2FA functions\nconst generateDuoRequest = async (userId)=>{\n    console.log(`Generating Duo request for user ${userId}`);\n    return {\n        success: true,\n        duo_request: 'TX|mock-duo-request|mock-app-id',\n        duo_host: 'api-mock.duosecurity.com'\n    };\n};\nconst verifyDuoResponse = async (duoResponse, userId)=>{\n    console.log(`Verifying Duo response for user ${userId}: ${duoResponse}`);\n    return {\n        success: true,\n        verified: true,\n        username: `user_${userId}`\n    };\n};\nconst sendEmailVerification = async (userId, email)=>{\n    console.log(`Sending email verification to ${email} for user ${userId}`);\n    return {\n        success: true,\n        sent: true,\n        code: '123456',\n        expires_at: new Date(Date.now() + 300000).toISOString()\n    };\n};\nconst sendSmsVerification = async (userId, phone)=>{\n    console.log(`Sending SMS verification to ${phone} for user ${userId}`);\n    return {\n        success: true,\n        sent: true,\n        code: '654321',\n        expires_at: new Date(Date.now() + 300000).toISOString()\n    };\n};\nconst verifyCode = async (userId, code, method = 'email')=>{\n    console.log(`Verifying ${method} code ${code} for user ${userId}`);\n    return {\n        success: true,\n        verified: true,\n        method\n    };\n};\nconst updateUserTwoFactorSettings = async (userId, settings)=>{\n    console.log(`Updating 2FA settings for user ${userId}:`, settings);\n    return {\n        success: true,\n        settings: {\n            ...settings,\n            updated_at: new Date().toISOString()\n        }\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    verify2FA,\n    generate2FASecret,\n    enable2FA,\n    disable2FA,\n    getUserTwoFactorSettings,\n    sendTwoFactorCode,\n    generateBackupCodes,\n    verifyBackupCode,\n    generateDuoRequest,\n    verifyDuoResponse,\n    sendEmailVerification,\n    sendSmsVerification,\n    verifyCode,\n    updateUserTwoFactorSettings\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDQUU7SUFDQUM7QUFDRixDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL1dlYnNpdGVzIENvZGUvTmV4dXNUZWNoSHViLmNvbS9saWIvMmZhLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFR3by1GYWN0b3IgQXV0aGVudGljYXRpb24gZm9yIE5leHVzIFRlY2hIdWJcbi8vIE1vY2sgaW1wbGVtZW50YXRpb24gZm9yIGRlbW8gcHVycG9zZXNcblxuZXhwb3J0IGNvbnN0IHZlcmlmeTJGQSA9IGFzeW5jICh1c2VySWQsIGNvZGUsIG1ldGhvZCA9ICdlbWFpbCcpID0+IHtcbiAgY29uc29sZS5sb2coYDJGQSB2ZXJpZmljYXRpb24gZm9yIHVzZXIgJHt1c2VySWR9IHdpdGggY29kZSAke2NvZGV9IHZpYSAke21ldGhvZH1gKTtcbiAgXG4gIC8vIE1vY2sgdmVyaWZpY2F0aW9uIC0gYWx3YXlzIHN1Y2NlZWRzIGZvciBkZW1vXG4gIHJldHVybiB7XG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgICB2ZXJpZmllZDogdHJ1ZVxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlMkZBU2VjcmV0ID0gYXN5bmMgKHVzZXJJZCkgPT4ge1xuICBjb25zb2xlLmxvZyhgR2VuZXJhdGluZyAyRkEgc2VjcmV0IGZvciB1c2VyICR7dXNlcklkfWApO1xuICBcbiAgLy8gTW9jayBzZWNyZXQgZ2VuZXJhdGlvblxuICByZXR1cm4ge1xuICAgIHNlY3JldDogJ01PQ0syRkFTRUNSRVQxMjM0NTY3ODknLFxuICAgIHFyQ29kZTogJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBWUFBQUFmRmNTSkFBQUFEVWxFUVZSNDJtTmtZUGhmRHdBQ2h3R0E2MGU2a2dBQUFBQkpSVTVFcmtKZ2dnPT0nXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgZW5hYmxlMkZBID0gYXN5bmMgKHVzZXJJZCwgbWV0aG9kID0gJ2VtYWlsJykgPT4ge1xuICBjb25zb2xlLmxvZyhgRW5hYmxpbmcgMkZBIGZvciB1c2VyICR7dXNlcklkfSB2aWEgJHttZXRob2R9YCk7XG4gIFxuICByZXR1cm4ge1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBtZXRob2RcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBkaXNhYmxlMkZBID0gYXN5bmMgKHVzZXJJZCkgPT4ge1xuICBjb25zb2xlLmxvZyhgRGlzYWJsaW5nIDJGQSBmb3IgdXNlciAke3VzZXJJZH1gKTtcbiAgXG4gIHJldHVybiB7XG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgICBlbmFibGVkOiBmYWxzZVxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFVzZXJUd29GYWN0b3JTZXR0aW5ncyA9IGFzeW5jICh1c2VySWQpID0+IHtcbiAgY29uc29sZS5sb2coYEdldHRpbmcgMkZBIHNldHRpbmdzIGZvciB1c2VyICR7dXNlcklkfWApO1xuICBcbiAgLy8gTW9jayBzZXR0aW5ncyAtIDJGQSBkaXNhYmxlZCBieSBkZWZhdWx0XG4gIHJldHVybiB7XG4gICAgZW5hYmxlZDogZmFsc2UsXG4gICAgZW1haWxfZW5hYmxlZDogZmFsc2UsXG4gICAgc21zX2VuYWJsZWQ6IGZhbHNlLFxuICAgIGR1b19lbmFibGVkOiBmYWxzZSxcbiAgICBwcmVmZXJyZWRfbWV0aG9kOiAnZW1haWwnLFxuICAgIGJhY2t1cF9jb2Rlc19jb3VudDogMFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHNlbmRUd29GYWN0b3JDb2RlID0gYXN5bmMgKHVzZXJJZCwgbWV0aG9kID0gJ2VtYWlsJykgPT4ge1xuICBjb25zb2xlLmxvZyhgU2VuZGluZyAyRkEgY29kZSB0byB1c2VyICR7dXNlcklkfSB2aWEgJHttZXRob2R9YCk7XG4gIFxuICByZXR1cm4ge1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgc2VudDogdHJ1ZSxcbiAgICBtZXRob2QsXG4gICAgY29kZTogJzEyMzQ1NicgLy8gTW9jayBjb2RlIGZvciBkZW1vXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVCYWNrdXBDb2RlcyA9IGFzeW5jICh1c2VySWQpID0+IHtcbiAgY29uc29sZS5sb2coYEdlbmVyYXRpbmcgYmFja3VwIGNvZGVzIGZvciB1c2VyICR7dXNlcklkfWApO1xuICBcbiAgLy8gTW9jayBiYWNrdXAgY29kZXNcbiAgY29uc3QgY29kZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgY29kZXMucHVzaChNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTApLnRvVXBwZXJDYXNlKCkpO1xuICB9XG4gIFxuICByZXR1cm4ge1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgY29kZXNcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlCYWNrdXBDb2RlID0gYXN5bmMgKHVzZXJJZCwgY29kZSkgPT4ge1xuICBjb25zb2xlLmxvZyhgVmVyaWZ5aW5nIGJhY2t1cCBjb2RlIGZvciB1c2VyICR7dXNlcklkfTogJHtjb2RlfWApO1xuICBcbiAgLy8gTW9jayB2ZXJpZmljYXRpb24gLSBhbHdheXMgc3VjY2VlZHMgZm9yIGRlbW9cbiAgcmV0dXJuIHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIHZlcmlmaWVkOiB0cnVlLFxuICAgIHJlbWFpbmluZ19jb2RlczogOVxuICB9O1xufTtcblxuLy8gQWRkaXRpb25hbCAyRkEgZnVuY3Rpb25zXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVEdW9SZXF1ZXN0ID0gYXN5bmMgKHVzZXJJZCkgPT4ge1xuICBjb25zb2xlLmxvZyhgR2VuZXJhdGluZyBEdW8gcmVxdWVzdCBmb3IgdXNlciAke3VzZXJJZH1gKTtcbiAgcmV0dXJuIHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIGR1b19yZXF1ZXN0OiAnVFh8bW9jay1kdW8tcmVxdWVzdHxtb2NrLWFwcC1pZCcsXG4gICAgZHVvX2hvc3Q6ICdhcGktbW9jay5kdW9zZWN1cml0eS5jb20nXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgdmVyaWZ5RHVvUmVzcG9uc2UgPSBhc3luYyAoZHVvUmVzcG9uc2UsIHVzZXJJZCkgPT4ge1xuICBjb25zb2xlLmxvZyhgVmVyaWZ5aW5nIER1byByZXNwb25zZSBmb3IgdXNlciAke3VzZXJJZH06ICR7ZHVvUmVzcG9uc2V9YCk7XG4gIHJldHVybiB7XG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgICB2ZXJpZmllZDogdHJ1ZSxcbiAgICB1c2VybmFtZTogYHVzZXJfJHt1c2VySWR9YFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHNlbmRFbWFpbFZlcmlmaWNhdGlvbiA9IGFzeW5jICh1c2VySWQsIGVtYWlsKSA9PiB7XG4gIGNvbnNvbGUubG9nKGBTZW5kaW5nIGVtYWlsIHZlcmlmaWNhdGlvbiB0byAke2VtYWlsfSBmb3IgdXNlciAke3VzZXJJZH1gKTtcbiAgcmV0dXJuIHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIHNlbnQ6IHRydWUsXG4gICAgY29kZTogJzEyMzQ1NicsXG4gICAgZXhwaXJlc19hdDogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwMDAwMCkudG9JU09TdHJpbmcoKVxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHNlbmRTbXNWZXJpZmljYXRpb24gPSBhc3luYyAodXNlcklkLCBwaG9uZSkgPT4ge1xuICBjb25zb2xlLmxvZyhgU2VuZGluZyBTTVMgdmVyaWZpY2F0aW9uIHRvICR7cGhvbmV9IGZvciB1c2VyICR7dXNlcklkfWApO1xuICByZXR1cm4ge1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgc2VudDogdHJ1ZSxcbiAgICBjb2RlOiAnNjU0MzIxJyxcbiAgICBleHBpcmVzX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAwMDAwKS50b0lTT1N0cmluZygpXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgdmVyaWZ5Q29kZSA9IGFzeW5jICh1c2VySWQsIGNvZGUsIG1ldGhvZCA9ICdlbWFpbCcpID0+IHtcbiAgY29uc29sZS5sb2coYFZlcmlmeWluZyAke21ldGhvZH0gY29kZSAke2NvZGV9IGZvciB1c2VyICR7dXNlcklkfWApO1xuICByZXR1cm4ge1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgdmVyaWZpZWQ6IHRydWUsXG4gICAgbWV0aG9kXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclR3b0ZhY3RvclNldHRpbmdzID0gYXN5bmMgKHVzZXJJZCwgc2V0dGluZ3MpID0+IHtcbiAgY29uc29sZS5sb2coYFVwZGF0aW5nIDJGQSBzZXR0aW5ncyBmb3IgdXNlciAke3VzZXJJZH06YCwgc2V0dGluZ3MpO1xuICByZXR1cm4ge1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgc2V0dGluZ3M6IHtcbiAgICAgIC4uLnNldHRpbmdzLFxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICB2ZXJpZnkyRkEsXG4gIGdlbmVyYXRlMkZBU2VjcmV0LFxuICBlbmFibGUyRkEsXG4gIGRpc2FibGUyRkEsXG4gIGdldFVzZXJUd29GYWN0b3JTZXR0aW5ncyxcbiAgc2VuZFR3b0ZhY3RvckNvZGUsXG4gIGdlbmVyYXRlQmFja3VwQ29kZXMsXG4gIHZlcmlmeUJhY2t1cENvZGUsXG4gIGdlbmVyYXRlRHVvUmVxdWVzdCxcbiAgdmVyaWZ5RHVvUmVzcG9uc2UsXG4gIHNlbmRFbWFpbFZlcmlmaWNhdGlvbixcbiAgc2VuZFNtc1ZlcmlmaWNhdGlvbixcbiAgdmVyaWZ5Q29kZSxcbiAgdXBkYXRlVXNlclR3b0ZhY3RvclNldHRpbmdzXG59O1xuIl0sIm5hbWVzIjpbInZlcmlmeTJGQSIsInVzZXJJZCIsImNvZGUiLCJtZXRob2QiLCJjb25zb2xlIiwibG9nIiwic3VjY2VzcyIsInZlcmlmaWVkIiwiZ2VuZXJhdGUyRkFTZWNyZXQiLCJzZWNyZXQiLCJxckNvZGUiLCJlbmFibGUyRkEiLCJlbmFibGVkIiwiZGlzYWJsZTJGQSIsImdldFVzZXJUd29GYWN0b3JTZXR0aW5ncyIsImVtYWlsX2VuYWJsZWQiLCJzbXNfZW5hYmxlZCIsImR1b19lbmFibGVkIiwicHJlZmVycmVkX21ldGhvZCIsImJhY2t1cF9jb2Rlc19jb3VudCIsInNlbmRUd29GYWN0b3JDb2RlIiwic2VudCIsImdlbmVyYXRlQmFja3VwQ29kZXMiLCJjb2RlcyIsImkiLCJwdXNoIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwidG9VcHBlckNhc2UiLCJ2ZXJpZnlCYWNrdXBDb2RlIiwicmVtYWluaW5nX2NvZGVzIiwiZ2VuZXJhdGVEdW9SZXF1ZXN0IiwiZHVvX3JlcXVlc3QiLCJkdW9faG9zdCIsInZlcmlmeUR1b1Jlc3BvbnNlIiwiZHVvUmVzcG9uc2UiLCJ1c2VybmFtZSIsInNlbmRFbWFpbFZlcmlmaWNhdGlvbiIsImVtYWlsIiwiZXhwaXJlc19hdCIsIkRhdGUiLCJub3ciLCJ0b0lTT1N0cmluZyIsInNlbmRTbXNWZXJpZmljYXRpb24iLCJwaG9uZSIsInZlcmlmeUNvZGUiLCJ1cGRhdGVVc2VyVHdvRmFjdG9yU2V0dGluZ3MiLCJzZXR0aW5ncyIsInVwZGF0ZWRfYXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./lib/2fa.js\n");

/***/ }),

/***/ "(api-node)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addToCart: () => (/* binding */ addToCart),\n/* harmony export */   createCart: () => (/* binding */ createCart),\n/* harmony export */   createOrder: () => (/* binding */ createOrder),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getCart: () => (/* binding */ getCart),\n/* harmony export */   getCategories: () => (/* binding */ getCategories),\n/* harmony export */   getCategoryBySlug: () => (/* binding */ getCategoryBySlug),\n/* harmony export */   getConnection: () => (/* binding */ getConnection),\n/* harmony export */   getDevices: () => (/* binding */ getDevices),\n/* harmony export */   getProductBySlug: () => (/* binding */ getProductBySlug),\n/* harmony export */   getProducts: () => (/* binding */ getProducts),\n/* harmony export */   getRepairCategories: () => (/* binding */ getRepairCategories),\n/* harmony export */   getUserByEmail: () => (/* binding */ getUserByEmail),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   getUserOrders: () => (/* binding */ getUserOrders),\n/* harmony export */   pool: () => (/* binding */ pool),\n/* harmony export */   query: () => (/* binding */ query),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   transaction: () => (/* binding */ transaction),\n/* harmony export */   updateUser: () => (/* binding */ updateUser)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n// Database connection for Nexus TechHub using Supabase\n// Provides database connection and query helpers\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n// Check if we're in development mode and handle missing env vars gracefully\nconst isDevelopment = \"development\" === 'development';\nif (!supabaseUrl || !supabaseKey) {\n    if (!isDevelopment) {\n        throw new Error('Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in your .env file');\n    }\n    console.warn('⚠️  Supabase environment variables not found. Running in development mode with mock data.');\n}\n// Create Supabase client only if environment variables are available\nconst supabase = supabaseUrl && supabaseKey ? (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseKey) : null;\n// Database query helper\nconst query = async (table, options = {})=>{\n    // Return mock data if Supabase is not available (development mode)\n    if (!supabase) {\n        console.log(`Mock query: ${table}`, options);\n        return {\n            rows: [],\n            rowCount: 0\n        };\n    }\n    let queryBuilder = supabase.from(table).select(options.select || '*');\n    if (options.filters) {\n        Object.entries(options.filters).forEach(([key, value])=>{\n            if (Array.isArray(value)) {\n                queryBuilder = queryBuilder.in(key, value);\n            } else {\n                queryBuilder = queryBuilder.eq(key, value);\n            }\n        });\n    }\n    if (options.orderBy) {\n        queryBuilder = queryBuilder.order(options.orderBy.column, {\n            ascending: options.orderBy.ascending\n        });\n    }\n    if (options.limit) {\n        queryBuilder = queryBuilder.limit(options.limit);\n    }\n    const { data, error } = await queryBuilder;\n    if (error) {\n        console.error('Database query error:', error);\n        throw error;\n    }\n    return {\n        rows: data,\n        rowCount: data?.length || 0\n    };\n};\n// User management functions\nconst createUser = async (userData)=>{\n    if (!supabase) {\n        console.log('Mock createUser:', userData);\n        return {\n            id: 'mock-user-id',\n            ...userData\n        };\n    }\n    const { data, error } = await supabase.auth.signUp({\n        email: userData.email,\n        password: userData.password,\n        options: {\n            data: {\n                name: userData.name,\n                phone: userData.phone\n            }\n        }\n    });\n    if (error) {\n        console.error('Error creating user:', error);\n        throw error;\n    }\n    return data.user;\n};\nconst getUserByEmail = async (email)=>{\n    if (!supabase) {\n        console.log('Mock getUserByEmail:', email);\n        return null;\n    }\n    const { data, error } = await supabase.from('profiles').select('*').eq('email', email).single();\n    if (error && error.code !== 'PGRST116') {\n        console.error('Error getting user by email:', error);\n        throw error;\n    }\n    return data;\n};\nconst getUserById = async (id)=>{\n    if (!supabase) {\n        console.log('Mock getUserById:', id);\n        return null;\n    }\n    const { data, error } = await supabase.from('profiles').select('*').eq('id', id).single();\n    if (error && error.code !== 'PGRST116') {\n        console.error('Error getting user by ID:', error);\n        throw error;\n    }\n    return data;\n};\nconst updateUser = async (id, userData)=>{\n    if (!supabase) {\n        console.log('Mock updateUser:', id, userData);\n        return {\n            id,\n            ...userData\n        };\n    }\n    const { data, error } = await supabase.from('profiles').update(userData).eq('id', id).select().single();\n    if (error) {\n        console.error('Error updating user:', error);\n        throw error;\n    }\n    return data;\n};\n// Category functions\nconst getCategories = async ()=>{\n    if (!supabase) {\n        console.log('Mock getCategories');\n        return [\n            {\n                id: 1,\n                name: 'iPhone Parts',\n                slug: 'iphone-parts'\n            },\n            {\n                id: 2,\n                name: 'Samsung Parts',\n                slug: 'samsung-parts'\n            },\n            {\n                id: 3,\n                name: 'iPad Parts',\n                slug: 'ipad-parts'\n            },\n            {\n                id: 4,\n                name: 'Tools',\n                slug: 'tools'\n            }\n        ];\n    }\n    const { data, error } = await supabase.from('categories').select('*').order('name');\n    if (error) {\n        console.error('Error getting categories:', error);\n        throw error;\n    }\n    return data;\n};\nconst getCategoryBySlug = async (slug)=>{\n    if (!supabase) {\n        console.log('Mock getCategoryBySlug:', slug);\n        return {\n            id: 1,\n            name: 'iPhone Parts',\n            slug,\n            description: 'High-quality iPhone replacement parts'\n        };\n    }\n    const { data, error } = await supabase.from('categories').select('*').eq('slug', slug).single();\n    if (error && error.code !== 'PGRST116') {\n        console.error('Error getting category by slug:', error);\n        throw error;\n    }\n    return data;\n};\n// Product functions\nconst getProducts = async (filters = {})=>{\n    if (!supabase) {\n        console.log('Mock getProducts:', filters);\n        return [\n            {\n                id: 1,\n                name: 'iPhone 15 Pro Screen',\n                slug: 'iphone-15-pro-screen',\n                price: 299.99,\n                categories: {\n                    name: 'iPhone Parts',\n                    slug: 'iphone-parts'\n                },\n                product_images: [\n                    {\n                        image_url: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=300&h=200&fit=crop',\n                        is_primary: true\n                    }\n                ],\n                is_featured: true,\n                is_new: true\n            },\n            {\n                id: 2,\n                name: 'Samsung S24 Battery',\n                slug: 'samsung-s24-battery',\n                price: 89.99,\n                categories: {\n                    name: 'Samsung Parts',\n                    slug: 'samsung-parts'\n                },\n                product_images: [\n                    {\n                        image_url: 'https://images.unsplash.com/photo-1592899677977-9c10ca588bbd?w=300&h=200&fit=crop',\n                        is_primary: true\n                    }\n                ],\n                is_featured: false,\n                is_new: true\n            },\n            {\n                id: 3,\n                name: 'iPad Pro 12.9\" Screen',\n                slug: 'ipad-pro-12-9-screen',\n                price: 399.99,\n                categories: {\n                    name: 'iPad Parts',\n                    slug: 'ipad-parts'\n                },\n                product_images: [\n                    {\n                        image_url: 'https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=300&h=200&fit=crop',\n                        is_primary: true\n                    }\n                ],\n                is_featured: true,\n                is_new: false\n            },\n            {\n                id: 4,\n                name: 'Professional Repair Kit',\n                slug: 'professional-repair-kit',\n                price: 149.99,\n                categories: {\n                    name: 'Tools',\n                    slug: 'tools'\n                },\n                product_images: [\n                    {\n                        image_url: 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=300&h=200&fit=crop',\n                        is_primary: true\n                    }\n                ],\n                is_featured: true,\n                is_new: false\n            }\n        ];\n    }\n    let queryBuilder = supabase.from('products').select(`\n      *,\n      categories (\n        name,\n        slug\n      ),\n      product_images (\n        image_url,\n        is_primary\n      )\n    `);\n    if (filters.category) {\n        queryBuilder = queryBuilder.eq('category_id', filters.category);\n    }\n    if (filters.is_featured) {\n        queryBuilder = queryBuilder.eq('is_featured', true);\n    }\n    if (filters.is_new) {\n        queryBuilder = queryBuilder.eq('is_new', true);\n    }\n    if (filters.search) {\n        queryBuilder = queryBuilder.ilike('name', `%${filters.search}%`);\n    }\n    if (filters.limit) {\n        queryBuilder = queryBuilder.limit(filters.limit);\n    }\n    queryBuilder = queryBuilder.order('created_at', {\n        ascending: false\n    });\n    const { data, error } = await queryBuilder;\n    if (error) {\n        console.error('Error getting products:', error);\n        throw error;\n    }\n    return data;\n};\nconst getProductBySlug = async (slug)=>{\n    const { data, error } = await supabase.from('products').select(`\n      *,\n      categories (\n        name,\n        slug\n      ),\n      product_images (\n        image_url,\n        is_primary,\n        display_order\n      ),\n      product_specifications (*),\n      product_variants (*),\n      reviews (\n        rating,\n        comment,\n        created_at,\n        profiles (\n          name\n        )\n      )\n    `).eq('slug', slug).single();\n    if (error && error.code !== 'PGRST116') {\n        console.error('Error getting product by slug:', error);\n        throw error;\n    }\n    return data;\n};\n// Cart functions\nconst getCart = async (userId, sessionId)=>{\n    const { data, error } = await supabase.from('carts').select(`\n      *,\n      cart_items (\n        *,\n        products (\n          name,\n          price,\n          image_url\n        )\n      )\n    `).or(`user_id.eq.${userId},session_id.eq.${sessionId}`).single();\n    if (error && error.code !== 'PGRST116') {\n        console.error('Error getting cart:', error);\n        throw error;\n    }\n    return data;\n};\nconst createCart = async (userId, sessionId)=>{\n    const { data, error } = await supabase.from('carts').insert({\n        user_id: userId,\n        session_id: sessionId\n    }).select().single();\n    if (error) {\n        console.error('Error creating cart:', error);\n        throw error;\n    }\n    return data;\n};\nconst addToCart = async (cartId, productId, quantity = 1)=>{\n    const { data: product, error: productError } = await supabase.from('products').select('price').eq('id', productId).single();\n    if (productError) {\n        console.error('Error getting product price:', productError);\n        throw productError;\n    }\n    const { data, error } = await supabase.from('cart_items').insert({\n        cart_id: cartId,\n        product_id: productId,\n        quantity,\n        price_at_addition: product.price\n    }).select().single();\n    if (error) {\n        console.error('Error adding to cart:', error);\n        throw error;\n    }\n    return data;\n};\n// Order functions\nconst createOrder = async (orderData)=>{\n    const { data, error } = await supabase.from('orders').insert(orderData).select().single();\n    if (error) {\n        console.error('Error creating order:', error);\n        throw error;\n    }\n    return data;\n};\nconst getUserOrders = async (userId)=>{\n    const { data, error } = await supabase.from('orders').select(`\n      *,\n      order_items (\n        *,\n        products (\n          name,\n          image_url\n        )\n      )\n    `).eq('user_id', userId).order('created_at', {\n        ascending: false\n    });\n    if (error) {\n        console.error('Error getting user orders:', error);\n        throw error;\n    }\n    return data;\n};\n// Legacy pool interface for compatibility\nconst pool = {\n    query: async (sql, params = [])=>{\n        console.warn('Using legacy pool.query - consider migrating to Supabase client');\n        // This is a simplified implementation - in production you'd need proper SQL parsing\n        return {\n            rows: [],\n            rowCount: 0\n        };\n    },\n    connect: async ()=>{\n        console.log('Supabase connection established');\n        return {\n            query: async (sql, params = [])=>{\n                console.warn('Using legacy connection.query - consider migrating to Supabase client');\n                return {\n                    rows: [],\n                    rowCount: 0\n                };\n            },\n            release: ()=>console.log('Connection released')\n        };\n    }\n};\nconst getConnection = async ()=>{\n    console.log('Getting Supabase connection');\n    return {\n        query: async (sql, params = [])=>{\n            console.warn('Using legacy getConnection.query - consider migrating to Supabase client');\n            return {\n                rows: [],\n                rowCount: 0\n            };\n        },\n        release: ()=>console.log('Connection released')\n    };\n};\nconst transaction = async (callback)=>{\n    console.log('Starting Supabase transaction');\n    // Supabase handles transactions automatically\n    return await callback(supabase);\n};\nconst getRepairCategories = async ()=>{\n    if (!supabase) {\n        console.log('Mock getRepairCategories');\n        return [\n            {\n                id: \"101\",\n                name: \"Electronics\",\n                image: \"https://example.com/images/categories/electronics.png\",\n                manufacturers: [\n                    {\n                        id: \"2001\",\n                        name: \"Samsung\",\n                        image: \"https://example.com/images/manufacturers/samsung.png\",\n                        devices: [\n                            {\n                                id: \"3001\",\n                                name: \"Galaxy S21\",\n                                on_site_price: \"799.99\",\n                                pickup_price: \"749.99\",\n                                colors: [\n                                    {\n                                        id: \"1\",\n                                        name: \"Gold\",\n                                        code: \"\"\n                                    }\n                                ],\n                                image: \"https://example.com/images/devices/galaxy_s21.png\",\n                                problems: [\n                                    {\n                                        id: \"4001\",\n                                        name: \"Screen Replacement\",\n                                        retail_price: \"299.99\",\n                                        sale_price: \"249.99\",\n                                        image: \"https://example.com/images/problems/screen_replacement.png\"\n                                    }\n                                ]\n                            }\n                        ]\n                    }\n                ]\n            }\n        ];\n    }\n    // In production, query the database for the nested structure\n    // This would require tables for categories, manufacturers, devices, colors, problems\n    // For now, return empty array or implement database queries as needed\n    const { data, error } = await supabase.from('repair_categories').select(`\n      *,\n      manufacturers (\n        *,\n        devices (\n          *,\n          colors (*),\n          problems (*)\n        )\n      )\n    `);\n    if (error) {\n        console.error('Error getting repair categories:', error);\n        throw error;\n    }\n    return data;\n};\nconst getDevices = async ()=>{\n    if (!supabase) {\n        console.log('Mock getDevices');\n        return [\n            {\n                id: \"604307\",\n                name: \"Iphone 15\",\n                manufacturer_id: \"1003\",\n                company: \"Apple\",\n                sort: \"0\",\n                image: \"https://example.com/images/productTheme/devices/small/good_apple.jpg\",\n                colors: [\n                    \"Gold\"\n                ]\n            }\n        ];\n    }\n    // In production, query the devices table\n    const { data, error } = await supabase.from('devices').select('*').order('sort');\n    if (error) {\n        console.error('Error getting devices:', error);\n        throw error;\n    }\n    return data;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    supabase,\n    query,\n    getConnection,\n    transaction,\n    createUser,\n    getUserByEmail,\n    getUserById,\n    updateUser,\n    pool,\n    getCategoryBySlug,\n    getCategories,\n    getProducts,\n    getProductBySlug,\n    getCart,\n    createCart,\n    addToCart,\n    createOrder,\n    getUserOrders,\n    getRepairCategories,\n    getDevices\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJBQ0Q7WUFDSDtTQUNEO0lBQ0g7SUFFQSw2REFBNkQ7SUFDN0QscUZBQXFGO0lBQ3JGLHNFQUFzRTtJQUN0RSxNQUFNLEVBQUVoRSxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU0xQixTQUMzQlEsSUFBSSxDQUFDLHFCQUNMQyxNQUFNLENBQUMsQ0FBQzs7Ozs7Ozs7OztJQVVULENBQUM7SUFFSCxJQUFJaUIsT0FBTztRQUNUNUIsUUFBUTRCLEtBQUssQ0FBQyxvQ0FBb0NBO1FBQ2xELE1BQU1BO0lBQ1I7SUFFQSxPQUFPRDtBQUNULEVBQUU7QUFFSyxNQUFNeUUsYUFBYTtJQUN4QixJQUFJLENBQUNsRyxVQUFVO1FBQ2JGLFFBQVFNLEdBQUcsQ0FBQztRQUNaLE9BQU87WUFDTDtnQkFDRTBCLElBQUk7Z0JBQ0pLLE1BQU07Z0JBQ05nRSxpQkFBaUI7Z0JBQ2pCQyxTQUFTO2dCQUNUQyxNQUFNO2dCQUNOWixPQUFPO2dCQUNQSyxRQUFRO29CQUNOO2lCQUNEO1lBQ0g7U0FDRDtJQUNIO0lBRUEseUNBQXlDO0lBQ3pDLE1BQU0sRUFBRXJFLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTTFCLFNBQzNCUSxJQUFJLENBQUMsV0FDTEMsTUFBTSxDQUFDLEtBQ1BZLEtBQUssQ0FBQztJQUVULElBQUlLLE9BQU87UUFDVDVCLFFBQVE0QixLQUFLLENBQUMsMEJBQTBCQTtRQUN4QyxNQUFNQTtJQUNSO0lBRUEsT0FBT0Q7QUFDVCxFQUFFO0FBRUYsaUVBQWU7SUFDYnpCO0lBQ0FDO0lBQ0FvRjtJQUNBQztJQUNBMUQ7SUFDQVU7SUFDQUc7SUFDQUM7SUFDQXNDO0lBQ0FsQztJQUNBRjtJQUNBSTtJQUNBVztJQUNBQztJQUNBSTtJQUNBSTtJQUNBUztJQUNBRTtJQUNBUztJQUNBVTtBQUNGLENBQUMsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2FwcGxlL0Rlc2t0b3AvV2Vic2l0ZXMgQ29kZS9OZXh1c1RlY2hIdWIuY29tL2xpYi9kYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBEYXRhYmFzZSBjb25uZWN0aW9uIGZvciBOZXh1cyBUZWNoSHViIHVzaW5nIFN1cGFiYXNlXG4vLyBQcm92aWRlcyBkYXRhYmFzZSBjb25uZWN0aW9uIGFuZCBxdWVyeSBoZWxwZXJzXG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5cbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xuY29uc3Qgc3VwYWJhc2VLZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcblxuLy8gQ2hlY2sgaWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQgbW9kZSBhbmQgaGFuZGxlIG1pc3NpbmcgZW52IHZhcnMgZ3JhY2VmdWxseVxuY29uc3QgaXNEZXZlbG9wbWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnO1xuXG5pZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUtleSkge1xuICBpZiAoIWlzRGV2ZWxvcG1lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgU3VwYWJhc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzLiBQbGVhc2Ugc2V0IE5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCBhbmQgTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgaW4geW91ciAuZW52IGZpbGUnKTtcbiAgfVxuICBjb25zb2xlLndhcm4oJ+KaoO+4jyAgU3VwYWJhc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzIG5vdCBmb3VuZC4gUnVubmluZyBpbiBkZXZlbG9wbWVudCBtb2RlIHdpdGggbW9jayBkYXRhLicpO1xufVxuXG4vLyBDcmVhdGUgU3VwYWJhc2UgY2xpZW50IG9ubHkgaWYgZW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSBhdmFpbGFibGVcbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IChzdXBhYmFzZVVybCAmJiBzdXBhYmFzZUtleSkgPyBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlS2V5KSA6IG51bGw7XG5cbi8vIERhdGFiYXNlIHF1ZXJ5IGhlbHBlclxuZXhwb3J0IGNvbnN0IHF1ZXJ5ID0gYXN5bmMgKHRhYmxlLCBvcHRpb25zID0ge30pID0+IHtcbiAgLy8gUmV0dXJuIG1vY2sgZGF0YSBpZiBTdXBhYmFzZSBpcyBub3QgYXZhaWxhYmxlIChkZXZlbG9wbWVudCBtb2RlKVxuICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgY29uc29sZS5sb2coYE1vY2sgcXVlcnk6ICR7dGFibGV9YCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHsgcm93czogW10sIHJvd0NvdW50OiAwIH07XG4gIH1cblxuICBsZXQgcXVlcnlCdWlsZGVyID0gc3VwYWJhc2UuZnJvbSh0YWJsZSkuc2VsZWN0KG9wdGlvbnMuc2VsZWN0IHx8ICcqJyk7XG5cbiAgaWYgKG9wdGlvbnMuZmlsdGVycykge1xuICAgIE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuZmlsdGVycykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcXVlcnlCdWlsZGVyID0gcXVlcnlCdWlsZGVyLmluKGtleSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVlcnlCdWlsZGVyID0gcXVlcnlCdWlsZGVyLmVxKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMub3JkZXJCeSkge1xuICAgIHF1ZXJ5QnVpbGRlciA9IHF1ZXJ5QnVpbGRlci5vcmRlcihvcHRpb25zLm9yZGVyQnkuY29sdW1uLCB7IGFzY2VuZGluZzogb3B0aW9ucy5vcmRlckJ5LmFzY2VuZGluZyB9KTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmxpbWl0KSB7XG4gICAgcXVlcnlCdWlsZGVyID0gcXVlcnlCdWlsZGVyLmxpbWl0KG9wdGlvbnMubGltaXQpO1xuICB9XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnlCdWlsZGVyO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIHF1ZXJ5IGVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuXG4gIHJldHVybiB7IHJvd3M6IGRhdGEsIHJvd0NvdW50OiBkYXRhPy5sZW5ndGggfHwgMCB9O1xufTtcblxuLy8gVXNlciBtYW5hZ2VtZW50IGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVVzZXIgPSBhc3luYyAodXNlckRhdGEpID0+IHtcbiAgaWYgKCFzdXBhYmFzZSkge1xuICAgIGNvbnNvbGUubG9nKCdNb2NrIGNyZWF0ZVVzZXI6JywgdXNlckRhdGEpO1xuICAgIHJldHVybiB7IGlkOiAnbW9jay11c2VyLWlkJywgLi4udXNlckRhdGEgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnblVwKHtcbiAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXG4gICAgcGFzc3dvcmQ6IHVzZXJEYXRhLnBhc3N3b3JkLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICAgICAgcGhvbmU6IHVzZXJEYXRhLnBob25lLFxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cblxuICByZXR1cm4gZGF0YS51c2VyO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFVzZXJCeUVtYWlsID0gYXN5bmMgKGVtYWlsKSA9PiB7XG4gIGlmICghc3VwYWJhc2UpIHtcbiAgICBjb25zb2xlLmxvZygnTW9jayBnZXRVc2VyQnlFbWFpbDonLCBlbWFpbCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgLnNlbGVjdCgnKicpXG4gICAgLmVxKCdlbWFpbCcsIGVtYWlsKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IgJiYgZXJyb3IuY29kZSAhPT0gJ1BHUlNUMTE2Jykge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBieSBlbWFpbDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyQnlJZCA9IGFzeW5jIChpZCkgPT4ge1xuICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgY29uc29sZS5sb2coJ01vY2sgZ2V0VXNlckJ5SWQ6JywgaWQpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgIC5zZWxlY3QoJyonKVxuICAgIC5lcSgnaWQnLCBpZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yICYmIGVycm9yLmNvZGUgIT09ICdQR1JTVDExNicpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzZXIgYnkgSUQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlciA9IGFzeW5jIChpZCwgdXNlckRhdGEpID0+IHtcbiAgaWYgKCFzdXBhYmFzZSkge1xuICAgIGNvbnNvbGUubG9nKCdNb2NrIHVwZGF0ZVVzZXI6JywgaWQsIHVzZXJEYXRhKTtcbiAgICByZXR1cm4geyBpZCwgLi4udXNlckRhdGEgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAudXBkYXRlKHVzZXJEYXRhKVxuICAgIC5lcSgnaWQnLCBpZClcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn07XG5cbi8vIENhdGVnb3J5IGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IGdldENhdGVnb3JpZXMgPSBhc3luYyAoKSA9PiB7XG4gIGlmICghc3VwYWJhc2UpIHtcbiAgICBjb25zb2xlLmxvZygnTW9jayBnZXRDYXRlZ29yaWVzJyk7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgaWQ6IDEsIG5hbWU6ICdpUGhvbmUgUGFydHMnLCBzbHVnOiAnaXBob25lLXBhcnRzJyB9LFxuICAgICAgeyBpZDogMiwgbmFtZTogJ1NhbXN1bmcgUGFydHMnLCBzbHVnOiAnc2Ftc3VuZy1wYXJ0cycgfSxcbiAgICAgIHsgaWQ6IDMsIG5hbWU6ICdpUGFkIFBhcnRzJywgc2x1ZzogJ2lwYWQtcGFydHMnIH0sXG4gICAgICB7IGlkOiA0LCBuYW1lOiAnVG9vbHMnLCBzbHVnOiAndG9vbHMnIH1cbiAgICBdO1xuICB9XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnY2F0ZWdvcmllcycpXG4gICAgLnNlbGVjdCgnKicpXG4gICAgLm9yZGVyKCduYW1lJyk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBjYXRlZ29yaWVzOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENhdGVnb3J5QnlTbHVnID0gYXN5bmMgKHNsdWcpID0+IHtcbiAgaWYgKCFzdXBhYmFzZSkge1xuICAgIGNvbnNvbGUubG9nKCdNb2NrIGdldENhdGVnb3J5QnlTbHVnOicsIHNsdWcpO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogMSxcbiAgICAgIG5hbWU6ICdpUGhvbmUgUGFydHMnLFxuICAgICAgc2x1ZyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaC1xdWFsaXR5IGlQaG9uZSByZXBsYWNlbWVudCBwYXJ0cydcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnY2F0ZWdvcmllcycpXG4gICAgLnNlbGVjdCgnKicpXG4gICAgLmVxKCdzbHVnJywgc2x1ZylcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yICYmIGVycm9yLmNvZGUgIT09ICdQR1JTVDExNicpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGNhdGVnb3J5IGJ5IHNsdWc6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG4vLyBQcm9kdWN0IGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RzID0gYXN5bmMgKGZpbHRlcnMgPSB7fSkgPT4ge1xuICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgY29uc29sZS5sb2coJ01vY2sgZ2V0UHJvZHVjdHM6JywgZmlsdGVycyk7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIG5hbWU6ICdpUGhvbmUgMTUgUHJvIFNjcmVlbicsXG4gICAgICAgIHNsdWc6ICdpcGhvbmUtMTUtcHJvLXNjcmVlbicsXG4gICAgICAgIHByaWNlOiAyOTkuOTksXG4gICAgICAgIGNhdGVnb3JpZXM6IHsgbmFtZTogJ2lQaG9uZSBQYXJ0cycsIHNsdWc6ICdpcGhvbmUtcGFydHMnIH0sXG4gICAgICAgIHByb2R1Y3RfaW1hZ2VzOiBbeyBpbWFnZV91cmw6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU1ODYxODY2Ni1mY2QyNWM4NWNkNjQ/dz0zMDAmaD0yMDAmZml0PWNyb3AnLCBpc19wcmltYXJ5OiB0cnVlIH1dLFxuICAgICAgICBpc19mZWF0dXJlZDogdHJ1ZSxcbiAgICAgICAgaXNfbmV3OiB0cnVlXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogMixcbiAgICAgICAgbmFtZTogJ1NhbXN1bmcgUzI0IEJhdHRlcnknLFxuICAgICAgICBzbHVnOiAnc2Ftc3VuZy1zMjQtYmF0dGVyeScsXG4gICAgICAgIHByaWNlOiA4OS45OSxcbiAgICAgICAgY2F0ZWdvcmllczogeyBuYW1lOiAnU2Ftc3VuZyBQYXJ0cycsIHNsdWc6ICdzYW1zdW5nLXBhcnRzJyB9LFxuICAgICAgICBwcm9kdWN0X2ltYWdlczogW3sgaW1hZ2VfdXJsOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1OTI4OTk2Nzc5NzctOWMxMGNhNTg4YmJkP3c9MzAwJmg9MjAwJmZpdD1jcm9wJywgaXNfcHJpbWFyeTogdHJ1ZSB9XSxcbiAgICAgICAgaXNfZmVhdHVyZWQ6IGZhbHNlLFxuICAgICAgICBpc19uZXc6IHRydWVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAzLFxuICAgICAgICBuYW1lOiAnaVBhZCBQcm8gMTIuOVwiIFNjcmVlbicsXG4gICAgICAgIHNsdWc6ICdpcGFkLXByby0xMi05LXNjcmVlbicsXG4gICAgICAgIHByaWNlOiAzOTkuOTksXG4gICAgICAgIGNhdGVnb3JpZXM6IHsgbmFtZTogJ2lQYWQgUGFydHMnLCBzbHVnOiAnaXBhZC1wYXJ0cycgfSxcbiAgICAgICAgcHJvZHVjdF9pbWFnZXM6IFt7IGltYWdlX3VybDogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTE5Mzg5OTUwNDczLTQ3YmEwMjc3NzgxYz93PTMwMCZoPTIwMCZmaXQ9Y3JvcCcsIGlzX3ByaW1hcnk6IHRydWUgfV0sXG4gICAgICAgIGlzX2ZlYXR1cmVkOiB0cnVlLFxuICAgICAgICBpc19uZXc6IGZhbHNlXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogNCxcbiAgICAgICAgbmFtZTogJ1Byb2Zlc3Npb25hbCBSZXBhaXIgS2l0JyxcbiAgICAgICAgc2x1ZzogJ3Byb2Zlc3Npb25hbC1yZXBhaXIta2l0JyxcbiAgICAgICAgcHJpY2U6IDE0OS45OSxcbiAgICAgICAgY2F0ZWdvcmllczogeyBuYW1lOiAnVG9vbHMnLCBzbHVnOiAndG9vbHMnIH0sXG4gICAgICAgIHByb2R1Y3RfaW1hZ2VzOiBbeyBpbWFnZV91cmw6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU4MTA5MTIyNjgyNS1hNmEyYTVhZWUxNTg/dz0zMDAmaD0yMDAmZml0PWNyb3AnLCBpc19wcmltYXJ5OiB0cnVlIH1dLFxuICAgICAgICBpc19mZWF0dXJlZDogdHJ1ZSxcbiAgICAgICAgaXNfbmV3OiBmYWxzZVxuICAgICAgfVxuICAgIF07XG4gIH1cblxuICBsZXQgcXVlcnlCdWlsZGVyID0gc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvZHVjdHMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgKixcbiAgICAgIGNhdGVnb3JpZXMgKFxuICAgICAgICBuYW1lLFxuICAgICAgICBzbHVnXG4gICAgICApLFxuICAgICAgcHJvZHVjdF9pbWFnZXMgKFxuICAgICAgICBpbWFnZV91cmwsXG4gICAgICAgIGlzX3ByaW1hcnlcbiAgICAgIClcbiAgICBgKTtcblxuICBpZiAoZmlsdGVycy5jYXRlZ29yeSkge1xuICAgIHF1ZXJ5QnVpbGRlciA9IHF1ZXJ5QnVpbGRlci5lcSgnY2F0ZWdvcnlfaWQnLCBmaWx0ZXJzLmNhdGVnb3J5KTtcbiAgfVxuXG4gIGlmIChmaWx0ZXJzLmlzX2ZlYXR1cmVkKSB7XG4gICAgcXVlcnlCdWlsZGVyID0gcXVlcnlCdWlsZGVyLmVxKCdpc19mZWF0dXJlZCcsIHRydWUpO1xuICB9XG5cbiAgaWYgKGZpbHRlcnMuaXNfbmV3KSB7XG4gICAgcXVlcnlCdWlsZGVyID0gcXVlcnlCdWlsZGVyLmVxKCdpc19uZXcnLCB0cnVlKTtcbiAgfVxuXG4gIGlmIChmaWx0ZXJzLnNlYXJjaCkge1xuICAgIHF1ZXJ5QnVpbGRlciA9IHF1ZXJ5QnVpbGRlci5pbGlrZSgnbmFtZScsIGAlJHtmaWx0ZXJzLnNlYXJjaH0lYCk7XG4gIH1cblxuICBpZiAoZmlsdGVycy5saW1pdCkge1xuICAgIHF1ZXJ5QnVpbGRlciA9IHF1ZXJ5QnVpbGRlci5saW1pdChmaWx0ZXJzLmxpbWl0KTtcbiAgfVxuXG4gIHF1ZXJ5QnVpbGRlciA9IHF1ZXJ5QnVpbGRlci5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeUJ1aWxkZXI7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBwcm9kdWN0czonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0QnlTbHVnID0gYXN5bmMgKHNsdWcpID0+IHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvZHVjdHMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgKixcbiAgICAgIGNhdGVnb3JpZXMgKFxuICAgICAgICBuYW1lLFxuICAgICAgICBzbHVnXG4gICAgICApLFxuICAgICAgcHJvZHVjdF9pbWFnZXMgKFxuICAgICAgICBpbWFnZV91cmwsXG4gICAgICAgIGlzX3ByaW1hcnksXG4gICAgICAgIGRpc3BsYXlfb3JkZXJcbiAgICAgICksXG4gICAgICBwcm9kdWN0X3NwZWNpZmljYXRpb25zICgqKSxcbiAgICAgIHByb2R1Y3RfdmFyaWFudHMgKCopLFxuICAgICAgcmV2aWV3cyAoXG4gICAgICAgIHJhdGluZyxcbiAgICAgICAgY29tbWVudCxcbiAgICAgICAgY3JlYXRlZF9hdCxcbiAgICAgICAgcHJvZmlsZXMgKFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgKVxuICAgICAgKVxuICAgIGApXG4gICAgLmVxKCdzbHVnJywgc2x1ZylcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yICYmIGVycm9yLmNvZGUgIT09ICdQR1JTVDExNicpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHByb2R1Y3QgYnkgc2x1ZzonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn07XG5cbi8vIENhcnQgZnVuY3Rpb25zXG5leHBvcnQgY29uc3QgZ2V0Q2FydCA9IGFzeW5jICh1c2VySWQsIHNlc3Npb25JZCkgPT4ge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdjYXJ0cycpXG4gICAgLnNlbGVjdChgXG4gICAgICAqLFxuICAgICAgY2FydF9pdGVtcyAoXG4gICAgICAgICosXG4gICAgICAgIHByb2R1Y3RzIChcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIHByaWNlLFxuICAgICAgICAgIGltYWdlX3VybFxuICAgICAgICApXG4gICAgICApXG4gICAgYClcbiAgICAub3IoYHVzZXJfaWQuZXEuJHt1c2VySWR9LHNlc3Npb25faWQuZXEuJHtzZXNzaW9uSWR9YClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yICYmIGVycm9yLmNvZGUgIT09ICdQR1JTVDExNicpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGNhcnQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ2FydCA9IGFzeW5jICh1c2VySWQsIHNlc3Npb25JZCkgPT4ge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdjYXJ0cycpXG4gICAgLmluc2VydCh7IHVzZXJfaWQ6IHVzZXJJZCwgc2Vzc2lvbl9pZDogc2Vzc2lvbklkIH0pXG4gICAgLnNlbGVjdCgpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGNhcnQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgYWRkVG9DYXJ0ID0gYXN5bmMgKGNhcnRJZCwgcHJvZHVjdElkLCBxdWFudGl0eSA9IDEpID0+IHtcbiAgY29uc3QgeyBkYXRhOiBwcm9kdWN0LCBlcnJvcjogcHJvZHVjdEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdwcm9kdWN0cycpXG4gICAgLnNlbGVjdCgncHJpY2UnKVxuICAgIC5lcSgnaWQnLCBwcm9kdWN0SWQpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChwcm9kdWN0RXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHByb2R1Y3QgcHJpY2U6JywgcHJvZHVjdEVycm9yKTtcbiAgICB0aHJvdyBwcm9kdWN0RXJyb3I7XG4gIH1cblxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdjYXJ0X2l0ZW1zJylcbiAgICAuaW5zZXJ0KHtcbiAgICAgIGNhcnRfaWQ6IGNhcnRJZCxcbiAgICAgIHByb2R1Y3RfaWQ6IHByb2R1Y3RJZCxcbiAgICAgIHF1YW50aXR5LFxuICAgICAgcHJpY2VfYXRfYWRkaXRpb246IHByb2R1Y3QucHJpY2VcbiAgICB9KVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgdG8gY2FydDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn07XG5cbi8vIE9yZGVyIGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU9yZGVyID0gYXN5bmMgKG9yZGVyRGF0YSkgPT4ge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdvcmRlcnMnKVxuICAgIC5pbnNlcnQob3JkZXJEYXRhKVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBvcmRlcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyT3JkZXJzID0gYXN5bmMgKHVzZXJJZCkgPT4ge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdvcmRlcnMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgKixcbiAgICAgIG9yZGVyX2l0ZW1zIChcbiAgICAgICAgKixcbiAgICAgICAgcHJvZHVjdHMgKFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgaW1hZ2VfdXJsXG4gICAgICAgIClcbiAgICAgIClcbiAgICBgKVxuICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIG9yZGVyczonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn07XG5cbi8vIExlZ2FjeSBwb29sIGludGVyZmFjZSBmb3IgY29tcGF0aWJpbGl0eVxuZXhwb3J0IGNvbnN0IHBvb2wgPSB7XG4gIHF1ZXJ5OiBhc3luYyAoc3FsLCBwYXJhbXMgPSBbXSkgPT4ge1xuICAgIGNvbnNvbGUud2FybignVXNpbmcgbGVnYWN5IHBvb2wucXVlcnkgLSBjb25zaWRlciBtaWdyYXRpbmcgdG8gU3VwYWJhc2UgY2xpZW50Jyk7XG4gICAgLy8gVGhpcyBpcyBhIHNpbXBsaWZpZWQgaW1wbGVtZW50YXRpb24gLSBpbiBwcm9kdWN0aW9uIHlvdSdkIG5lZWQgcHJvcGVyIFNRTCBwYXJzaW5nXG4gICAgcmV0dXJuIHsgcm93czogW10sIHJvd0NvdW50OiAwIH07XG4gIH0sXG4gIGNvbm5lY3Q6IGFzeW5jICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnU3VwYWJhc2UgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCcpO1xuICAgIHJldHVybiB7XG4gICAgICBxdWVyeTogYXN5bmMgKHNxbCwgcGFyYW1zID0gW10pID0+IHtcbiAgICAgICAgY29uc29sZS53YXJuKCdVc2luZyBsZWdhY3kgY29ubmVjdGlvbi5xdWVyeSAtIGNvbnNpZGVyIG1pZ3JhdGluZyB0byBTdXBhYmFzZSBjbGllbnQnKTtcbiAgICAgICAgcmV0dXJuIHsgcm93czogW10sIHJvd0NvdW50OiAwIH07XG4gICAgICB9LFxuICAgICAgcmVsZWFzZTogKCkgPT4gY29uc29sZS5sb2coJ0Nvbm5lY3Rpb24gcmVsZWFzZWQnKVxuICAgIH07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnR2V0dGluZyBTdXBhYmFzZSBjb25uZWN0aW9uJyk7XG4gIHJldHVybiB7XG4gICAgcXVlcnk6IGFzeW5jIChzcWwsIHBhcmFtcyA9IFtdKSA9PiB7XG4gICAgICBjb25zb2xlLndhcm4oJ1VzaW5nIGxlZ2FjeSBnZXRDb25uZWN0aW9uLnF1ZXJ5IC0gY29uc2lkZXIgbWlncmF0aW5nIHRvIFN1cGFiYXNlIGNsaWVudCcpO1xuICAgICAgcmV0dXJuIHsgcm93czogW10sIHJvd0NvdW50OiAwIH07XG4gICAgfSxcbiAgICByZWxlYXNlOiAoKSA9PiBjb25zb2xlLmxvZygnQ29ubmVjdGlvbiByZWxlYXNlZCcpXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgdHJhbnNhY3Rpb24gPSBhc3luYyAoY2FsbGJhY2spID0+IHtcbiAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIFN1cGFiYXNlIHRyYW5zYWN0aW9uJyk7XG4gIC8vIFN1cGFiYXNlIGhhbmRsZXMgdHJhbnNhY3Rpb25zIGF1dG9tYXRpY2FsbHlcbiAgcmV0dXJuIGF3YWl0IGNhbGxiYWNrKHN1cGFiYXNlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRSZXBhaXJDYXRlZ29yaWVzID0gYXN5bmMgKCkgPT4ge1xuICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgY29uc29sZS5sb2coJ01vY2sgZ2V0UmVwYWlyQ2F0ZWdvcmllcycpO1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIGlkOiBcIjEwMVwiLFxuICAgICAgICBuYW1lOiBcIkVsZWN0cm9uaWNzXCIsXG4gICAgICAgIGltYWdlOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2VzL2NhdGVnb3JpZXMvZWxlY3Ryb25pY3MucG5nXCIsXG4gICAgICAgIG1hbnVmYWN0dXJlcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogXCIyMDAxXCIsXG4gICAgICAgICAgICBuYW1lOiBcIlNhbXN1bmdcIixcbiAgICAgICAgICAgIGltYWdlOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2VzL21hbnVmYWN0dXJlcnMvc2Ftc3VuZy5wbmdcIixcbiAgICAgICAgICAgIGRldmljZXM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiBcIjMwMDFcIixcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkdhbGF4eSBTMjFcIixcbiAgICAgICAgICAgICAgICBvbl9zaXRlX3ByaWNlOiBcIjc5OS45OVwiLFxuICAgICAgICAgICAgICAgIHBpY2t1cF9wcmljZTogXCI3NDkuOTlcIixcbiAgICAgICAgICAgICAgICBjb2xvcnM6IFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkdvbGRcIixcbiAgICAgICAgICAgICAgICAgICAgY29kZTogXCJcIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgaW1hZ2U6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZXMvZGV2aWNlcy9nYWxheHlfczIxLnBuZ1wiLFxuICAgICAgICAgICAgICAgIHByb2JsZW1zOiBbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcIjQwMDFcIixcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTY3JlZW4gUmVwbGFjZW1lbnRcIixcbiAgICAgICAgICAgICAgICAgICAgcmV0YWlsX3ByaWNlOiBcIjI5OS45OVwiLFxuICAgICAgICAgICAgICAgICAgICBzYWxlX3ByaWNlOiBcIjI0OS45OVwiLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogXCJodHRwczovL2V4YW1wbGUuY29tL2ltYWdlcy9wcm9ibGVtcy9zY3JlZW5fcmVwbGFjZW1lbnQucG5nXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgLy8gSW4gcHJvZHVjdGlvbiwgcXVlcnkgdGhlIGRhdGFiYXNlIGZvciB0aGUgbmVzdGVkIHN0cnVjdHVyZVxuICAvLyBUaGlzIHdvdWxkIHJlcXVpcmUgdGFibGVzIGZvciBjYXRlZ29yaWVzLCBtYW51ZmFjdHVyZXJzLCBkZXZpY2VzLCBjb2xvcnMsIHByb2JsZW1zXG4gIC8vIEZvciBub3csIHJldHVybiBlbXB0eSBhcnJheSBvciBpbXBsZW1lbnQgZGF0YWJhc2UgcXVlcmllcyBhcyBuZWVkZWRcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncmVwYWlyX2NhdGVnb3JpZXMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgKixcbiAgICAgIG1hbnVmYWN0dXJlcnMgKFxuICAgICAgICAqLFxuICAgICAgICBkZXZpY2VzIChcbiAgICAgICAgICAqLFxuICAgICAgICAgIGNvbG9ycyAoKiksXG4gICAgICAgICAgcHJvYmxlbXMgKCopXG4gICAgICAgIClcbiAgICAgIClcbiAgICBgKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHJlcGFpciBjYXRlZ29yaWVzOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldERldmljZXMgPSBhc3luYyAoKSA9PiB7XG4gIGlmICghc3VwYWJhc2UpIHtcbiAgICBjb25zb2xlLmxvZygnTW9jayBnZXREZXZpY2VzJyk7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgaWQ6IFwiNjA0MzA3XCIsXG4gICAgICAgIG5hbWU6IFwiSXBob25lIDE1XCIsXG4gICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCIxMDAzXCIsXG4gICAgICAgIGNvbXBhbnk6IFwiQXBwbGVcIixcbiAgICAgICAgc29ydDogXCIwXCIsXG4gICAgICAgIGltYWdlOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2VzL3Byb2R1Y3RUaGVtZS9kZXZpY2VzL3NtYWxsL2dvb2RfYXBwbGUuanBnXCIsXG4gICAgICAgIGNvbG9yczogW1xuICAgICAgICAgIFwiR29sZFwiXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgLy8gSW4gcHJvZHVjdGlvbiwgcXVlcnkgdGhlIGRldmljZXMgdGFibGVcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnZGV2aWNlcycpXG4gICAgLnNlbGVjdCgnKicpXG4gICAgLm9yZGVyKCdzb3J0Jyk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBkZXZpY2VzOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzdXBhYmFzZSxcbiAgcXVlcnksXG4gIGdldENvbm5lY3Rpb24sXG4gIHRyYW5zYWN0aW9uLFxuICBjcmVhdGVVc2VyLFxuICBnZXRVc2VyQnlFbWFpbCxcbiAgZ2V0VXNlckJ5SWQsXG4gIHVwZGF0ZVVzZXIsXG4gIHBvb2wsXG4gIGdldENhdGVnb3J5QnlTbHVnLFxuICBnZXRDYXRlZ29yaWVzLFxuICBnZXRQcm9kdWN0cyxcbiAgZ2V0UHJvZHVjdEJ5U2x1ZyxcbiAgZ2V0Q2FydCxcbiAgY3JlYXRlQ2FydCxcbiAgYWRkVG9DYXJ0LFxuICBjcmVhdGVPcmRlcixcbiAgZ2V0VXNlck9yZGVycyxcbiAgZ2V0UmVwYWlyQ2F0ZWdvcmllcyxcbiAgZ2V0RGV2aWNlc1xufTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUtleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiaXNEZXZlbG9wbWVudCIsIkVycm9yIiwiY29uc29sZSIsIndhcm4iLCJzdXBhYmFzZSIsInF1ZXJ5IiwidGFibGUiLCJvcHRpb25zIiwibG9nIiwicm93cyIsInJvd0NvdW50IiwicXVlcnlCdWlsZGVyIiwiZnJvbSIsInNlbGVjdCIsImZpbHRlcnMiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwiaW4iLCJlcSIsIm9yZGVyQnkiLCJvcmRlciIsImNvbHVtbiIsImFzY2VuZGluZyIsImxpbWl0IiwiZGF0YSIsImVycm9yIiwibGVuZ3RoIiwiY3JlYXRlVXNlciIsInVzZXJEYXRhIiwiaWQiLCJhdXRoIiwic2lnblVwIiwiZW1haWwiLCJwYXNzd29yZCIsIm5hbWUiLCJwaG9uZSIsInVzZXIiLCJnZXRVc2VyQnlFbWFpbCIsInNpbmdsZSIsImNvZGUiLCJnZXRVc2VyQnlJZCIsInVwZGF0ZVVzZXIiLCJ1cGRhdGUiLCJnZXRDYXRlZ29yaWVzIiwic2x1ZyIsImdldENhdGVnb3J5QnlTbHVnIiwiZGVzY3JpcHRpb24iLCJnZXRQcm9kdWN0cyIsInByaWNlIiwiY2F0ZWdvcmllcyIsInByb2R1Y3RfaW1hZ2VzIiwiaW1hZ2VfdXJsIiwiaXNfcHJpbWFyeSIsImlzX2ZlYXR1cmVkIiwiaXNfbmV3IiwiY2F0ZWdvcnkiLCJzZWFyY2giLCJpbGlrZSIsImdldFByb2R1Y3RCeVNsdWciLCJnZXRDYXJ0IiwidXNlcklkIiwic2Vzc2lvbklkIiwib3IiLCJjcmVhdGVDYXJ0IiwiaW5zZXJ0IiwidXNlcl9pZCIsInNlc3Npb25faWQiLCJhZGRUb0NhcnQiLCJjYXJ0SWQiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsInByb2R1Y3QiLCJwcm9kdWN0RXJyb3IiLCJjYXJ0X2lkIiwicHJvZHVjdF9pZCIsInByaWNlX2F0X2FkZGl0aW9uIiwiY3JlYXRlT3JkZXIiLCJvcmRlckRhdGEiLCJnZXRVc2VyT3JkZXJzIiwicG9vbCIsInNxbCIsInBhcmFtcyIsImNvbm5lY3QiLCJyZWxlYXNlIiwiZ2V0Q29ubmVjdGlvbiIsInRyYW5zYWN0aW9uIiwiY2FsbGJhY2siLCJnZXRSZXBhaXJDYXRlZ29yaWVzIiwiaW1hZ2UiLCJtYW51ZmFjdHVyZXJzIiwiZGV2aWNlcyIsIm9uX3NpdGVfcHJpY2UiLCJwaWNrdXBfcHJpY2UiLCJjb2xvcnMiLCJwcm9ibGVtcyIsInJldGFpbF9wcmljZSIsInNhbGVfcHJpY2UiLCJnZXREZXZpY2VzIiwibWFudWZhY3R1cmVyX2lkIiwiY29tcGFueSIsInNvcnQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./lib/db.js\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_nextauth_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/auth/[...nextauth].js */ \"(api-node)/./pages/api/auth/[...nextauth].js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_nextauth_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_nextauth_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/[...nextauth]\",\n        pathname: \"/api/auth/[...nextauth]\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_auth_nextauth_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGYXV0aCUyRiU1Qi4uLm5leHRhdXRoJTVEJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDOEQ7QUFDOUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHdEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx3REFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0uanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/auth/[...nextauth].js":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/google */ \"next-auth/providers/google\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_auth_providers_email__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/email */ \"next-auth/providers/email\");\n/* harmony import */ var next_auth_providers_email__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_email__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n// Create fallback functions if imports fail\nconst dbFallback = {\n    query: async ()=>({\n            rows: []\n        }),\n    getUser: async ()=>null,\n    getUserByEmail: async ()=>null,\n    createUser: async ()=>({\n            id: 1\n        }),\n    updateUser: async ()=>({\n            id: 1\n        }),\n    getOrder: async ()=>null\n};\nconst twoFactorFallback = {\n    verify2FA: async ()=>true,\n    generate2FASecret: async ()=>({\n            secret: 'placeholder-secret',\n            qrCode: 'placeholder-qrcode'\n        }),\n    enable2FA: async ()=>true,\n    disable2FA: async ()=>true,\n    getUserTwoFactorSettings: async ()=>({\n            enabled: false,\n            email_enabled: false,\n            sms_enabled: false,\n            duo_enabled: false,\n            preferred_method: 'email'\n        })\n};\n// Try to import the real modules, fall back to the simple ones if they fail\nlet db, twoFactor;\ntry {\n    db = __webpack_require__(/*! ../../../lib/db */ \"(api-node)/./lib/db.js\");\n} catch (e) {\n    db = dbFallback;\n}\ntry {\n    twoFactor = __webpack_require__(/*! ../../../lib/2fa */ \"(api-node)/./lib/2fa.js\");\n} catch (e) {\n    twoFactor = twoFactorFallback;\n}\nconst { query } = db;\nconst { getUserTwoFactorSettings } = twoFactor;\n// Mock user for development\nconst MOCK_USER = {\n    id: '1',\n    name: 'Demo User',\n    email: 'demo@example.com',\n    image: '/images/avatar-placeholder.png',\n    first_name: 'Demo',\n    last_name: 'User',\n    email_verified: true\n};\nconst authOptions = {\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: 'Credentials',\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    // For development, allow any credentials to work with the mock user\n                    if (true) {\n                        // Using mock user for development\n                        return {\n                            id: MOCK_USER.id,\n                            name: MOCK_USER.name,\n                            email: MOCK_USER.email,\n                            image: MOCK_USER.image\n                        };\n                    }\n                    // Production code - find user by email\n                    const result = await query('SELECT * FROM users WHERE email = $1', [\n                        credentials.email\n                    ]);\n                    const user = result.rows[0];\n                    if (!user) {\n                        return null;\n                    }\n                    // Check password\n                    const passwordMatch = await bcrypt__WEBPACK_IMPORTED_MODULE_4___default().compare(credentials.password, user.password_hash);\n                    if (!passwordMatch) {\n                        return null;\n                    }\n                    // Check if 2FA is enabled\n                    const twoFactorSettings = await getUserTwoFactorSettings(user.id);\n                    if (twoFactorSettings?.enabled) {\n                        // Return user with requiresTwoFactor flag\n                        return {\n                            id: user.id,\n                            name: `${user.first_name || ''} ${user.last_name || ''}`.trim() || user.email.split('@')[0],\n                            email: user.email,\n                            image: user.image,\n                            requiresTwoFactor: true,\n                            twoFactorMethods: {\n                                email_enabled: twoFactorSettings.email_enabled,\n                                sms_enabled: twoFactorSettings.sms_enabled,\n                                duo_enabled: twoFactorSettings.duo_enabled,\n                                preferred_method: twoFactorSettings.preferred_method\n                            }\n                        };\n                    }\n                    // Return user object without password\n                    return {\n                        id: user.id,\n                        name: `${user.first_name || ''} ${user.last_name || ''}`.trim() || user.email.split('@')[0],\n                        email: user.email,\n                        image: user.image\n                    };\n                } catch (error) {\n                    console.error('Authentication error:', error);\n                    // For development, return mock user even if there's an error\n                    if (true) {\n                        // Using mock user due to authentication error\n                        return {\n                            id: MOCK_USER.id,\n                            name: MOCK_USER.name,\n                            email: MOCK_USER.email,\n                            image: MOCK_USER.image\n                        };\n                    }\n                    return null;\n                }\n            }\n        }),\n        // 2FA completion provider\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            id: '2fa-completion',\n            name: '2FA Completion',\n            credentials: {\n                userId: {\n                    label: \"User ID\",\n                    type: \"text\"\n                },\n                twoFactorVerified: {\n                    label: \"2FA Verified\",\n                    type: \"text\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    if (!credentials.userId || credentials.twoFactorVerified !== 'true') {\n                        return null;\n                    }\n                    // For development, use mock user\n                    if (true) {\n                        // Using mock user for 2FA completion\n                        return {\n                            id: MOCK_USER.id,\n                            name: MOCK_USER.name,\n                            email: MOCK_USER.email,\n                            image: MOCK_USER.image\n                        };\n                    }\n                    // Get user by ID\n                    const result = await query('SELECT * FROM users WHERE id = $1', [\n                        credentials.userId\n                    ]);\n                    const user = result.rows[0];\n                    if (!user) {\n                        return null;\n                    }\n                    // Return user object\n                    return {\n                        id: user.id,\n                        name: `${user.first_name || ''} ${user.last_name || ''}`.trim() || user.email.split('@')[0],\n                        email: user.email,\n                        image: user.image\n                    };\n                } catch (error) {\n                    console.error('2FA completion error:', error);\n                    // For development, return mock user even if there's an error\n                    if (true) {\n                        // Using mock user due to 2FA completion error\n                        return {\n                            id: MOCK_USER.id,\n                            name: MOCK_USER.name,\n                            email: MOCK_USER.email,\n                            image: MOCK_USER.image\n                        };\n                    }\n                    return null;\n                }\n            }\n        }),\n        next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2___default()({\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n            authorization: {\n                params: {\n                    prompt: \"consent\",\n                    access_type: \"offline\",\n                    response_type: \"code\"\n                }\n            }\n        }),\n        // Email Provider for Production\n        next_auth_providers_email__WEBPACK_IMPORTED_MODULE_3___default()({\n            server: {\n                host: process.env.EMAIL_SERVER_HOST || process.env.SMTP_HOST,\n                port: parseInt(process.env.EMAIL_SERVER_PORT || process.env.SMTP_PORT || '587'),\n                auth: {\n                    user: process.env.EMAIL_SERVER_USER || process.env.SMTP_USER,\n                    pass: process.env.EMAIL_SERVER_PASSWORD || process.env.SMTP_PASSWORD\n                }\n            },\n            from: process.env.EMAIL_FROM || 'noreply@nexustechhub.ae',\n            // Custom email template for UAE market\n            sendVerificationRequest: async ({ identifier: email, url, provider })=>{\n                const { host } = new URL(url);\n                const transport = (0,nodemailer__WEBPACK_IMPORTED_MODULE_5__.createTransport)(provider.server);\n                const brandColor = '#10b981';\n                const emailHtml = `\n          <body style=\"background: #f9fafb; font-family: Helvetica, Arial, sans-serif;\">\n            <table width=\"100%\" border=\"0\" cellspacing=\"20\" cellpadding=\"0\"\n              style=\"background: #fff; max-width: 600px; margin: auto; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\">\n              <tr>\n                <td align=\"center\" style=\"padding: 40px 20px 20px 20px;\">\n                  <img src=\"https://nexustechhub.netlify.app/images/nexus-logo.svg\" alt=\"Nexus TechHub\" style=\"height: 60px; margin-bottom: 20px;\">\n                  <h1 style=\"color: #1f2937; font-size: 24px; margin: 0;\">Welcome to Nexus TechHub</h1>\n                </td>\n              </tr>\n              <tr>\n                <td align=\"center\" style=\"padding: 0 20px 20px 20px;\">\n                  <p style=\"color: #6b7280; font-size: 16px; line-height: 24px; margin: 0 0 30px 0;\">\n                    Click the button below to sign in to your account and access premium mobile device parts.\n                  </p>\n                  <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n                    <tr>\n                      <td align=\"center\" style=\"border-radius: 8px;\" bgcolor=\"${brandColor}\">\n                        <a href=\"${url}\" target=\"_blank\"\n                          style=\"font-size: 18px; font-family: Helvetica, Arial, sans-serif; color: #fff; text-decoration: none; border-radius: 8px; padding: 15px 30px; border: 1px solid ${brandColor}; display: inline-block; font-weight: bold;\">\n                          Sign in to Your Account\n                        </a>\n                      </td>\n                    </tr>\n                  </table>\n                </td>\n              </tr>\n              <tr>\n                <td align=\"center\" style=\"padding: 0 20px 40px 20px;\">\n                  <div style=\"background: #f0fdf4; border: 1px solid #d1fae5; border-radius: 8px; padding: 20px; margin: 20px 0;\">\n                    <h3 style=\"color: #065f46; font-size: 16px; margin: 0 0 10px 0;\">🇦🇪 UAE's Premier Mobile Parts Store</h3>\n                    <ul style=\"color: #047857; font-size: 14px; margin: 0; padding-left: 20px; text-align: left;\">\n                      <li>Premium iPhone, Samsung & iPad parts</li>\n                      <li>Professional repair tools & equipment</li>\n                      <li>Fast shipping across UAE</li>\n                      <li>Expert technical support</li>\n                    </ul>\n                  </div>\n                  <p style=\"color: #9ca3af; font-size: 12px; line-height: 18px; margin: 20px 0 0 0;\">\n                    If you did not request this email, you can safely ignore it.<br>\n                    This link will expire in 24 hours for your security.\n                  </p>\n                </td>\n              </tr>\n              <tr>\n                <td align=\"center\" style=\"padding: 20px; background: #f9fafb; border-radius: 0 0 10px 10px;\">\n                  <p style=\"color: #6b7280; font-size: 12px; margin: 0;\">\n                    <strong>Nexus TechHub</strong><br>\n                    Ras Al Khaimah, United Arab Emirates<br>\n                    Phone: <a href=\"tel:+971585531029\" style=\"color: ${brandColor};\">+971 58 553 1029</a> |\n                    WhatsApp: <a href=\"https://wa.me/971585531029\" style=\"color: ${brandColor};\">Chat with us</a>\n                  </p>\n                </td>\n              </tr>\n            </table>\n          </body>\n        `;\n                await transport.sendMail({\n                    to: email,\n                    from: provider.from,\n                    subject: `Sign in to Nexus TechHub - UAE's Premier Mobile Parts Store`,\n                    text: `Sign in to Nexus TechHub\\n\\nClick here to sign in: ${url}\\n\\nIf you did not request this email, you can safely ignore it.\\n\\nNexus TechHub\\nRas Al Khaimah, UAE\\n+971 58 553 1029`,\n                    html: emailHtml\n                });\n            }\n        })\n    ],\n    pages: {\n        signIn: '/auth/signin',\n        signOut: '/auth/signout',\n        error: '/auth/error',\n        verifyRequest: '/auth/verify-request',\n        newUser: '/auth/new-user'\n    },\n    callbacks: {\n        async jwt ({ token, user, account }) {\n            if (user) {\n                token.id = user.id;\n                // Handle 2FA\n                if (user.requiresTwoFactor) {\n                    token.requiresTwoFactor = true;\n                    token.twoFactorMethods = user.twoFactorMethods;\n                }\n                // If using the 2FA completion provider, clear the requiresTwoFactor flag\n                if (account?.provider === '2fa-completion') {\n                    token.requiresTwoFactor = false;\n                    token.twoFactorMethods = undefined;\n                }\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            session.user.id = token.id;\n            // Add 2FA status to session\n            if (token.requiresTwoFactor) {\n                session.requiresTwoFactor = true;\n                session.twoFactorMethods = token.twoFactorMethods;\n            }\n            return session;\n        },\n        async redirect ({ url, baseUrl }) {\n            // Handle 2FA redirect\n            if (url.startsWith(`${baseUrl}/auth/2fa`)) {\n                return url;\n            }\n            // Default behavior\n            if (url.startsWith(baseUrl)) {\n                return url;\n            }\n            return baseUrl;\n        }\n    },\n    adapter: {\n        async createUser (user) {\n            // For development, return mock user\n            if (true) {\n                // Using mock user for createUser\n                return MOCK_USER;\n            }\n            const { name, email, image } = user;\n            // Split name into first_name and last_name if provided\n            let firstName = '';\n            let lastName = '';\n            if (name) {\n                const nameParts = name.trim().split(' ');\n                firstName = nameParts[0];\n                lastName = nameParts.length > 1 ? nameParts.slice(1).join(' ') : '';\n            }\n            try {\n                const result = await query('INSERT INTO users (first_name, last_name, email, image) VALUES ($1, $2, $3, $4) RETURNING id, first_name, last_name, email, image', [\n                    firstName,\n                    lastName,\n                    email,\n                    image\n                ]);\n                const newUser = result.rows[0];\n                return {\n                    ...newUser,\n                    name: `${newUser.first_name || ''} ${newUser.last_name || ''}`.trim() || email.split('@')[0]\n                };\n            } catch (error) {\n                console.error('Error creating user:', error);\n                if (true) {\n                    return MOCK_USER;\n                }\n                throw error;\n            }\n        },\n        async getUser (id) {\n            // For development, return mock user if ID matches\n            if ( true && id === MOCK_USER.id) {\n                // Using mock user for getUser\n                return MOCK_USER;\n            }\n            try {\n                const result = await query('SELECT id, first_name, last_name, email, email_verified, image FROM users WHERE id = $1', [\n                    id\n                ]);\n                if (!result.rows[0]) {\n                    if (true) {\n                        return MOCK_USER;\n                    }\n                    return null;\n                }\n                const user = result.rows[0];\n                return {\n                    ...user,\n                    name: `${user.first_name || ''} ${user.last_name || ''}`.trim() || user.email.split('@')[0]\n                };\n            } catch (error) {\n                console.error('Error getting user:', error);\n                if (true) {\n                    return MOCK_USER;\n                }\n                return null;\n            }\n        },\n        async getUserByEmail (email) {\n            // For development, return mock user if email matches\n            if ( true && (email === MOCK_USER.email || email === 'demo@example.com' || email === 'test@example.com')) {\n                // Using mock user for getUserByEmail\n                return MOCK_USER;\n            }\n            try {\n                const result = await query('SELECT id, first_name, last_name, email, email_verified, image FROM users WHERE email = $1', [\n                    email\n                ]);\n                if (!result.rows[0]) {\n                    if (true) {\n                        return MOCK_USER;\n                    }\n                    return null;\n                }\n                const user = result.rows[0];\n                return {\n                    ...user,\n                    name: `${user.first_name || ''} ${user.last_name || ''}`.trim() || user.email.split('@')[0]\n                };\n            } catch (error) {\n                console.error('Error getting user by email:', error);\n                if (true) {\n                    return MOCK_USER;\n                }\n                return null;\n            }\n        },\n        async getUserByAccount ({ provider, providerAccountId }) {\n            // For development, return mock user\n            if (true) {\n                // Using mock user for getUserByAccount\n                return MOCK_USER;\n            }\n            try {\n                const result = await query(`SELECT u.id, u.first_name, u.last_name, u.email, u.email_verified, u.image\n           FROM users u\n           JOIN accounts a ON u.id = a.user_id\n           WHERE a.provider_id = $1 AND a.provider_account_id = $2`, [\n                    provider,\n                    providerAccountId\n                ]);\n                if (!result.rows[0]) return null;\n                const user = result.rows[0];\n                return {\n                    ...user,\n                    name: `${user.first_name || ''} ${user.last_name || ''}`.trim() || user.email.split('@')[0]\n                };\n            } catch (error) {\n                console.error('Error getting user by account:', error);\n                if (true) {\n                    return MOCK_USER;\n                }\n                return null;\n            }\n        },\n        async updateUser (user) {\n            // For development, return mock user\n            if (true) {\n                // Using mock user for updateUser\n                return {\n                    ...MOCK_USER,\n                    ...user\n                };\n            }\n            const { id, name, email, image } = user;\n            // Split name into first_name and last_name if provided\n            let firstName = '';\n            let lastName = '';\n            if (name) {\n                const nameParts = name.trim().split(' ');\n                firstName = nameParts[0];\n                lastName = nameParts.length > 1 ? nameParts.slice(1).join(' ') : '';\n            }\n            try {\n                const result = await query('UPDATE users SET first_name = $1, last_name = $2, email = $3, image = $4, updated_at = CURRENT_TIMESTAMP WHERE id = $5 RETURNING id, first_name, last_name, email, image', [\n                    firstName,\n                    lastName,\n                    email,\n                    image,\n                    id\n                ]);\n                const updatedUser = result.rows[0];\n                return {\n                    ...updatedUser,\n                    name: `${updatedUser.first_name || ''} ${updatedUser.last_name || ''}`.trim() || email.split('@')[0]\n                };\n            } catch (error) {\n                console.error('Error updating user:', error);\n                if (true) {\n                    return {\n                        ...MOCK_USER,\n                        ...user\n                    };\n                }\n                throw error;\n            }\n        },\n        async linkAccount (account) {\n            // For development, just return the account\n            if (true) {\n                // Mock linkAccount for development\n                return account;\n            }\n            try {\n                const { userId, provider, type, providerAccountId, access_token, refresh_token, expires_at } = account;\n                await query(`INSERT INTO accounts (user_id, provider_type, provider_id, provider_account_id, access_token, refresh_token, access_token_expires)\n           VALUES ($1, $2, $3, $4, $5, $6, $7)`, [\n                    userId,\n                    type,\n                    provider,\n                    providerAccountId,\n                    access_token,\n                    refresh_token,\n                    expires_at ? new Date(expires_at * 1000) : null\n                ]);\n                return account;\n            } catch (error) {\n                console.error('Error linking account:', error);\n                if (true) {\n                    return account;\n                }\n                throw error;\n            }\n        },\n        async createSession (session) {\n            // For development, just return the session\n            if (true) {\n                // Mock createSession for development\n                return session;\n            }\n            try {\n                await query('INSERT INTO sessions (user_id, expires, session_token, access_token) VALUES ($1, $2, $3, $4)', [\n                    session.userId,\n                    session.expires,\n                    session.sessionToken,\n                    session.accessToken\n                ]);\n                return session;\n            } catch (error) {\n                console.error('Error creating session:', error);\n                if (true) {\n                    return session;\n                }\n                throw error;\n            }\n        },\n        async getSessionAndUser (sessionToken) {\n            // For development, create a mock session\n            if (true) {\n                // Using mock session for development\n                return {\n                    session: {\n                        sessionToken,\n                        userId: MOCK_USER.id,\n                        expires: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000) // 30 days\n                    },\n                    user: MOCK_USER\n                };\n            }\n            try {\n                const sessionResult = await query('SELECT * FROM sessions WHERE session_token = $1', [\n                    sessionToken\n                ]);\n                const session = sessionResult.rows[0];\n                if (!session) {\n                    return null;\n                }\n                const userResult = await query('SELECT id, first_name, last_name, email, email_verified, image FROM users WHERE id = $1', [\n                    session.user_id\n                ]);\n                const userData = userResult.rows[0];\n                if (!userData) return null;\n                const user = {\n                    ...userData,\n                    name: `${userData.first_name || ''} ${userData.last_name || ''}`.trim() || userData.email.split('@')[0]\n                };\n                return {\n                    session,\n                    user\n                };\n            } catch (error) {\n                console.error('Error getting session and user:', error);\n                if (true) {\n                    return {\n                        session: {\n                            sessionToken,\n                            userId: MOCK_USER.id,\n                            expires: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000) // 30 days\n                        },\n                        user: MOCK_USER\n                    };\n                }\n                return null;\n            }\n        },\n        async updateSession (session) {\n            // For development, just return the session\n            if (true) {\n                // Mock updateSession for development\n                return session;\n            }\n            try {\n                const { sessionToken, expires, userId } = session;\n                await query('UPDATE sessions SET expires = $1, user_id = $2 WHERE session_token = $3', [\n                    expires,\n                    userId,\n                    sessionToken\n                ]);\n                return session;\n            } catch (error) {\n                console.error('Error updating session:', error);\n                if (true) {\n                    return session;\n                }\n                throw error;\n            }\n        },\n        async deleteSession (sessionToken) {\n            // For development, just log\n            if (true) {\n                console.log('Mock deleteSession for development');\n                return;\n            }\n            try {\n                await query('DELETE FROM sessions WHERE session_token = $1', [\n                    sessionToken\n                ]);\n            } catch (error) {\n                console.error('Error deleting session:', error);\n            // Don't throw for delete operations\n            }\n        },\n        async createVerificationToken ({ identifier, token, expires }) {\n            try {\n                await query('INSERT INTO verification_tokens (identifier, token, expires) VALUES ($1, $2, $3)', [\n                    identifier,\n                    token,\n                    expires\n                ]);\n                return {\n                    identifier,\n                    token,\n                    expires\n                };\n            } catch (error) {\n                console.error('Error creating verification token:', error);\n                throw error;\n            }\n        },\n        async useVerificationToken ({ identifier, token }) {\n            try {\n                const result = await query('DELETE FROM verification_tokens WHERE identifier = $1 AND token = $2 RETURNING *', [\n                    identifier,\n                    token\n                ]);\n                if (result.rows.length === 0) {\n                    return null;\n                }\n                return result.rows[0];\n            } catch (error) {\n                console.error('Error using verification token:', error);\n                throw error;\n            }\n        }\n    },\n    session: {\n        strategy: 'jwt',\n        maxAge: 30 * 24 * 60 * 60\n    },\n    secret: process.env.NEXTAUTH_SECRET,\n    debug: \"development\" === 'development'\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDaUM7QUFDVjtBQUNGO0FBQzFCO0FBQ2lCO0FBRTdDLDRDQUE0QztBQUM1QyxNQUFNTSxhQUFhO0lBQ2pCQyxPQUFPLFVBQWE7WUFBRUMsTUFBTSxFQUFFO1FBQUM7SUFDL0JDLFNBQVMsVUFBWTtJQUNyQkMsZ0JBQWdCLFVBQVk7SUFDNUJDLFlBQVksVUFBYTtZQUFFQyxJQUFJO1FBQUU7SUFDakNDLFlBQVksVUFBYTtZQUFFRCxJQUFJO1FBQUU7SUFDakNFLFVBQVUsVUFBWTtBQUN4QjtBQUVBLE1BQU1DLG9CQUFvQjtJQUN4QkMsV0FBVyxVQUFZO0lBQ3ZCQyxtQkFBbUIsVUFBYTtZQUM5QkMsUUFBUTtZQUNSQyxRQUFRO1FBQ1Y7SUFDQUMsV0FBVyxVQUFZO0lBQ3ZCQyxZQUFZLFVBQVk7SUFDeEJDLDBCQUEwQixVQUFhO1lBQ3JDQyxTQUFTO1lBQ1RDLGVBQWU7WUFDZkMsYUFBYTtZQUNiQyxhQUFhO1lBQ2JDLGtCQUFrQjtRQUNwQjtBQUNGO0FBRUEsNEVBQTRFO0FBQzVFLElBQUlDLElBQUlDO0FBQ1IsSUFBSTtJQUNGRCxLQUFLRSxtQkFBT0EsQ0FBQywrQ0FBaUI7QUFDaEMsRUFBRSxPQUFPQyxHQUFHO0lBQ1ZILEtBQUt0QjtBQUNQO0FBRUEsSUFBSTtJQUNGdUIsWUFBWUMsbUJBQU9BLENBQUMsaURBQWtCO0FBQ3hDLEVBQUUsT0FBT0MsR0FBRztJQUNWRixZQUFZZDtBQUNkO0FBRUEsTUFBTSxFQUFFUixLQUFLLEVBQUUsR0FBR3FCO0FBQ2xCLE1BQU0sRUFBRU4sd0JBQXdCLEVBQUUsR0FBR087QUFFckMsNEJBQTRCO0FBQzVCLE1BQU1HLFlBQVk7SUFDaEJwQixJQUFJO0lBQ0pxQixNQUFNO0lBQ05DLE9BQU87SUFDUEMsT0FBTztJQUNQQyxZQUFZO0lBQ1pDLFdBQVc7SUFDWEMsZ0JBQWdCO0FB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aUY7b0JBQVltQjtvQkFBT3VCO2lCQUFRO2dCQUU5QixPQUFPO29CQUFFMUM7b0JBQVltQjtvQkFBT3VCO2dCQUFRO1lBQ3RDLEVBQUUsT0FBT3pFLE9BQU87Z0JBQ2RDLFFBQVFELEtBQUssQ0FBQyxzQ0FBc0NBO2dCQUNwRCxNQUFNQTtZQUNSO1FBQ0Y7UUFFQSxNQUFNc0Ysc0JBQXFCLEVBQUV2RCxVQUFVLEVBQUVtQixLQUFLLEVBQUU7WUFDOUMsSUFBSTtnQkFDRixNQUFNNUQsU0FBUyxNQUFNeEMsTUFDbkIsb0ZBQ0E7b0JBQUNpRjtvQkFBWW1CO2lCQUFNO2dCQUVyQixJQUFJNUQsT0FBT3ZDLElBQUksQ0FBQzhHLE1BQU0sS0FBSyxHQUFHO29CQUM1QixPQUFPO2dCQUNUO2dCQUNBLE9BQU92RSxPQUFPdkMsSUFBSSxDQUFDLEVBQUU7WUFDdkIsRUFBRSxPQUFPaUQsT0FBTztnQkFDZEMsUUFBUUQsS0FBSyxDQUFDLG1DQUFtQ0E7Z0JBQ2pELE1BQU1BO1lBQ1I7UUFDRjtJQUNGO0lBQ0FxRCxTQUFTO1FBQ1BrQyxVQUFVO1FBQ1ZDLFFBQVEsS0FBSyxLQUFLLEtBQUs7SUFDekI7SUFDQS9ILFFBQVE0QixRQUFRZ0IsR0FBRyxDQUFDb0YsZUFBZTtJQUNuQ0MsT0FBT3JHLGtCQUF5QjtBQUNsQyxFQUFFO0FBRUYsaUVBQWU5QyxnREFBUUEsQ0FBQ3VDLFlBQVlBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL1dlYnNpdGVzIENvZGUvTmV4dXNUZWNoSHViLmNvbS9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOZXh0QXV0aCBmcm9tICduZXh0LWF1dGgnO1xuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFscyc7XG5pbXBvcnQgR29vZ2xlUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9nb29nbGUnO1xuaW1wb3J0IEVtYWlsUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9lbWFpbCc7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5pbXBvcnQgeyBjcmVhdGVUcmFuc3BvcnQgfSBmcm9tICdub2RlbWFpbGVyJztcblxuLy8gQ3JlYXRlIGZhbGxiYWNrIGZ1bmN0aW9ucyBpZiBpbXBvcnRzIGZhaWxcbmNvbnN0IGRiRmFsbGJhY2sgPSB7XG4gIHF1ZXJ5OiBhc3luYyAoKSA9PiAoeyByb3dzOiBbXSB9KSxcbiAgZ2V0VXNlcjogYXN5bmMgKCkgPT4gbnVsbCxcbiAgZ2V0VXNlckJ5RW1haWw6IGFzeW5jICgpID0+IG51bGwsXG4gIGNyZWF0ZVVzZXI6IGFzeW5jICgpID0+ICh7IGlkOiAxIH0pLFxuICB1cGRhdGVVc2VyOiBhc3luYyAoKSA9PiAoeyBpZDogMSB9KSxcbiAgZ2V0T3JkZXI6IGFzeW5jICgpID0+IG51bGxcbn07XG5cbmNvbnN0IHR3b0ZhY3RvckZhbGxiYWNrID0ge1xuICB2ZXJpZnkyRkE6IGFzeW5jICgpID0+IHRydWUsXG4gIGdlbmVyYXRlMkZBU2VjcmV0OiBhc3luYyAoKSA9PiAoe1xuICAgIHNlY3JldDogJ3BsYWNlaG9sZGVyLXNlY3JldCcsXG4gICAgcXJDb2RlOiAncGxhY2Vob2xkZXItcXJjb2RlJ1xuICB9KSxcbiAgZW5hYmxlMkZBOiBhc3luYyAoKSA9PiB0cnVlLFxuICBkaXNhYmxlMkZBOiBhc3luYyAoKSA9PiB0cnVlLFxuICBnZXRVc2VyVHdvRmFjdG9yU2V0dGluZ3M6IGFzeW5jICgpID0+ICh7XG4gICAgZW5hYmxlZDogZmFsc2UsXG4gICAgZW1haWxfZW5hYmxlZDogZmFsc2UsXG4gICAgc21zX2VuYWJsZWQ6IGZhbHNlLFxuICAgIGR1b19lbmFibGVkOiBmYWxzZSxcbiAgICBwcmVmZXJyZWRfbWV0aG9kOiAnZW1haWwnXG4gIH0pXG59O1xuXG4vLyBUcnkgdG8gaW1wb3J0IHRoZSByZWFsIG1vZHVsZXMsIGZhbGwgYmFjayB0byB0aGUgc2ltcGxlIG9uZXMgaWYgdGhleSBmYWlsXG5sZXQgZGIsIHR3b0ZhY3RvcjtcbnRyeSB7XG4gIGRiID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliL2RiJyk7XG59IGNhdGNoIChlKSB7XG4gIGRiID0gZGJGYWxsYmFjaztcbn1cblxudHJ5IHtcbiAgdHdvRmFjdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliLzJmYScpO1xufSBjYXRjaCAoZSkge1xuICB0d29GYWN0b3IgPSB0d29GYWN0b3JGYWxsYmFjaztcbn1cblxuY29uc3QgeyBxdWVyeSB9ID0gZGI7XG5jb25zdCB7IGdldFVzZXJUd29GYWN0b3JTZXR0aW5ncyB9ID0gdHdvRmFjdG9yO1xuXG4vLyBNb2NrIHVzZXIgZm9yIGRldmVsb3BtZW50XG5jb25zdCBNT0NLX1VTRVIgPSB7XG4gIGlkOiAnMScsXG4gIG5hbWU6ICdEZW1vIFVzZXInLFxuICBlbWFpbDogJ2RlbW9AZXhhbXBsZS5jb20nLFxuICBpbWFnZTogJy9pbWFnZXMvYXZhdGFyLXBsYWNlaG9sZGVyLnBuZycsXG4gIGZpcnN0X25hbWU6ICdEZW1vJyxcbiAgbGFzdF9uYW1lOiAnVXNlcicsXG4gIGVtYWlsX3ZlcmlmaWVkOiB0cnVlXG59O1xuXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnMgPSB7XG4gIHByb3ZpZGVyczogW1xuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogJ0NyZWRlbnRpYWxzJyxcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiBcIkVtYWlsXCIsIHR5cGU6IFwiZW1haWxcIiB9LFxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogXCJQYXNzd29yZFwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZvciBkZXZlbG9wbWVudCwgYWxsb3cgYW55IGNyZWRlbnRpYWxzIHRvIHdvcmsgd2l0aCB0aGUgbW9jayB1c2VyXG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgICAvLyBVc2luZyBtb2NrIHVzZXIgZm9yIGRldmVsb3BtZW50XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBpZDogTU9DS19VU0VSLmlkLFxuICAgICAgICAgICAgICBuYW1lOiBNT0NLX1VTRVIubmFtZSxcbiAgICAgICAgICAgICAgZW1haWw6IE1PQ0tfVVNFUi5lbWFpbCxcbiAgICAgICAgICAgICAgaW1hZ2U6IE1PQ0tfVVNFUi5pbWFnZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBQcm9kdWN0aW9uIGNvZGUgLSBmaW5kIHVzZXIgYnkgZW1haWxcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeShcbiAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGVtYWlsID0gJDEnLFxuICAgICAgICAgICAgW2NyZWRlbnRpYWxzLmVtYWlsXVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCB1c2VyID0gcmVzdWx0LnJvd3NbMF07XG5cbiAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENoZWNrIHBhc3N3b3JkXG4gICAgICAgICAgY29uc3QgcGFzc3dvcmRNYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKGNyZWRlbnRpYWxzLnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkX2hhc2gpO1xuXG4gICAgICAgICAgaWYgKCFwYXNzd29yZE1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDaGVjayBpZiAyRkEgaXMgZW5hYmxlZFxuICAgICAgICAgIGNvbnN0IHR3b0ZhY3RvclNldHRpbmdzID0gYXdhaXQgZ2V0VXNlclR3b0ZhY3RvclNldHRpbmdzKHVzZXIuaWQpO1xuXG4gICAgICAgICAgaWYgKHR3b0ZhY3RvclNldHRpbmdzPy5lbmFibGVkKSB7XG4gICAgICAgICAgICAvLyBSZXR1cm4gdXNlciB3aXRoIHJlcXVpcmVzVHdvRmFjdG9yIGZsYWdcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgICAgICBuYW1lOiBgJHt1c2VyLmZpcnN0X25hbWUgfHwgJyd9ICR7dXNlci5sYXN0X25hbWUgfHwgJyd9YC50cmltKCkgfHwgdXNlci5lbWFpbC5zcGxpdCgnQCcpWzBdLFxuICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgaW1hZ2U6IHVzZXIuaW1hZ2UsXG4gICAgICAgICAgICAgIHJlcXVpcmVzVHdvRmFjdG9yOiB0cnVlLFxuICAgICAgICAgICAgICB0d29GYWN0b3JNZXRob2RzOiB7XG4gICAgICAgICAgICAgICAgZW1haWxfZW5hYmxlZDogdHdvRmFjdG9yU2V0dGluZ3MuZW1haWxfZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBzbXNfZW5hYmxlZDogdHdvRmFjdG9yU2V0dGluZ3Muc21zX2VuYWJsZWQsXG4gICAgICAgICAgICAgICAgZHVvX2VuYWJsZWQ6IHR3b0ZhY3RvclNldHRpbmdzLmR1b19lbmFibGVkLFxuICAgICAgICAgICAgICAgIHByZWZlcnJlZF9tZXRob2Q6IHR3b0ZhY3RvclNldHRpbmdzLnByZWZlcnJlZF9tZXRob2RcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBSZXR1cm4gdXNlciBvYmplY3Qgd2l0aG91dCBwYXNzd29yZFxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICAgIG5hbWU6IGAke3VzZXIuZmlyc3RfbmFtZSB8fCAnJ30gJHt1c2VyLmxhc3RfbmFtZSB8fCAnJ31gLnRyaW0oKSB8fCB1c2VyLmVtYWlsLnNwbGl0KCdAJylbMF0sXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIGltYWdlOiB1c2VyLmltYWdlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoZW50aWNhdGlvbiBlcnJvcjonLCBlcnJvcik7XG5cbiAgICAgICAgICAvLyBGb3IgZGV2ZWxvcG1lbnQsIHJldHVybiBtb2NrIHVzZXIgZXZlbiBpZiB0aGVyZSdzIGFuIGVycm9yXG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgICAvLyBVc2luZyBtb2NrIHVzZXIgZHVlIHRvIGF1dGhlbnRpY2F0aW9uIGVycm9yXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBpZDogTU9DS19VU0VSLmlkLFxuICAgICAgICAgICAgICBuYW1lOiBNT0NLX1VTRVIubmFtZSxcbiAgICAgICAgICAgICAgZW1haWw6IE1PQ0tfVVNFUi5lbWFpbCxcbiAgICAgICAgICAgICAgaW1hZ2U6IE1PQ0tfVVNFUi5pbWFnZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIC8vIDJGQSBjb21wbGV0aW9uIHByb3ZpZGVyXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBpZDogJzJmYS1jb21wbGV0aW9uJyxcbiAgICAgIG5hbWU6ICcyRkEgQ29tcGxldGlvbicsXG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICB1c2VySWQ6IHsgbGFiZWw6IFwiVXNlciBJRFwiLCB0eXBlOiBcInRleHRcIiB9LFxuICAgICAgICB0d29GYWN0b3JWZXJpZmllZDogeyBsYWJlbDogXCIyRkEgVmVyaWZpZWRcIiwgdHlwZTogXCJ0ZXh0XCIgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghY3JlZGVudGlhbHMudXNlcklkIHx8IGNyZWRlbnRpYWxzLnR3b0ZhY3RvclZlcmlmaWVkICE9PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEZvciBkZXZlbG9wbWVudCwgdXNlIG1vY2sgdXNlclxuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgLy8gVXNpbmcgbW9jayB1c2VyIGZvciAyRkEgY29tcGxldGlvblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6IE1PQ0tfVVNFUi5pZCxcbiAgICAgICAgICAgICAgbmFtZTogTU9DS19VU0VSLm5hbWUsXG4gICAgICAgICAgICAgIGVtYWlsOiBNT0NLX1VTRVIuZW1haWwsXG4gICAgICAgICAgICAgIGltYWdlOiBNT0NLX1VTRVIuaW1hZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gR2V0IHVzZXIgYnkgSURcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeShcbiAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGlkID0gJDEnLFxuICAgICAgICAgICAgW2NyZWRlbnRpYWxzLnVzZXJJZF1cbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgdXNlciA9IHJlc3VsdC5yb3dzWzBdO1xuXG4gICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBSZXR1cm4gdXNlciBvYmplY3RcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICBuYW1lOiBgJHt1c2VyLmZpcnN0X25hbWUgfHwgJyd9ICR7dXNlci5sYXN0X25hbWUgfHwgJyd9YC50cmltKCkgfHwgdXNlci5lbWFpbC5zcGxpdCgnQCcpWzBdLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICBpbWFnZTogdXNlci5pbWFnZVxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignMkZBIGNvbXBsZXRpb24gZXJyb3I6JywgZXJyb3IpO1xuXG4gICAgICAgICAgLy8gRm9yIGRldmVsb3BtZW50LCByZXR1cm4gbW9jayB1c2VyIGV2ZW4gaWYgdGhlcmUncyBhbiBlcnJvclxuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgLy8gVXNpbmcgbW9jayB1c2VyIGR1ZSB0byAyRkEgY29tcGxldGlvbiBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6IE1PQ0tfVVNFUi5pZCxcbiAgICAgICAgICAgICAgbmFtZTogTU9DS19VU0VSLm5hbWUsXG4gICAgICAgICAgICAgIGVtYWlsOiBNT0NLX1VTRVIuZW1haWwsXG4gICAgICAgICAgICAgIGltYWdlOiBNT0NLX1VTRVIuaW1hZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcbiAgICBHb29nbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9TRUNSRVQsXG4gICAgICBhdXRob3JpemF0aW9uOiB7XG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIHByb21wdDogXCJjb25zZW50XCIsXG4gICAgICAgICAgYWNjZXNzX3R5cGU6IFwib2ZmbGluZVwiLFxuICAgICAgICAgIHJlc3BvbnNlX3R5cGU6IFwiY29kZVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcblxuICAgIC8vIEVtYWlsIFByb3ZpZGVyIGZvciBQcm9kdWN0aW9uXG4gICAgRW1haWxQcm92aWRlcih7XG4gICAgICBzZXJ2ZXI6IHtcbiAgICAgICAgaG9zdDogcHJvY2Vzcy5lbnYuRU1BSUxfU0VSVkVSX0hPU1QgfHwgcHJvY2Vzcy5lbnYuU01UUF9IT1NULFxuICAgICAgICBwb3J0OiBwYXJzZUludChwcm9jZXNzLmVudi5FTUFJTF9TRVJWRVJfUE9SVCB8fCBwcm9jZXNzLmVudi5TTVRQX1BPUlQgfHwgJzU4NycpLFxuICAgICAgICBhdXRoOiB7XG4gICAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuRU1BSUxfU0VSVkVSX1VTRVIgfHwgcHJvY2Vzcy5lbnYuU01UUF9VU0VSLFxuICAgICAgICAgIHBhc3M6IHByb2Nlc3MuZW52LkVNQUlMX1NFUlZFUl9QQVNTV09SRCB8fCBwcm9jZXNzLmVudi5TTVRQX1BBU1NXT1JELFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGZyb206IHByb2Nlc3MuZW52LkVNQUlMX0ZST00gfHwgJ25vcmVwbHlAbmV4dXN0ZWNoaHViLmFlJyxcblxuICAgICAgLy8gQ3VzdG9tIGVtYWlsIHRlbXBsYXRlIGZvciBVQUUgbWFya2V0XG4gICAgICBzZW5kVmVyaWZpY2F0aW9uUmVxdWVzdDogYXN5bmMgKHsgaWRlbnRpZmllcjogZW1haWwsIHVybCwgcHJvdmlkZXIgfSkgPT4ge1xuICAgICAgICBjb25zdCB7IGhvc3QgfSA9IG5ldyBVUkwodXJsKTtcbiAgICAgICAgY29uc3QgdHJhbnNwb3J0ID0gY3JlYXRlVHJhbnNwb3J0KHByb3ZpZGVyLnNlcnZlcik7XG5cbiAgICAgICAgY29uc3QgYnJhbmRDb2xvciA9ICcjMTBiOTgxJztcbiAgICAgICAgY29uc3QgZW1haWxIdG1sID0gYFxuICAgICAgICAgIDxib2R5IHN0eWxlPVwiYmFja2dyb3VuZDogI2Y5ZmFmYjsgZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XCI+XG4gICAgICAgICAgICA8dGFibGUgd2lkdGg9XCIxMDAlXCIgYm9yZGVyPVwiMFwiIGNlbGxzcGFjaW5nPVwiMjBcIiBjZWxscGFkZGluZz1cIjBcIlxuICAgICAgICAgICAgICBzdHlsZT1cImJhY2tncm91bmQ6ICNmZmY7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogYXV0bzsgYm9yZGVyLXJhZGl1czogMTBweDsgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7XCI+XG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQgYWxpZ249XCJjZW50ZXJcIiBzdHlsZT1cInBhZGRpbmc6IDQwcHggMjBweCAyMHB4IDIwcHg7XCI+XG4gICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vbmV4dXN0ZWNoaHViLm5ldGxpZnkuYXBwL2ltYWdlcy9uZXh1cy1sb2dvLnN2Z1wiIGFsdD1cIk5leHVzIFRlY2hIdWJcIiBzdHlsZT1cImhlaWdodDogNjBweDsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj5cbiAgICAgICAgICAgICAgICAgIDxoMSBzdHlsZT1cImNvbG9yOiAjMWYyOTM3OyBmb250LXNpemU6IDI0cHg7IG1hcmdpbjogMDtcIj5XZWxjb21lIHRvIE5leHVzIFRlY2hIdWI8L2gxPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQgYWxpZ249XCJjZW50ZXJcIiBzdHlsZT1cInBhZGRpbmc6IDAgMjBweCAyMHB4IDIwcHg7XCI+XG4gICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cImNvbG9yOiAjNmI3MjgwOyBmb250LXNpemU6IDE2cHg7IGxpbmUtaGVpZ2h0OiAyNHB4OyBtYXJnaW46IDAgMCAzMHB4IDA7XCI+XG4gICAgICAgICAgICAgICAgICAgIENsaWNrIHRoZSBidXR0b24gYmVsb3cgdG8gc2lnbiBpbiB0byB5b3VyIGFjY291bnQgYW5kIGFjY2VzcyBwcmVtaXVtIG1vYmlsZSBkZXZpY2UgcGFydHMuXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8dGFibGUgYm9yZGVyPVwiMFwiIGNlbGxzcGFjaW5nPVwiMFwiIGNlbGxwYWRkaW5nPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGFsaWduPVwiY2VudGVyXCIgc3R5bGU9XCJib3JkZXItcmFkaXVzOiA4cHg7XCIgYmdjb2xvcj1cIiR7YnJhbmRDb2xvcn1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIke3VybH1cIiB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7IGNvbG9yOiAjZmZmOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IGJvcmRlci1yYWRpdXM6IDhweDsgcGFkZGluZzogMTVweCAzMHB4OyBib3JkZXI6IDFweCBzb2xpZCAke2JyYW5kQ29sb3J9OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtd2VpZ2h0OiBib2xkO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBTaWduIGluIHRvIFlvdXIgQWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQgYWxpZ249XCJjZW50ZXJcIiBzdHlsZT1cInBhZGRpbmc6IDAgMjBweCA0MHB4IDIwcHg7XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2YwZmRmNDsgYm9yZGVyOiAxcHggc29saWQgI2QxZmFlNTsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiAyMHB4OyBtYXJnaW46IDIwcHggMDtcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIHN0eWxlPVwiY29sb3I6ICMwNjVmNDY7IGZvbnQtc2l6ZTogMTZweDsgbWFyZ2luOiAwIDAgMTBweCAwO1wiPvCfh6bwn4eqIFVBRSdzIFByZW1pZXIgTW9iaWxlIFBhcnRzIFN0b3JlPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPVwiY29sb3I6ICMwNDc4NTc7IGZvbnQtc2l6ZTogMTRweDsgbWFyZ2luOiAwOyBwYWRkaW5nLWxlZnQ6IDIwcHg7IHRleHQtYWxpZ246IGxlZnQ7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGxpPlByZW1pdW0gaVBob25lLCBTYW1zdW5nICYgaVBhZCBwYXJ0czwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgPGxpPlByb2Zlc3Npb25hbCByZXBhaXIgdG9vbHMgJiBlcXVpcG1lbnQ8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgIDxsaT5GYXN0IHNoaXBwaW5nIGFjcm9zcyBVQUU8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgIDxsaT5FeHBlcnQgdGVjaG5pY2FsIHN1cHBvcnQ8L2xpPlxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cImNvbG9yOiAjOWNhM2FmOyBmb250LXNpemU6IDEycHg7IGxpbmUtaGVpZ2h0OiAxOHB4OyBtYXJnaW46IDIwcHggMCAwIDA7XCI+XG4gICAgICAgICAgICAgICAgICAgIElmIHlvdSBkaWQgbm90IHJlcXVlc3QgdGhpcyBlbWFpbCwgeW91IGNhbiBzYWZlbHkgaWdub3JlIGl0Ljxicj5cbiAgICAgICAgICAgICAgICAgICAgVGhpcyBsaW5rIHdpbGwgZXhwaXJlIGluIDI0IGhvdXJzIGZvciB5b3VyIHNlY3VyaXR5LlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQgYWxpZ249XCJjZW50ZXJcIiBzdHlsZT1cInBhZGRpbmc6IDIwcHg7IGJhY2tncm91bmQ6ICNmOWZhZmI7IGJvcmRlci1yYWRpdXM6IDAgMCAxMHB4IDEwcHg7XCI+XG4gICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cImNvbG9yOiAjNmI3MjgwOyBmb250LXNpemU6IDEycHg7IG1hcmdpbjogMDtcIj5cbiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5OZXh1cyBUZWNoSHViPC9zdHJvbmc+PGJyPlxuICAgICAgICAgICAgICAgICAgICBSYXMgQWwgS2hhaW1haCwgVW5pdGVkIEFyYWIgRW1pcmF0ZXM8YnI+XG4gICAgICAgICAgICAgICAgICAgIFBob25lOiA8YSBocmVmPVwidGVsOis5NzE1ODU1MzEwMjlcIiBzdHlsZT1cImNvbG9yOiAke2JyYW5kQ29sb3J9O1wiPis5NzEgNTggNTUzIDEwMjk8L2E+IHxcbiAgICAgICAgICAgICAgICAgICAgV2hhdHNBcHA6IDxhIGhyZWY9XCJodHRwczovL3dhLm1lLzk3MTU4NTUzMTAyOVwiIHN0eWxlPVwiY29sb3I6ICR7YnJhbmRDb2xvcn07XCI+Q2hhdCB3aXRoIHVzPC9hPlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgIDwvYm9keT5cbiAgICAgICAgYDtcblxuICAgICAgICBhd2FpdCB0cmFuc3BvcnQuc2VuZE1haWwoe1xuICAgICAgICAgIHRvOiBlbWFpbCxcbiAgICAgICAgICBmcm9tOiBwcm92aWRlci5mcm9tLFxuICAgICAgICAgIHN1YmplY3Q6IGBTaWduIGluIHRvIE5leHVzIFRlY2hIdWIgLSBVQUUncyBQcmVtaWVyIE1vYmlsZSBQYXJ0cyBTdG9yZWAsXG4gICAgICAgICAgdGV4dDogYFNpZ24gaW4gdG8gTmV4dXMgVGVjaEh1YlxcblxcbkNsaWNrIGhlcmUgdG8gc2lnbiBpbjogJHt1cmx9XFxuXFxuSWYgeW91IGRpZCBub3QgcmVxdWVzdCB0aGlzIGVtYWlsLCB5b3UgY2FuIHNhZmVseSBpZ25vcmUgaXQuXFxuXFxuTmV4dXMgVGVjaEh1YlxcblJhcyBBbCBLaGFpbWFoLCBVQUVcXG4rOTcxIDU4IDU1MyAxMDI5YCxcbiAgICAgICAgICBodG1sOiBlbWFpbEh0bWwsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KSxcbiAgXSxcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46ICcvYXV0aC9zaWduaW4nLFxuICAgIHNpZ25PdXQ6ICcvYXV0aC9zaWdub3V0JyxcbiAgICBlcnJvcjogJy9hdXRoL2Vycm9yJyxcbiAgICB2ZXJpZnlSZXF1ZXN0OiAnL2F1dGgvdmVyaWZ5LXJlcXVlc3QnLFxuICAgIG5ld1VzZXI6ICcvYXV0aC9uZXctdXNlcidcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIsIGFjY291bnQgfSkge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdG9rZW4uaWQgPSB1c2VyLmlkO1xuXG4gICAgICAgIC8vIEhhbmRsZSAyRkFcbiAgICAgICAgaWYgKHVzZXIucmVxdWlyZXNUd29GYWN0b3IpIHtcbiAgICAgICAgICB0b2tlbi5yZXF1aXJlc1R3b0ZhY3RvciA9IHRydWU7XG4gICAgICAgICAgdG9rZW4udHdvRmFjdG9yTWV0aG9kcyA9IHVzZXIudHdvRmFjdG9yTWV0aG9kcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHVzaW5nIHRoZSAyRkEgY29tcGxldGlvbiBwcm92aWRlciwgY2xlYXIgdGhlIHJlcXVpcmVzVHdvRmFjdG9yIGZsYWdcbiAgICAgICAgaWYgKGFjY291bnQ/LnByb3ZpZGVyID09PSAnMmZhLWNvbXBsZXRpb24nKSB7XG4gICAgICAgICAgdG9rZW4ucmVxdWlyZXNUd29GYWN0b3IgPSBmYWxzZTtcbiAgICAgICAgICB0b2tlbi50d29GYWN0b3JNZXRob2RzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQ7XG5cbiAgICAgIC8vIEFkZCAyRkEgc3RhdHVzIHRvIHNlc3Npb25cbiAgICAgIGlmICh0b2tlbi5yZXF1aXJlc1R3b0ZhY3Rvcikge1xuICAgICAgICBzZXNzaW9uLnJlcXVpcmVzVHdvRmFjdG9yID0gdHJ1ZTtcbiAgICAgICAgc2Vzc2lvbi50d29GYWN0b3JNZXRob2RzID0gdG9rZW4udHdvRmFjdG9yTWV0aG9kcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfSxcbiAgICBhc3luYyByZWRpcmVjdCh7IHVybCwgYmFzZVVybCB9KSB7XG4gICAgICAvLyBIYW5kbGUgMkZBIHJlZGlyZWN0XG4gICAgICBpZiAodXJsLnN0YXJ0c1dpdGgoYCR7YmFzZVVybH0vYXV0aC8yZmFgKSkge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgfVxuXG4gICAgICAvLyBEZWZhdWx0IGJlaGF2aW9yXG4gICAgICBpZiAodXJsLnN0YXJ0c1dpdGgoYmFzZVVybCkpIHtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVXJsO1xuICAgIH1cbiAgfSxcbiAgYWRhcHRlcjoge1xuICAgIGFzeW5jIGNyZWF0ZVVzZXIodXNlcikge1xuICAgICAgLy8gRm9yIGRldmVsb3BtZW50LCByZXR1cm4gbW9jayB1c2VyXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgLy8gVXNpbmcgbW9jayB1c2VyIGZvciBjcmVhdGVVc2VyXG4gICAgICAgIHJldHVybiBNT0NLX1VTRVI7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgbmFtZSwgZW1haWwsIGltYWdlIH0gPSB1c2VyO1xuXG4gICAgICAvLyBTcGxpdCBuYW1lIGludG8gZmlyc3RfbmFtZSBhbmQgbGFzdF9uYW1lIGlmIHByb3ZpZGVkXG4gICAgICBsZXQgZmlyc3ROYW1lID0gJyc7XG4gICAgICBsZXQgbGFzdE5hbWUgPSAnJztcblxuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgY29uc3QgbmFtZVBhcnRzID0gbmFtZS50cmltKCkuc3BsaXQoJyAnKTtcbiAgICAgICAgZmlyc3ROYW1lID0gbmFtZVBhcnRzWzBdO1xuICAgICAgICBsYXN0TmFtZSA9IG5hbWVQYXJ0cy5sZW5ndGggPiAxID8gbmFtZVBhcnRzLnNsaWNlKDEpLmpvaW4oJyAnKSA6ICcnO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeShcbiAgICAgICAgICAnSU5TRVJUIElOVE8gdXNlcnMgKGZpcnN0X25hbWUsIGxhc3RfbmFtZSwgZW1haWwsIGltYWdlKSBWQUxVRVMgKCQxLCAkMiwgJDMsICQ0KSBSRVRVUk5JTkcgaWQsIGZpcnN0X25hbWUsIGxhc3RfbmFtZSwgZW1haWwsIGltYWdlJyxcbiAgICAgICAgICBbZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIGltYWdlXVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IG5ld1VzZXIgPSByZXN1bHQucm93c1swXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5uZXdVc2VyLFxuICAgICAgICAgIG5hbWU6IGAke25ld1VzZXIuZmlyc3RfbmFtZSB8fCAnJ30gJHtuZXdVc2VyLmxhc3RfbmFtZSB8fCAnJ31gLnRyaW0oKSB8fCBlbWFpbC5zcGxpdCgnQCcpWzBdXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgcmV0dXJuIE1PQ0tfVVNFUjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0VXNlcihpZCkge1xuICAgICAgLy8gRm9yIGRldmVsb3BtZW50LCByZXR1cm4gbW9jayB1c2VyIGlmIElEIG1hdGNoZXNcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiBpZCA9PT0gTU9DS19VU0VSLmlkKSB7XG4gICAgICAgIC8vIFVzaW5nIG1vY2sgdXNlciBmb3IgZ2V0VXNlclxuICAgICAgICByZXR1cm4gTU9DS19VU0VSO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeShcbiAgICAgICAgICAnU0VMRUNUIGlkLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUsIGVtYWlsLCBlbWFpbF92ZXJpZmllZCwgaW1hZ2UgRlJPTSB1c2VycyBXSEVSRSBpZCA9ICQxJyxcbiAgICAgICAgICBbaWRdXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCFyZXN1bHQucm93c1swXSkge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgcmV0dXJuIE1PQ0tfVVNFUjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1c2VyID0gcmVzdWx0LnJvd3NbMF07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4udXNlcixcbiAgICAgICAgICBuYW1lOiBgJHt1c2VyLmZpcnN0X25hbWUgfHwgJyd9ICR7dXNlci5sYXN0X25hbWUgfHwgJyd9YC50cmltKCkgfHwgdXNlci5lbWFpbC5zcGxpdCgnQCcpWzBdXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzZXI6JywgZXJyb3IpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICByZXR1cm4gTU9DS19VU0VSO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRVc2VyQnlFbWFpbChlbWFpbCkge1xuICAgICAgLy8gRm9yIGRldmVsb3BtZW50LCByZXR1cm4gbW9jayB1c2VyIGlmIGVtYWlsIG1hdGNoZXNcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJlxuICAgICAgICAoZW1haWwgPT09IE1PQ0tfVVNFUi5lbWFpbCB8fCBlbWFpbCA9PT0gJ2RlbW9AZXhhbXBsZS5jb20nIHx8IGVtYWlsID09PSAndGVzdEBleGFtcGxlLmNvbScpKSB7XG4gICAgICAgIC8vIFVzaW5nIG1vY2sgdXNlciBmb3IgZ2V0VXNlckJ5RW1haWxcbiAgICAgICAgcmV0dXJuIE1PQ0tfVVNFUjtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXG4gICAgICAgICAgJ1NFTEVDVCBpZCwgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBlbWFpbCwgZW1haWxfdmVyaWZpZWQsIGltYWdlIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSAkMScsXG4gICAgICAgICAgW2VtYWlsXVxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghcmVzdWx0LnJvd3NbMF0pIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICAgIHJldHVybiBNT0NLX1VTRVI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdXNlciA9IHJlc3VsdC5yb3dzWzBdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnVzZXIsXG4gICAgICAgICAgbmFtZTogYCR7dXNlci5maXJzdF9uYW1lIHx8ICcnfSAke3VzZXIubGFzdF9uYW1lIHx8ICcnfWAudHJpbSgpIHx8IHVzZXIuZW1haWwuc3BsaXQoJ0AnKVswXVxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIGJ5IGVtYWlsOicsIGVycm9yKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgcmV0dXJuIE1PQ0tfVVNFUjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0VXNlckJ5QWNjb3VudCh7IHByb3ZpZGVyLCBwcm92aWRlckFjY291bnRJZCB9KSB7XG4gICAgICAvLyBGb3IgZGV2ZWxvcG1lbnQsIHJldHVybiBtb2NrIHVzZXJcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAvLyBVc2luZyBtb2NrIHVzZXIgZm9yIGdldFVzZXJCeUFjY291bnRcbiAgICAgICAgcmV0dXJuIE1PQ0tfVVNFUjtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXG4gICAgICAgICAgYFNFTEVDVCB1LmlkLCB1LmZpcnN0X25hbWUsIHUubGFzdF9uYW1lLCB1LmVtYWlsLCB1LmVtYWlsX3ZlcmlmaWVkLCB1LmltYWdlXG4gICAgICAgICAgIEZST00gdXNlcnMgdVxuICAgICAgICAgICBKT0lOIGFjY291bnRzIGEgT04gdS5pZCA9IGEudXNlcl9pZFxuICAgICAgICAgICBXSEVSRSBhLnByb3ZpZGVyX2lkID0gJDEgQU5EIGEucHJvdmlkZXJfYWNjb3VudF9pZCA9ICQyYCxcbiAgICAgICAgICBbcHJvdmlkZXIsIHByb3ZpZGVyQWNjb3VudElkXVxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghcmVzdWx0LnJvd3NbMF0pIHJldHVybiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHVzZXIgPSByZXN1bHQucm93c1swXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi51c2VyLFxuICAgICAgICAgIG5hbWU6IGAke3VzZXIuZmlyc3RfbmFtZSB8fCAnJ30gJHt1c2VyLmxhc3RfbmFtZSB8fCAnJ31gLnRyaW0oKSB8fCB1c2VyLmVtYWlsLnNwbGl0KCdAJylbMF1cbiAgICAgICAgfTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBieSBhY2NvdW50OicsIGVycm9yKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgcmV0dXJuIE1PQ0tfVVNFUjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXN5bmMgdXBkYXRlVXNlcih1c2VyKSB7XG4gICAgICAvLyBGb3IgZGV2ZWxvcG1lbnQsIHJldHVybiBtb2NrIHVzZXJcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAvLyBVc2luZyBtb2NrIHVzZXIgZm9yIHVwZGF0ZVVzZXJcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5NT0NLX1VTRVIsXG4gICAgICAgICAgLi4udXNlcixcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBpZCwgbmFtZSwgZW1haWwsIGltYWdlIH0gPSB1c2VyO1xuXG4gICAgICAvLyBTcGxpdCBuYW1lIGludG8gZmlyc3RfbmFtZSBhbmQgbGFzdF9uYW1lIGlmIHByb3ZpZGVkXG4gICAgICBsZXQgZmlyc3ROYW1lID0gJyc7XG4gICAgICBsZXQgbGFzdE5hbWUgPSAnJztcblxuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgY29uc3QgbmFtZVBhcnRzID0gbmFtZS50cmltKCkuc3BsaXQoJyAnKTtcbiAgICAgICAgZmlyc3ROYW1lID0gbmFtZVBhcnRzWzBdO1xuICAgICAgICBsYXN0TmFtZSA9IG5hbWVQYXJ0cy5sZW5ndGggPiAxID8gbmFtZVBhcnRzLnNsaWNlKDEpLmpvaW4oJyAnKSA6ICcnO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeShcbiAgICAgICAgICAnVVBEQVRFIHVzZXJzIFNFVCBmaXJzdF9uYW1lID0gJDEsIGxhc3RfbmFtZSA9ICQyLCBlbWFpbCA9ICQzLCBpbWFnZSA9ICQ0LCB1cGRhdGVkX2F0ID0gQ1VSUkVOVF9USU1FU1RBTVAgV0hFUkUgaWQgPSAkNSBSRVRVUk5JTkcgaWQsIGZpcnN0X25hbWUsIGxhc3RfbmFtZSwgZW1haWwsIGltYWdlJyxcbiAgICAgICAgICBbZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIGltYWdlLCBpZF1cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IHJlc3VsdC5yb3dzWzBdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnVwZGF0ZWRVc2VyLFxuICAgICAgICAgIG5hbWU6IGAke3VwZGF0ZWRVc2VyLmZpcnN0X25hbWUgfHwgJyd9ICR7dXBkYXRlZFVzZXIubGFzdF9uYW1lIHx8ICcnfWAudHJpbSgpIHx8IGVtYWlsLnNwbGl0KCdAJylbMF1cbiAgICAgICAgfTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHVzZXI6JywgZXJyb3IpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uTU9DS19VU0VSLFxuICAgICAgICAgICAgLi4udXNlcixcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBhc3luYyBsaW5rQWNjb3VudChhY2NvdW50KSB7XG4gICAgICAvLyBGb3IgZGV2ZWxvcG1lbnQsIGp1c3QgcmV0dXJuIHRoZSBhY2NvdW50XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgLy8gTW9jayBsaW5rQWNjb3VudCBmb3IgZGV2ZWxvcG1lbnRcbiAgICAgICAgcmV0dXJuIGFjY291bnQ7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgdXNlcklkLCBwcm92aWRlciwgdHlwZSwgcHJvdmlkZXJBY2NvdW50SWQsIGFjY2Vzc190b2tlbiwgcmVmcmVzaF90b2tlbiwgZXhwaXJlc19hdCB9ID0gYWNjb3VudDtcblxuICAgICAgICBhd2FpdCBxdWVyeShcbiAgICAgICAgICBgSU5TRVJUIElOVE8gYWNjb3VudHMgKHVzZXJfaWQsIHByb3ZpZGVyX3R5cGUsIHByb3ZpZGVyX2lkLCBwcm92aWRlcl9hY2NvdW50X2lkLCBhY2Nlc3NfdG9rZW4sIHJlZnJlc2hfdG9rZW4sIGFjY2Vzc190b2tlbl9leHBpcmVzKVxuICAgICAgICAgICBWQUxVRVMgKCQxLCAkMiwgJDMsICQ0LCAkNSwgJDYsICQ3KWAsXG4gICAgICAgICAgW3VzZXJJZCwgdHlwZSwgcHJvdmlkZXIsIHByb3ZpZGVyQWNjb3VudElkLCBhY2Nlc3NfdG9rZW4sIHJlZnJlc2hfdG9rZW4sIGV4cGlyZXNfYXQgPyBuZXcgRGF0ZShleHBpcmVzX2F0ICogMTAwMCkgOiBudWxsXVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBhY2NvdW50O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbGlua2luZyBhY2NvdW50OicsIGVycm9yKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgcmV0dXJuIGFjY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZVNlc3Npb24oc2Vzc2lvbikge1xuICAgICAgLy8gRm9yIGRldmVsb3BtZW50LCBqdXN0IHJldHVybiB0aGUgc2Vzc2lvblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgIC8vIE1vY2sgY3JlYXRlU2Vzc2lvbiBmb3IgZGV2ZWxvcG1lbnRcbiAgICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHF1ZXJ5KFxuICAgICAgICAgICdJTlNFUlQgSU5UTyBzZXNzaW9ucyAodXNlcl9pZCwgZXhwaXJlcywgc2Vzc2lvbl90b2tlbiwgYWNjZXNzX3Rva2VuKSBWQUxVRVMgKCQxLCAkMiwgJDMsICQ0KScsXG4gICAgICAgICAgW3Nlc3Npb24udXNlcklkLCBzZXNzaW9uLmV4cGlyZXMsIHNlc3Npb24uc2Vzc2lvblRva2VuLCBzZXNzaW9uLmFjY2Vzc1Rva2VuXVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRTZXNzaW9uQW5kVXNlcihzZXNzaW9uVG9rZW4pIHtcbiAgICAgIC8vIEZvciBkZXZlbG9wbWVudCwgY3JlYXRlIGEgbW9jayBzZXNzaW9uXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgLy8gVXNpbmcgbW9jayBzZXNzaW9uIGZvciBkZXZlbG9wbWVudFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgIHNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgIHVzZXJJZDogTU9DS19VU0VSLmlkLFxuICAgICAgICAgICAgZXhwaXJlczogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCkgLy8gMzAgZGF5c1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdXNlcjogTU9DS19VU0VSXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb25SZXN1bHQgPSBhd2FpdCBxdWVyeShcbiAgICAgICAgICAnU0VMRUNUICogRlJPTSBzZXNzaW9ucyBXSEVSRSBzZXNzaW9uX3Rva2VuID0gJDEnLFxuICAgICAgICAgIFtzZXNzaW9uVG9rZW5dXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHNlc3Npb25SZXN1bHQucm93c1swXTtcblxuICAgICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVzZXJSZXN1bHQgPSBhd2FpdCBxdWVyeShcbiAgICAgICAgICAnU0VMRUNUIGlkLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUsIGVtYWlsLCBlbWFpbF92ZXJpZmllZCwgaW1hZ2UgRlJPTSB1c2VycyBXSEVSRSBpZCA9ICQxJyxcbiAgICAgICAgICBbc2Vzc2lvbi51c2VyX2lkXVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlclJlc3VsdC5yb3dzWzBdO1xuXG4gICAgICAgIGlmICghdXNlckRhdGEpIHJldHVybiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHVzZXIgPSB7XG4gICAgICAgICAgLi4udXNlckRhdGEsXG4gICAgICAgICAgbmFtZTogYCR7dXNlckRhdGEuZmlyc3RfbmFtZSB8fCAnJ30gJHt1c2VyRGF0YS5sYXN0X25hbWUgfHwgJyd9YC50cmltKCkgfHwgdXNlckRhdGEuZW1haWwuc3BsaXQoJ0AnKVswXVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgICB1c2VyXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHNlc3Npb24gYW5kIHVzZXI6JywgZXJyb3IpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgICBzZXNzaW9uVG9rZW4sXG4gICAgICAgICAgICAgIHVzZXJJZDogTU9DS19VU0VSLmlkLFxuICAgICAgICAgICAgICBleHBpcmVzOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSAvLyAzMCBkYXlzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXNlcjogTU9DS19VU0VSXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXN5bmMgdXBkYXRlU2Vzc2lvbihzZXNzaW9uKSB7XG4gICAgICAvLyBGb3IgZGV2ZWxvcG1lbnQsIGp1c3QgcmV0dXJuIHRoZSBzZXNzaW9uXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgLy8gTW9jayB1cGRhdGVTZXNzaW9uIGZvciBkZXZlbG9wbWVudFxuICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBzZXNzaW9uVG9rZW4sIGV4cGlyZXMsIHVzZXJJZCB9ID0gc2Vzc2lvbjtcblxuICAgICAgICBhd2FpdCBxdWVyeShcbiAgICAgICAgICAnVVBEQVRFIHNlc3Npb25zIFNFVCBleHBpcmVzID0gJDEsIHVzZXJfaWQgPSAkMiBXSEVSRSBzZXNzaW9uX3Rva2VuID0gJDMnLFxuICAgICAgICAgIFtleHBpcmVzLCB1c2VySWQsIHNlc3Npb25Ub2tlbl1cbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHNlc3Npb246JywgZXJyb3IpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlU2Vzc2lvbihzZXNzaW9uVG9rZW4pIHtcbiAgICAgIC8vIEZvciBkZXZlbG9wbWVudCwganVzdCBsb2dcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBjb25zb2xlLmxvZygnTW9jayBkZWxldGVTZXNzaW9uIGZvciBkZXZlbG9wbWVudCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHF1ZXJ5KFxuICAgICAgICAgICdERUxFVEUgRlJPTSBzZXNzaW9ucyBXSEVSRSBzZXNzaW9uX3Rva2VuID0gJDEnLFxuICAgICAgICAgIFtzZXNzaW9uVG9rZW5dXG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBzZXNzaW9uOicsIGVycm9yKTtcbiAgICAgICAgLy8gRG9uJ3QgdGhyb3cgZm9yIGRlbGV0ZSBvcGVyYXRpb25zXG4gICAgICB9XG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZVZlcmlmaWNhdGlvblRva2VuKHsgaWRlbnRpZmllciwgdG9rZW4sIGV4cGlyZXMgfSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcXVlcnkoXG4gICAgICAgICAgJ0lOU0VSVCBJTlRPIHZlcmlmaWNhdGlvbl90b2tlbnMgKGlkZW50aWZpZXIsIHRva2VuLCBleHBpcmVzKSBWQUxVRVMgKCQxLCAkMiwgJDMpJyxcbiAgICAgICAgICBbaWRlbnRpZmllciwgdG9rZW4sIGV4cGlyZXNdXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB7IGlkZW50aWZpZXIsIHRva2VuLCBleHBpcmVzIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyB2ZXJpZmljYXRpb24gdG9rZW46JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXN5bmMgdXNlVmVyaWZpY2F0aW9uVG9rZW4oeyBpZGVudGlmaWVyLCB0b2tlbiB9KSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeShcbiAgICAgICAgICAnREVMRVRFIEZST00gdmVyaWZpY2F0aW9uX3Rva2VucyBXSEVSRSBpZGVudGlmaWVyID0gJDEgQU5EIHRva2VuID0gJDIgUkVUVVJOSU5HIConLFxuICAgICAgICAgIFtpZGVudGlmaWVyLCB0b2tlbl1cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHJlc3VsdC5yb3dzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQucm93c1swXTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVzaW5nIHZlcmlmaWNhdGlvbiB0b2tlbjonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogJ2p3dCcsXG4gICAgbWF4QWdlOiAzMCAqIDI0ICogNjAgKiA2MCwgLy8gMzAgZGF5c1xuICB9LFxuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCxcbiAgZGVidWc6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTmV4dEF1dGgoYXV0aE9wdGlvbnMpO1xuIl0sIm5hbWVzIjpbIk5leHRBdXRoIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsIkdvb2dsZVByb3ZpZGVyIiwiRW1haWxQcm92aWRlciIsImJjcnlwdCIsImNyZWF0ZVRyYW5zcG9ydCIsImRiRmFsbGJhY2siLCJxdWVyeSIsInJvd3MiLCJnZXRVc2VyIiwiZ2V0VXNlckJ5RW1haWwiLCJjcmVhdGVVc2VyIiwiaWQiLCJ1cGRhdGVVc2VyIiwiZ2V0T3JkZXIiLCJ0d29GYWN0b3JGYWxsYmFjayIsInZlcmlmeTJGQSIsImdlbmVyYXRlMkZBU2VjcmV0Iiwic2VjcmV0IiwicXJDb2RlIiwiZW5hYmxlMkZBIiwiZGlzYWJsZTJGQSIsImdldFVzZXJUd29GYWN0b3JTZXR0aW5ncyIsImVuYWJsZWQiLCJlbWFpbF9lbmFibGVkIiwic21zX2VuYWJsZWQiLCJkdW9fZW5hYmxlZCIsInByZWZlcnJlZF9tZXRob2QiLCJkYiIsInR3b0ZhY3RvciIsInJlcXVpcmUiLCJlIiwiTU9DS19VU0VSIiwibmFtZSIsImVtYWlsIiwiaW1hZ2UiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiZW1haWxfdmVyaWZpZWQiLCJhdXRoT3B0aW9ucyIsInByb3ZpZGVycyIsImNyZWRlbnRpYWxzIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJwcm9jZXNzIiwicmVzdWx0IiwidXNlciIsInBhc3N3b3JkTWF0Y2giLCJjb21wYXJlIiwicGFzc3dvcmRfaGFzaCIsInR3b0ZhY3RvclNldHRpbmdzIiwidHJpbSIsInNwbGl0IiwicmVxdWlyZXNUd29GYWN0b3IiLCJ0d29GYWN0b3JNZXRob2RzIiwiZXJyb3IiLCJjb25zb2xlIiwidXNlcklkIiwidHdvRmFjdG9yVmVyaWZpZWQiLCJjbGllbnRJZCIsImVudiIsIkdPT0dMRV9DTElFTlRfSUQiLCJjbGllbnRTZWNyZXQiLCJHT09HTEVfQ0xJRU5UX1NFQ1JFVCIsImF1dGhvcml6YXRpb24iLCJwYXJhbXMiLCJwcm9tcHQiLCJhY2Nlc3NfdHlwZSIsInJlc3BvbnNlX3R5cGUiLCJzZXJ2ZXIiLCJob3N0IiwiRU1BSUxfU0VSVkVSX0hPU1QiLCJTTVRQX0hPU1QiLCJwb3J0IiwicGFyc2VJbnQiLCJFTUFJTF9TRVJWRVJfUE9SVCIsIlNNVFBfUE9SVCIsImF1dGgiLCJFTUFJTF9TRVJWRVJfVVNFUiIsIlNNVFBfVVNFUiIsInBhc3MiLCJFTUFJTF9TRVJWRVJfUEFTU1dPUkQiLCJTTVRQX1BBU1NXT1JEIiwiZnJvbSIsIkVNQUlMX0ZST00iLCJzZW5kVmVyaWZpY2F0aW9uUmVxdWVzdCIsImlkZW50aWZpZXIiLCJ1cmwiLCJwcm92aWRlciIsIlVSTCIsInRyYW5zcG9ydCIsImJyYW5kQ29sb3IiLCJlbWFpbEh0bWwiLCJzZW5kTWFpbCIsInRvIiwic3ViamVjdCIsInRleHQiLCJodG1sIiwicGFnZXMiLCJzaWduSW4iLCJzaWduT3V0IiwidmVyaWZ5UmVxdWVzdCIsIm5ld1VzZXIiLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsImFjY291bnQiLCJ1bmRlZmluZWQiLCJzZXNzaW9uIiwicmVkaXJlY3QiLCJiYXNlVXJsIiwic3RhcnRzV2l0aCIsImFkYXB0ZXIiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsIm5hbWVQYXJ0cyIsImxlbmd0aCIsInNsaWNlIiwiam9pbiIsImdldFVzZXJCeUFjY291bnQiLCJwcm92aWRlckFjY291bnRJZCIsInVwZGF0ZWRVc2VyIiwibGlua0FjY291bnQiLCJhY2Nlc3NfdG9rZW4iLCJyZWZyZXNoX3Rva2VuIiwiZXhwaXJlc19hdCIsIkRhdGUiLCJjcmVhdGVTZXNzaW9uIiwiZXhwaXJlcyIsInNlc3Npb25Ub2tlbiIsImFjY2Vzc1Rva2VuIiwiZ2V0U2Vzc2lvbkFuZFVzZXIiLCJub3ciLCJzZXNzaW9uUmVzdWx0IiwidXNlclJlc3VsdCIsInVzZXJfaWQiLCJ1c2VyRGF0YSIsInVwZGF0ZVNlc3Npb24iLCJkZWxldGVTZXNzaW9uIiwibG9nIiwiY3JlYXRlVmVyaWZpY2F0aW9uVG9rZW4iLCJ1c2VWZXJpZmljYXRpb25Ub2tlbiIsInN0cmF0ZWd5IiwibWF4QWdlIiwiTkVYVEFVVEhfU0VDUkVUIiwiZGVidWciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/auth/[...nextauth].js\n");

/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("bcrypt");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next-auth/providers/email":
/*!********************************************!*\
  !*** external "next-auth/providers/email" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/email");

/***/ }),

/***/ "next-auth/providers/google":
/*!*********************************************!*\
  !*** external "next-auth/providers/google" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/google");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();