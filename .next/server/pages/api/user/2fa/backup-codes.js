"use strict";(()=>{var e={};e.id=8762,e.ids=[8762],e.modules={5486:e=>{e.exports=require("bcrypt")},15806:e=>{e.exports=require("next-auth/next")},16382:e=>{e.exports=require("next-auth/providers/credentials")},21572:e=>{e.exports=require("nodemailer")},50804:e=>{e.exports=require("next-auth/providers/email")},65542:e=>{e.exports=require("next-auth")},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},77851:e=>{e.exports=require("next-auth/providers/google")},85559:(e,r,t)=>{t.r(r),t.d(r,{config:()=>c,default:()=>l,routeModule:()=>g});var s={};t.r(s),t.d(s,{default:()=>p});var a=t(33480),o=t(8667),u=t(86435),n=t(15806),i=t(52043),d=t(75832);async function p(e,r){let t=await (0,n.getServerSession)(e,r,i.authOptions);if(!t)return r.status(401).json({message:"Unauthorized"});let s=t.user.id;if("POST"===e.method)try{let e=await (0,d.generateBackupCodes)(s);if(!e||0===e.length)return r.status(500).json({message:"Failed to generate backup codes"});return r.status(200).json({codes:e})}catch(e){return console.error("Error generating backup codes:",e),r.status(500).json({message:"Internal server error"})}return r.status(405).json({message:"Method not allowed"})}let l=(0,u.M)(s,"default"),c=(0,u.M)(s,"config"),g=new a.PagesAPIRouteModule({definition:{kind:o.A.PAGES_API,page:"/api/user/2fa/backup-codes",pathname:"/api/user/2fa/backup-codes",bundlePath:"",filename:""},userland:s})}};var r=require("../../../../webpack-api-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[2622],()=>t(85559));module.exports=s})();