"use strict";(()=>{var e={};e.id=6408,e.ids=[6408],e.modules={20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},56249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},11432:(e,t,r)=>{r.r(t),r.d(t,{config:()=>l,default:()=>u,routeModule:()=>g});var n={};r.r(n),r.d(n,{default:()=>c});var o=r(71802),a=r(47153),s=r(56249),i=r(80544);async function c(e,t){if("GET"!==e.method)return t.status(405).json({message:"Method not allowed"});try{let{ids:r}=e.query;if(!r)return t.status(400).json({message:"Product IDs are required"});let n=r.split(","),o=`
      SELECT p.*, c.name as category_name
      FROM products p
      LEFT JOIN categories c ON p.category_id = c.id
      WHERE p.id = ANY($1::int[])
    `,a=[{id:1,name:"iPhone 13 Pro OLED Screen",slug:"iphone-13-pro-oled-screen",price:129.99,category_name:"iPhone Parts",image_url:"/images/products/iphone-13-screen.jpg",rating:4.5,review_count:28,stock:15,discount_percentage:0},{id:2,name:"Samsung Galaxy S22 Battery",slug:"samsung-galaxy-s22-battery",price:39.99,category_name:"Samsung Parts",image_url:"/images/products/samsung-s21-screen.jpg",rating:4.2,review_count:17,stock:23,discount_percentage:15},{id:3,name:"Professional Repair Tool Kit",slug:"professional-repair-tool-kit",price:89.99,category_name:"Repair Tools",image_url:"/images/products/repair-toolkit.jpg",rating:4.8,review_count:42,stock:8,discount_percentage:0},{id:4,name:'iPad Pro 12.9" LCD Assembly',slug:"ipad-pro-12-9-lcd-assembly",price:199.99,category_name:"iPad Parts",image_url:"/images/products/ipad-pro-screen.jpg",rating:4.6,review_count:13,stock:5,discount_percentage:10}];try{let{rows:e}=await i.d_.query(o,[n]);if(e&&e.length>0)return t.status(200).json(e);let r=a.filter(e=>n.includes(e.id.toString()));return t.status(200).json(r)}catch(r){console.error("Database query failed, using mock data:",r);let e=a.filter(e=>n.includes(e.id.toString()));return t.status(200).json(e)}}catch(e){return console.error("Error fetching products batch:",e),t.status(200).json([{id:1,name:"iPhone 13 Pro OLED Screen",slug:"iphone-13-pro-oled-screen",price:129.99,category_name:"iPhone Parts",image_url:"/images/products/iphone-screen.jpg",rating:4.5,review_count:28,stock:15,discount_percentage:0},{id:2,name:"Samsung Galaxy S22 Battery",slug:"samsung-galaxy-s22-battery",price:39.99,category_name:"Samsung Parts",image_url:"/images/products/samsung-battery.jpg",rating:4.2,review_count:17,stock:23,discount_percentage:15}])}}let u=(0,s.l)(n,"default"),l=(0,s.l)(n,"config"),g=new o.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/products/batch",pathname:"/api/products/batch",bundlePath:"",filename:""},userland:n})},80544:(e,t,r)=>{r.d(t,{d_:()=>n});let n={query:async(e,t=[])=>(console.log(`Utils pool query: ${e}`,t),{rows:[],rowCount:0}),connect:async()=>(console.log("Utils pool connection established"),{query:async(e,t=[])=>(console.log(`Utils connection query: ${e}`,t),{rows:[],rowCount:0}),release:()=>console.log("Utils connection released")})}},47153:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},71802:(e,t,r)=>{e.exports=r(20145)}};var t=require("../../../webpack-api-runtime.js");t.C(e);var r=t(t.s=11432);module.exports=r})();