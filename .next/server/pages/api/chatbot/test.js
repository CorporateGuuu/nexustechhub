"use strict";(()=>{var e={};e.id=7463,e.ids=[7463],e.modules={5486:e=>{e.exports=require("bcrypt")},15806:e=>{e.exports=require("next-auth/next")},16382:e=>{e.exports=require("next-auth/providers/credentials")},21572:e=>{e.exports=require("nodemailer")},28527:(e,t,r)=>{r.d(t,{Ph:()=>a});let a=async(e,t=null)=>{console.log(`Processing message: "${e}" from user ${t||"anonymous"}`);let r=e.toLowerCase(),a="";return{response:r.includes("hello")||r.includes("hi")?"Hello! Welcome to Nexus TechHub. How can I help you with your phone repair needs today?":r.includes("price")||r.includes("cost")?"Our prices are very competitive! Please check our product pages for specific pricing, or contact us at +971 58 553 1029 for a quote.":r.includes("shipping")||r.includes("delivery")?"We offer fast shipping across the UAE! Orders are typically delivered within 1-2 business days in Ras Al Khaimah and surrounding areas.":r.includes("warranty")?"All our parts come with manufacturer warranty. Contact us for specific warranty terms for your product.":r.includes("iphone")?"We have a wide selection of iPhone parts including screens, batteries, cameras, and more. What specific iPhone model are you looking for?":r.includes("samsung")?"We stock Samsung Galaxy parts for most popular models. What Samsung device do you need parts for?":r.includes("repair")?"We offer professional repair services at our Ras Al Khaimah location. You can also purchase parts for DIY repairs with our detailed guides.":r.includes("location")||r.includes("address")?"We are located at Compass Building, Al Shohada Road, AL Hamra Industrial Zone-FZ, Ras Al Khaimah, United Arab Emirates.":r.includes("contact")||r.includes("phone")?"You can reach us at +971 58 553 1029 or email support@nexustechhub.ae. Our hours are Sunday-Thursday 9AM-6PM GST.":"Thank you for your message! For specific inquiries, please contact us at +971 58 553 1029 or visit our store in Ras Al Khaimah. How else can I help you?",confidence:.95,intent:"general_inquiry",timestamp:new Date().toISOString(),userId:t}}},50804:e=>{e.exports=require("next-auth/providers/email")},65542:e=>{e.exports=require("next-auth")},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},77851:e=>{e.exports=require("next-auth/providers/google")},81814:(e,t,r)=>{r.r(t),r.d(t,{config:()=>m,default:()=>g,routeModule:()=>w});var a={};r.r(a),r.d(a,{default:()=>y});var s=r(33480),o=r(8667),n=r(86435);let i=[{id:"test_1",name:"Greeting Test",input:"Hello",expectedKeywords:["hello","help","nexus","techhub"],category:"greeting"},{id:"test_2",name:"Price Inquiry",input:"How much does an iPhone 15 screen cost?",expectedKeywords:["price","competitive","product page"],category:"pricing"},{id:"test_3",name:"Shipping Question",input:"How long does delivery take?",expectedKeywords:["shipping","delivery","1-2 business days","UAE"],category:"shipping"},{id:"test_4",name:"Warranty Inquiry",input:"What warranty do you offer?",expectedKeywords:["warranty","manufacturer","months"],category:"warranty"},{id:"test_5",name:"iPhone Parts",input:"Do you have iPhone parts?",expectedKeywords:["iphone","parts","screens","batteries"],category:"products"},{id:"test_6",name:"Samsung Parts",input:"Samsung Galaxy S24 battery",expectedKeywords:["samsung","galaxy","parts"],category:"products"},{id:"test_7",name:"Repair Services",input:"Do you repair phones?",expectedKeywords:["repair","services","ras al khaimah"],category:"services"},{id:"test_8",name:"Location Query",input:"Where are you located?",expectedKeywords:["compass building","ras al khaimah","address"],category:"location"},{id:"test_9",name:"Contact Information",input:"How can I contact you?",expectedKeywords:["phone","+971 58 553 1029","email","support@nexustechhub.ae"],category:"contact"},{id:"test_10",name:"Complex Query",input:"I need to replace my iPhone 14 Pro screen and want to know about warranty and shipping",expectedKeywords:["iphone","screen","warranty","shipping"],category:"complex"}],c=async(e,t)=>{try{let r=await t.processMessage(e.input),a=r.response.toLowerCase(),s=e.expectedKeywords.filter(e=>a.includes(e.toLowerCase())),o=s.length/e.expectedKeywords.length;return{testId:e.id,name:e.name,input:e.input,response:r.response,expectedKeywords:e.expectedKeywords,matchedKeywords:s,score:o,passed:o>=.5,category:e.category}}catch(t){return{testId:e.id,name:e.name,input:e.input,error:t.message,score:0,passed:!1,category:e.category}}},u=async e=>{let t=[];for(let r of i){let a=await c(r,e);t.push(a)}let r={total:t.length,passed:t.filter(e=>e.passed).length,failed:t.filter(e=>!e.passed).length,averageScore:t.reduce((e,t)=>e+t.score,0)/t.length,categoryBreakdown:{}};return i.forEach(e=>{r.categoryBreakdown[e.category]||(r.categoryBreakdown[e.category]={total:0,passed:0}),r.categoryBreakdown[e.category].total++}),t.forEach(e=>{e.passed&&r.categoryBreakdown[e.category].passed++}),{summary:r,results:t}},d=async e=>(console.log("Running comprehensive chatbot tests..."),{...await u(e),test_run_id:`test_${Date.now()}`,completed_at:new Date().toISOString(),environment:"development"});var p=r(28527),l=r(15806),h=r(52043);async function y(e,t){if("POST"!==e.method)return t.status(405).json({message:"Method not allowed"});try{let r=await (0,l.getServerSession)(e,t,h.authOptions);if(!r||!r.user.isAdmin)return t.status(403).json({success:!1,message:"Unauthorized. Only administrators can run chatbot tests."});let a=await d(p.Ph);return t.status(200).json({success:!0,results:a})}catch(e){return console.error("Error running chatbot tests:",e),t.status(500).json({success:!1,message:"Error running chatbot tests",error:e.message})}}let g=(0,n.M)(a,"default"),m=(0,n.M)(a,"config"),w=new s.PagesAPIRouteModule({definition:{kind:o.A.PAGES_API,page:"/api/chatbot/test",pathname:"/api/chatbot/test",bundlePath:"",filename:""},userland:a})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[2622],()=>r(81814));module.exports=a})();