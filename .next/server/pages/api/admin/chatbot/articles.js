"use strict";(()=>{var e={};e.id=5527,e.ids=[5527],e.modules={67096:e=>{e.exports=require("bcrypt")},73227:e=>{e.exports=require("next-auth")},62113:e=>{e.exports=require("next-auth/next")},47449:e=>{e.exports=require("next-auth/providers/credentials")},93598:e=>{e.exports=require("next-auth/providers/google")},20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},2105:(e,t,r)=>{r.r(t),r.d(t,{config:()=>p,default:()=>l,routeModule:()=>g});var s={};r.r(s),r.d(s,{default:()=>c});var a=r(71802),o=r(47153),i=r(56249),n=r(80544),u=r(62113),d=r(45884);async function c(e,t){let r=await (0,u.getServerSession)(e,t,d.authOptions);if(!r||!r.user.isAdmin)return t.status(401).json({success:!1,message:"Unauthorized"});if("GET"!==e.method)return t.status(405).json({success:!1,message:"Method not allowed"});try{let e=`
      SELECT id, title, slug, summary, category, created_at, updated_at
      FROM support_articles
      ORDER BY updated_at DESC
    `;try{let{rows:r}=await n.d_.query(e);return t.status(200).json({success:!0,articles:r})}catch(e){return console.error("Database error:",e),t.status(200).json({success:!0,articles:[{id:1,title:"How to Replace an iPhone Screen",slug:"how-to-replace-iphone-screen",summary:"Step-by-step guide for replacing your iPhone screen at home.",category:"Repair Guides",created_at:"2023-01-15T10:30:00Z",updated_at:"2023-03-20T14:45:00Z"},{id:2,title:"Troubleshooting iPhone Battery Issues",slug:"troubleshooting-iphone-battery-issues",summary:"Common battery problems and how to fix them.",category:"Troubleshooting",created_at:"2023-02-10T09:15:00Z",updated_at:"2023-04-05T11:30:00Z"},{id:3,title:"Water Damage Repair Guide",slug:"water-damage-repair-guide",summary:"What to do if your device has water damage.",category:"Repair Guides",created_at:"2023-01-25T13:45:00Z",updated_at:"2023-03-15T16:20:00Z"},{id:4,title:"Understanding LCD vs. OLED Screens",slug:"understanding-lcd-vs-oled-screens",summary:"Differences between LCD and OLED screens and which is right for your device.",category:"Product Information",created_at:"2023-02-28T15:10:00Z",updated_at:"2023-04-10T09:45:00Z"},{id:5,title:"Shipping and Delivery FAQ",slug:"shipping-and-delivery-faq",summary:"Frequently asked questions about shipping and delivery.",category:"Customer Service",created_at:"2023-01-05T11:20:00Z",updated_at:"2023-03-25T10:15:00Z"}]})}}catch(e){return console.error("Error fetching support articles:",e),t.status(500).json({success:!1,message:"Internal server error"})}}let l=(0,i.l)(s,"default"),p=(0,i.l)(s,"config"),g=new a.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/admin/chatbot/articles",pathname:"/api/admin/chatbot/articles",bundlePath:"",filename:""},userland:s})},80544:(e,t,r)=>{r.d(t,{d_:()=>s});let s={query:async(e,t=[])=>(console.log(`Utils pool query: ${e}`,t),{rows:[],rowCount:0}),connect:async()=>(console.log("Utils pool connection established"),{query:async(e,t=[])=>(console.log(`Utils connection query: ${e}`,t),{rows:[],rowCount:0}),release:()=>console.log("Utils connection released")})}}};var t=require("../../../../webpack-api-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8074],()=>r(2105));module.exports=s})();