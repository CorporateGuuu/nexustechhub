"use strict";(()=>{var e={};e.id=8057,e.ids=[8057],e.modules={8667:(e,s)=>{Object.defineProperty(s,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},30367:(e,s,t)=>{t.r(s),t.d(s,{config:()=>d,default:()=>i,routeModule:()=>m});var a={};t.r(a),t.d(a,{default:()=>c});var r=t(33480),n=t(8667),u=t(86435);let o={sendToZapier:async(e,s)=>(console.log(`Sending data to Zapier webhook: ${e}`,s),{success:!0,status:200,data:{id:`zap_${Date.now()}`,status:"success",message:"Data sent to Zapier successfully"}}),triggerZap:async(e,s)=>(console.log(`Triggering Zap ${e} with data:`,s),{success:!0,zapId:e,triggeredAt:new Date().toISOString(),data:s}),createWebhook:async e=>(console.log("Creating Zapier webhook:",e),{success:!0,webhookUrl:`https://hooks.zapier.com/hooks/catch/mock/${Date.now()}`,config:e,createdAt:new Date().toISOString()})};async function c(e,s){if("POST"!==e.method)return s.status(405).json({success:!1,message:"Method not allowed"});let{event:t}=e.query;switch(t){case"new_order":let a=e.body;if(!a.orderNumber||!a.totalAmount||!a.items||!a.customerName||!a.email)return s.status(400).json({success:!1,message:"Order number, total amount, items, customer name, and email are required"});let{success:r,error:n}=await o.notifyNewOrder(a);if(!r)return s.status(500).json({success:!1,message:n});return s.status(200).json({success:!0,message:"Order notification sent to Zapier successfully"});case"low_inventory":let u=e.body;if(!u.id||!u.name||void 0===u.quantity)return s.status(400).json({success:!1,message:"Product ID, name, and quantity are required"});let{success:c,error:i}=await o.notifyLowInventory(u);if(!c)return s.status(500).json({success:!1,message:i});return s.status(200).json({success:!0,message:"Low inventory notification sent to Zapier successfully"});case"new_customer":let d=e.body;if(!d.name||!d.email)return s.status(400).json({success:!1,message:"Customer name and email are required"});let{success:m,error:l}=await o.notifyNewCustomer(d);if(!m)return s.status(500).json({success:!1,message:l});return s.status(200).json({success:!0,message:"New customer notification sent to Zapier successfully"});case"abandoned_cart":let f=e.body;if(!f.email||!f.items||!f.totalAmount)return s.status(400).json({success:!1,message:"Email, items, and total amount are required"});let{success:g,error:p}=await o.notifyAbandonedCart(f);if(!g)return s.status(500).json({success:!1,message:p});return s.status(200).json({success:!0,message:"Abandoned cart notification sent to Zapier successfully"});case"product_review":let y=e.body;if(!y.productId||!y.productName||!y.rating||!y.reviewText||!y.customerName)return s.status(400).json({success:!1,message:"Product ID, product name, rating, review text, and customer name are required"});let{success:w,error:j}=await o.notifyProductReview(y);if(!w)return s.status(500).json({success:!1,message:j});return s.status(200).json({success:!0,message:"Product review notification sent to Zapier successfully"});case"support_request":let P=e.body;if(!P.name||!P.email||!P.subject||!P.message)return s.status(400).json({success:!1,message:"Name, email, subject, and message are required"});let{success:b,error:A}=await o.notifySupportRequest(P);if(!b)return s.status(500).json({success:!1,message:A});return s.status(200).json({success:!0,message:"Support request notification sent to Zapier successfully"});case"custom":let{webhookUrl:v,eventName:h,data:q}=e.body;if(!v||!h||!q)return s.status(400).json({success:!1,message:"Webhook URL, event name, and data are required"});let{success:_,error:E}=await o.sendCustomEvent(v,h,q);if(!_)return s.status(500).json({success:!1,message:E});return s.status(200).json({success:!0,message:"Custom event sent to Zapier successfully"});default:return s.status(400).json({success:!1,message:"Invalid event type"})}}let i=(0,u.M)(a,"default"),d=(0,u.M)(a,"config"),m=new r.PagesAPIRouteModule({definition:{kind:n.A.PAGES_API,page:"/api/zapier/webhooks",pathname:"/api/zapier/webhooks",bundlePath:"",filename:""},userland:a})},33480:(e,s,t)=>{e.exports=t(75600)},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},86435:(e,s)=>{Object.defineProperty(s,"M",{enumerable:!0,get:function(){return function e(s,t){return t in s?s[t]:"then"in s&&"function"==typeof s.then?s.then(s=>e(s,t)):"function"==typeof s&&"default"===t?s:void 0}}})}};var s=require("../../../webpack-api-runtime.js");s.C(e);var t=s(s.s=30367);module.exports=t})();