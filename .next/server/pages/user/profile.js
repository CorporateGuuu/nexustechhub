(()=>{var e={};e.id=8872,e.ids=[8872,2888,660],e.modules={31209:e=>{e.exports={twoFactorSetup:"TwoFactorAuth_twoFactorSetup__HyIsT",description:"TwoFactorAuth_description__VX2X1",error:"TwoFactorAuth_error__6om0q",success:"TwoFactorAuth_success__cEzBw",toggleContainer:"TwoFactorAuth_toggleContainer__ETt4Z",toggle:"TwoFactorAuth_toggle__hU6AN",toggleSwitch:"TwoFactorAuth_toggleSwitch___3OIO",slider:"TwoFactorAuth_slider__a02gE",methodsContainer:"TwoFactorAuth_methodsContainer__rYE69",method:"TwoFactorAuth_method__8B8c7",methodDescription:"TwoFactorAuth_methodDescription__V0UFV",testButton:"TwoFactorAuth_testButton__0BKy3",addPhoneLink:"TwoFactorAuth_addPhoneLink__ECIyQ",duoLink:"TwoFactorAuth_duoLink__Kh5_z",preferredMethod:"TwoFactorAuth_preferredMethod__vRlJf",radioGroup:"TwoFactorAuth_radioGroup__qCwKi",radio:"TwoFactorAuth_radio__0jQbC",backupCodes:"TwoFactorAuth_backupCodes__sg8lg",generateButton:"TwoFactorAuth_generateButton__wb6uy",codesContainer:"TwoFactorAuth_codesContainer__USZ60",warning:"TwoFactorAuth_warning___0wlx",codes:"TwoFactorAuth_codes__VHDTn",code:"TwoFactorAuth_code__uC_b2",printButton:"TwoFactorAuth_printButton__FU79P",closeButton:"TwoFactorAuth_closeButton__SGbty",loading:"TwoFactorAuth_loading__932Lk",spinner:"TwoFactorAuth_spinner__mo5NC",spin:"TwoFactorAuth_spin__Ud7VS",verificationContainer:"TwoFactorAuth_verificationContainer__tHKVG",verificationDescription:"TwoFactorAuth_verificationDescription__tQEXg",verificationForm:"TwoFactorAuth_verificationForm__mt4Tf",codeInput:"TwoFactorAuth_codeInput__Tt4JK",verifyButton:"TwoFactorAuth_verifyButton__wEAXB",resendContainer:"TwoFactorAuth_resendContainer__fs3LM",resendLink:"TwoFactorAuth_resendLink__PBmkh",countdown:"TwoFactorAuth_countdown__mL3Kb",alternativeMethod:"TwoFactorAuth_alternativeMethod__unCIl",methodButton:"TwoFactorAuth_methodButton__7g0wL",backupCodeLink:"TwoFactorAuth_backupCodeLink__hzy_k",backupCodeForm:"TwoFactorAuth_backupCodeForm__XbWxp",backupCodeInput:"TwoFactorAuth_backupCodeInput__iTQsW",duoContainer:"TwoFactorAuth_duoContainer__ezP8M",printHide:"TwoFactorAuth_printHide__856IU"}},22346:e=>{e.exports={container:"UserProfile_container__GzES2",header:"UserProfile_header__4QRX2",backLink:"UserProfile_backLink__JYvdH",content:"UserProfile_content__y8lhl",sidebar:"UserProfile_sidebar__a8wTF",userInfo:"UserProfile_userInfo__s_eXK",avatar:"UserProfile_avatar__KT0t2",initials:"UserProfile_initials__gptyZ",userName:"UserProfile_userName__Os3sW",userEmail:"UserProfile_userEmail__Fu1x9",nav:"UserProfile_nav__f_Y1A",navItem:"UserProfile_navItem__YGjiO",active:"UserProfile_active__KxEcX",mainContent:"UserProfile_mainContent__9vUkh",tabContent:"UserProfile_tabContent__0nM7l",form:"UserProfile_form__LgU_v",formRow:"UserProfile_formRow___9b4O",formGroup:"UserProfile_formGroup__yLTt1",input:"UserProfile_input__P2XfE",select:"UserProfile_select__BRl0V",textarea:"UserProfile_textarea___EE9m",helpText:"UserProfile_helpText__sOllq",checkboxLabel:"UserProfile_checkboxLabel__NK3Us",formActions:"UserProfile_formActions__PbV5t",saveButton:"UserProfile_saveButton__1numi",cancelButton:"UserProfile_cancelButton__BbCFc",deleteButton:"UserProfile_deleteButton__zijpi",editButton:"UserProfile_editButton__EGzqg",defaultButton:"UserProfile_defaultButton__lSvuV",divider:"UserProfile_divider__OqMwi",successMessage:"UserProfile_successMessage__4lnRk",errorMessage:"UserProfile_errorMessage__09rYJ",addressList:"UserProfile_addressList__31QLw",addressCard:"UserProfile_addressCard__6zkT8",defaultBadge:"UserProfile_defaultBadge__f7gYk",addressName:"UserProfile_addressName__okTfN",addressDetails:"UserProfile_addressDetails__G6PQJ",addressActions:"UserProfile_addressActions__jGFDx",noAddresses:"UserProfile_noAddresses__ajdCK",securitySection:"UserProfile_securitySection__dg90q",ordersList:"UserProfile_ordersList__LFLiF",comingSoon:"UserProfile_comingSoon__qPsg1",loading:"UserProfile_loading__GVy8l",spinner:"UserProfile_spinner__6Exdg",spin:"UserProfile_spin__ilI8E"}},17686:(e,s,a)=>{"use strict";a.r(s),a.d(s,{config:()=>F,default:()=>N,getServerSideProps:()=>C,getStaticPaths:()=>P,getStaticProps:()=>S,reportWebVitals:()=>A,routeModule:()=>L,unstable_getServerProps:()=>B,unstable_getServerSideProps:()=>E,unstable_getStaticParams:()=>U,unstable_getStaticPaths:()=>T,unstable_getStaticProps:()=>k});var t={};a.r(t),a.d(t,{default:()=>w,getServerSideProps:()=>y});var r=a(87093),i=a(35244),n=a(1323),o=a(65949),l=a(14239),d=a(20997),c=a(16689);a(25675);var u=a(41649),h=a(11163),m=a(40968),_=a.n(m),p=a(41664),f=a.n(p),x=a(31209),j=a.n(x);let g=()=>{let{data:e}=(0,u.useSession)(),[s,a]=(0,c.useState)({enabled:!1,preferred_method:null,email_enabled:!1,sms_enabled:!1,duo_enabled:!1}),[t,r]=(0,c.useState)(!0),[i,n]=(0,c.useState)(""),[o,l]=(0,c.useState)(""),[h,m]=(0,c.useState)(""),[_,p]=(0,c.useState)([]),[x,g]=(0,c.useState)(!1);(0,c.useEffect)(()=>{e?.user?.id&&(b(),v())},[e]);let b=async()=>{try{r(!0);let e=await fetch("/api/user/2fa/settings");if(e.ok){let s=await e.json();a(s.settings)}else{let s=await e.json();n(s.message||"Failed to fetch 2FA settings")}}catch(e){n("An error occurred while fetching 2FA settings"),console.error(e)}finally{r(!1)}},v=async()=>{try{let e=await fetch("/api/user/profile");if(e.ok){let s=await e.json();m(s.user.phone_number||"")}}catch(e){console.error("Error fetching user phone number:",e)}},w=async()=>{try{if(n(""),l(""),!s.enabled&&!s.email_enabled&&!s.sms_enabled&&!s.duo_enabled){n("Please enable at least one verification method");return}let e=await fetch("/api/user/2fa/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,enabled:!s.enabled})});if(e.ok){let t=await e.json();a(t.settings),l(s.enabled?"2FA has been disabled":"2FA has been enabled"),s.enabled||S()}else{let s=await e.json();n(s.message||"Failed to update 2FA settings")}}catch(e){n("An error occurred while updating 2FA settings"),console.error(e)}},y=async e=>{try{if(n(""),l(""),"sms"===e&&!s.sms_enabled&&!h){n("Please add a phone number in your profile before enabling SMS verification");return}let t={...s,[`${e}_enabled`]:!s[`${e}_enabled`]};s.preferred_method!==e||t[`${e}_enabled`]||(t.preferred_method=null),s.email_enabled||s.sms_enabled||s.duo_enabled||!t[`${e}_enabled`]||(t.preferred_method=e);let r=await fetch("/api/user/2fa/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(r.ok){let s=await r.json();a(s.settings),l(`${e.toUpperCase()} verification has been ${t[`${e}_enabled`]?"enabled":"disabled"}`)}else{let s=await r.json();n(s.message||`Failed to update ${e} settings`)}}catch(s){n(`An error occurred while updating ${e} settings`),console.error(s)}},N=async e=>{try{if(n(""),l(""),!s[`${e}_enabled`]){n(`${e.toUpperCase()} verification is not enabled`);return}let t=await fetch("/api/user/2fa/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,preferred_method:e})});if(t.ok){let s=await t.json();a(s.settings),l(`${e.toUpperCase()} is now your preferred verification method`)}else{let e=await t.json();n(e.message||"Failed to update preferred method")}}catch(e){n("An error occurred while updating preferred method"),console.error(e)}},S=async()=>{try{n(""),l("");let e=await fetch("/api/user/2fa/backup-codes",{method:"POST"});if(e.ok){let s=await e.json();p(s.codes),g(!0),l("Backup codes generated successfully")}else{let s=await e.json();n(s.message||"Failed to generate backup codes")}}catch(e){n("An error occurred while generating backup codes"),console.error(e)}},P=async e=>{try{n(""),l("");let s=await fetch("/api/user/2fa/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:e})});if(s.ok)l(`Test verification sent to your ${"email"===e?"email":"phone"}`);else{let a=await s.json();n(a.message||`Failed to send test ${e} verification`)}}catch(s){n(`An error occurred while sending test ${e} verification`),console.error(s)}};return t?(0,d.jsxs)("div",{className:j().loading,children:[d.jsx("div",{className:j().spinner}),d.jsx("p",{children:"Loading 2FA settings..."})]}):(0,d.jsxs)("div",{className:j().twoFactorSetup,children:[d.jsx("h2",{children:"Two-Factor Authentication"}),d.jsx("p",{className:j().description,children:"Two-factor authentication adds an extra layer of security to your account by requiring a verification code in addition to your password."}),i&&d.jsx("div",{className:j().error,children:i}),o&&d.jsx("div",{className:j().success,children:o}),d.jsx("div",{className:j().toggleContainer,children:(0,d.jsxs)("label",{className:j().toggle,children:[d.jsx("span",{children:"Enable Two-Factor Authentication"}),(0,d.jsxs)("div",{className:j().toggleSwitch,children:[d.jsx("input",{type:"checkbox",checked:s.enabled,onChange:w}),d.jsx("span",{className:j().slider})]})]})}),(0,d.jsxs)("div",{className:j().methodsContainer,children:[d.jsx("h3",{children:"Verification Methods"}),d.jsx("p",{children:"Choose one or more verification methods:"}),(0,d.jsxs)("div",{className:j().method,children:[(0,d.jsxs)("label",{className:j().toggle,children:[d.jsx("span",{children:"Email Verification"}),(0,d.jsxs)("div",{className:j().toggleSwitch,children:[d.jsx("input",{type:"checkbox",checked:s.email_enabled,onChange:()=>y("email")}),d.jsx("span",{className:j().slider})]})]}),(0,d.jsxs)("p",{className:j().methodDescription,children:["Receive verification codes via email at ",e?.user?.email]}),s.email_enabled&&d.jsx("button",{className:j().testButton,onClick:()=>P("email"),children:"Send Test Email"})]}),(0,d.jsxs)("div",{className:j().method,children:[(0,d.jsxs)("label",{className:j().toggle,children:[d.jsx("span",{children:"SMS Verification"}),(0,d.jsxs)("div",{className:j().toggleSwitch,children:[d.jsx("input",{type:"checkbox",checked:s.sms_enabled,onChange:()=>y("sms")}),d.jsx("span",{className:j().slider})]})]}),(0,d.jsxs)("p",{className:j().methodDescription,children:["Receive verification codes via SMS at ",h||"No phone number added",!h&&d.jsx(f(),{href:"/user/profile",className:j().addPhoneLink,children:"Add phone number"})]}),s.sms_enabled&&d.jsx("button",{className:j().testButton,onClick:()=>P("sms"),children:"Send Test SMS"})]}),(0,d.jsxs)("div",{className:j().method,children:[(0,d.jsxs)("label",{className:j().toggle,children:[d.jsx("span",{children:"DUO Security"}),(0,d.jsxs)("div",{className:j().toggleSwitch,children:[d.jsx("input",{type:"checkbox",checked:s.duo_enabled,onChange:()=>y("duo")}),d.jsx("span",{className:j().slider})]})]}),d.jsx("p",{className:j().methodDescription,children:"Use DUO Security mobile app for push notifications"}),s.duo_enabled&&d.jsx("a",{href:"https://duo.com/product/multi-factor-authentication-mfa/duo-mobile-app",target:"_blank",rel:"noopener noreferrer",className:j().duoLink,children:"Download DUO Mobile App"})]})]}),(s.email_enabled||s.sms_enabled||s.duo_enabled)&&(0,d.jsxs)("div",{className:j().preferredMethod,children:[d.jsx("h3",{children:"Preferred Method"}),d.jsx("p",{children:"Select your preferred verification method:"}),(0,d.jsxs)("div",{className:j().radioGroup,children:[s.email_enabled&&(0,d.jsxs)("label",{className:j().radio,children:[d.jsx("input",{type:"radio",name:"preferred_method",value:"email",checked:"email"===s.preferred_method,onChange:()=>N("email")}),d.jsx("span",{children:"Email"})]}),s.sms_enabled&&(0,d.jsxs)("label",{className:j().radio,children:[d.jsx("input",{type:"radio",name:"preferred_method",value:"sms",checked:"sms"===s.preferred_method,onChange:()=>N("sms")}),d.jsx("span",{children:"SMS"})]}),s.duo_enabled&&(0,d.jsxs)("label",{className:j().radio,children:[d.jsx("input",{type:"radio",name:"preferred_method",value:"duo",checked:"duo"===s.preferred_method,onChange:()=>N("duo")}),d.jsx("span",{children:"DUO Security"})]})]})]}),s.enabled&&(0,d.jsxs)("div",{className:j().backupCodes,children:[d.jsx("h3",{children:"Backup Codes"}),d.jsx("p",{children:"Backup codes can be used to access your account if you cannot receive verification codes. Each code can only be used once."}),d.jsx("button",{className:j().generateButton,onClick:S,children:"Generate New Backup Codes"}),x&&_.length>0&&(0,d.jsxs)("div",{className:j().codesContainer,children:[d.jsx("p",{className:j().warning,children:"Save these backup codes in a secure location. They will not be shown again!"}),d.jsx("div",{className:j().codes,children:_.map((e,s)=>d.jsx("div",{className:j().code,children:e},s))}),d.jsx("button",{className:j().printButton,onClick:()=>window.print(),children:"Print Backup Codes"}),d.jsx("button",{className:j().closeButton,onClick:()=>g(!1),children:"I've Saved These Codes"})]})]})]})};var b=a(22346),v=a.n(b);function w(){let{data:e,status:s}=(0,u.useSession)(),[a,t]=(0,c.useState)("profile"),[r,i]=(0,c.useState)(!0),[n,o]=(0,c.useState)(!1),[l,m]=(0,c.useState)(""),[p,x]=(0,c.useState)(""),[j,b]=(0,c.useState)({first_name:"",last_name:"",email:"",phone_number:"",image:""}),[w,y]=(0,c.useState)({current_password:"",new_password:"",confirm_password:""}),[N,S]=(0,c.useState)([]),[P,C]=(0,c.useState)({address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"US",is_default:!1}),[F,A]=(0,c.useState)(null);async function k(){try{if(i(!0),"profile"===a)try{let e=await fetch("/api/user/profile");if(!e.ok)throw Error("Failed to fetch user profile");let s=await e.json();b(s.user)}catch(a){console.warn("Falling back to mock profile data:",a);let e=await fetch("/api/user/mock-profile"),s=await e.json();b(s.user)}else if("addresses"===a)try{let e=await fetch("/api/user/addresses");if(!e.ok)throw Error("Failed to fetch user addresses");let s=await e.json();S(s.addresses)}catch(e){console.warn("Using mock address data:",e),S([{id:1,address_line1:"123 Main St",address_line2:"Apt 4B",city:"Vienna",state:"VA",postal_code:"22182",country:"US",is_default:!0},{id:2,address_line1:"456 Oak Ave",address_line2:"",city:"Arlington",state:"VA",postal_code:"22201",country:"US",is_default:!1}])}i(!1)}catch(e){console.error("Error fetching user data:",e),x("Failed to load user data. Please try again."),i(!1)}}(0,h.useRouter)();let T=e=>{let{name:s,value:a}=e.target;b({...j,[s]:a})},U=e=>{let{name:s,value:a}=e.target;y({...w,[s]:a})},B=e=>{let{name:s,value:a,type:t,checked:r}=e.target;C({...P,[s]:"checkbox"===t?r:a})},E=async e=>{e.preventDefault();try{if(o(!0),m(""),x(""),!(await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})).ok)throw Error("Failed to update profile");m("Profile updated successfully!"),o(!1)}catch(e){console.error("Error updating profile:",e),x("Failed to update profile. Please try again."),o(!1)}},L=async e=>{e.preventDefault();try{if(w.new_password!==w.confirm_password){x("New passwords do not match");return}o(!0),m(""),x("");let e=await fetch("/api/user/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:w.current_password,newPassword:w.new_password})});if(!e.ok){let s=await e.json();throw Error(s.message||"Failed to change password")}m("Password changed successfully!"),y({current_password:"",new_password:"",confirm_password:""}),o(!1)}catch(e){console.error("Error changing password:",e),x(e.message||"Failed to change password. Please try again."),o(!1)}},G=async e=>{e.preventDefault();try{o(!0),m(""),x("");let e=F?`/api/user/addresses/${F}`:"/api/user/addresses";if(!(await fetch(e,{method:F?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})).ok)throw Error("Failed to save address");m("Address saved successfully!"),C({address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"US",is_default:!1}),A(null),o(!1),k()}catch(e){console.error("Error saving address:",e),x("Failed to save address. Please try again."),o(!1)}},M=e=>{C({address_line1:e.address_line1,address_line2:e.address_line2||"",city:e.city,state:e.state,postal_code:e.postal_code,country:e.country,is_default:e.is_default}),A(e.id)},q=async e=>{if(window.confirm("Are you sure you want to delete this address?"))try{if(!(await fetch(`/api/user/addresses/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete address");m("Address deleted successfully!"),k()}catch(e){console.error("Error deleting address:",e),x("Failed to delete address. Please try again.")}},D=async e=>{try{if(!(await fetch(`/api/user/addresses/${e}/default`,{method:"PUT"})).ok)throw Error("Failed to set default address");m("Default address updated successfully!"),k()}catch(e){console.error("Error setting default address:",e),x("Failed to set default address. Please try again.")}};return"loading"===s||r?(0,d.jsxs)("div",{className:v().container,children:[d.jsx(_(),{children:d.jsx("title",{children:"Your Profile | MDTS Tech"})}),(0,d.jsxs)("div",{className:v().loading,children:[d.jsx("div",{className:v().spinner}),d.jsx("p",{children:"Loading your profile..."})]})]}):(0,d.jsxs)("div",{className:v().container,children:[d.jsx(_(),{children:d.jsx("title",{children:"Your Profile | MDTS Tech"})}),(0,d.jsxs)("div",{className:v().header,children:[d.jsx("h1",{children:"Your Account"}),d.jsx(f(),{href:"/",className:v().backLink,children:"Back to Store"})]}),l&&d.jsx("div",{className:v().successMessage,children:l}),p&&d.jsx("div",{className:v().errorMessage,children:p}),(0,d.jsxs)("div",{className:v().content,children:[(0,d.jsxs)("div",{className:v().sidebar,children:[(0,d.jsxs)("div",{className:v().userInfo,children:[d.jsx("div",{className:v().avatar,children:j.image?d.jsx("img",{src:j.image,alt:`${j.first_name} ${j.last_name}`}):(0,d.jsxs)("div",{className:v().initials,children:[j.first_name&&j.first_name[0],j.last_name&&j.last_name[0]]})}),(0,d.jsxs)("div",{className:v().userName,children:[j.first_name," ",j.last_name]}),d.jsx("div",{className:v().userEmail,children:j.email})]}),(0,d.jsxs)("nav",{className:v().nav,children:[d.jsx("button",{className:`${v().navItem} ${"profile"===a?v().active:""}`,onClick:()=>t("profile"),children:"Profile Information"}),d.jsx("button",{className:`${v().navItem} ${"addresses"===a?v().active:""}`,onClick:()=>t("addresses"),children:"Addresses"}),d.jsx("button",{className:`${v().navItem} ${"security"===a?v().active:""}`,onClick:()=>t("security"),children:"Security"}),d.jsx("button",{className:`${v().navItem} ${"orders"===a?v().active:""}`,onClick:()=>t("orders"),children:"Orders"})]})]}),(0,d.jsxs)("div",{className:v().mainContent,children:["profile"===a&&(0,d.jsxs)("div",{className:v().tabContent,children:[d.jsx("h2",{children:"Profile Information"}),(0,d.jsxs)("form",{onSubmit:E,className:v().form,children:[(0,d.jsxs)("div",{className:v().formRow,children:[(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"first_name",children:"First Name"}),d.jsx("input",{type:"text",id:"first_name",name:"first_name",value:j.first_name||"",onChange:T,className:v().input,required:!0})]}),(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"last_name",children:"Last Name"}),d.jsx("input",{type:"text",id:"last_name",name:"last_name",value:j.last_name||"",onChange:T,className:v().input,required:!0})]})]}),(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"email",children:"Email Address"}),d.jsx("input",{type:"email",id:"email",name:"email",value:j.email||"",onChange:T,className:v().input,required:!0,disabled:!0}),d.jsx("p",{className:v().helpText,children:"Email address cannot be changed"})]}),(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"phone_number",children:"Phone Number"}),d.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:j.phone_number||"",onChange:T,className:v().input,placeholder:"e.g. +1 (555) 123-4567"})]}),d.jsx("div",{className:v().formActions,children:d.jsx("button",{type:"submit",className:v().saveButton,disabled:n,children:n?"Saving...":"Save Changes"})})]}),d.jsx("div",{className:v().divider}),d.jsx("h2",{children:"Change Password"}),(0,d.jsxs)("form",{onSubmit:L,className:v().form,children:[(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"current_password",children:"Current Password"}),d.jsx("input",{type:"password",id:"current_password",name:"current_password",value:w.current_password,onChange:U,className:v().input,required:!0})]}),(0,d.jsxs)("div",{className:v().formRow,children:[(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"new_password",children:"New Password"}),d.jsx("input",{type:"password",id:"new_password",name:"new_password",value:w.new_password,onChange:U,className:v().input,required:!0,minLength:8})]}),(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"confirm_password",children:"Confirm New Password"}),d.jsx("input",{type:"password",id:"confirm_password",name:"confirm_password",value:w.confirm_password,onChange:U,className:v().input,required:!0,minLength:8})]})]}),d.jsx("div",{className:v().formActions,children:d.jsx("button",{type:"submit",className:v().saveButton,disabled:n,children:n?"Changing...":"Change Password"})})]})]}),"addresses"===a&&(0,d.jsxs)("div",{className:v().tabContent,children:[d.jsx("h2",{children:"Your Addresses"}),d.jsx("div",{className:v().addressList,children:N.length>0?N.map(e=>(0,d.jsxs)("div",{className:v().addressCard,children:[e.is_default&&d.jsx("div",{className:v().defaultBadge,children:"Default"}),(0,d.jsxs)("div",{className:v().addressDetails,children:[(0,d.jsxs)("p",{className:v().addressName,children:[j.first_name," ",j.last_name]}),d.jsx("p",{children:e.address_line1}),e.address_line2&&d.jsx("p",{children:e.address_line2}),(0,d.jsxs)("p",{children:[e.city,", ",e.state," ",e.postal_code]}),d.jsx("p",{children:e.country})]}),(0,d.jsxs)("div",{className:v().addressActions,children:[d.jsx("button",{onClick:()=>M(e),className:v().editButton,children:"Edit"}),d.jsx("button",{onClick:()=>q(e.id),className:v().deleteButton,children:"Delete"}),!e.is_default&&d.jsx("button",{onClick:()=>D(e.id),className:v().defaultButton,children:"Set as Default"})]})]},e.id)):d.jsx("p",{className:v().noAddresses,children:"You haven't added any addresses yet."})}),d.jsx("div",{className:v().divider}),d.jsx("h2",{children:F?"Edit Address":"Add New Address"}),(0,d.jsxs)("form",{onSubmit:G,className:v().form,children:[(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"address_line1",children:"Address Line 1"}),d.jsx("input",{type:"text",id:"address_line1",name:"address_line1",value:P.address_line1,onChange:B,className:v().input,required:!0,placeholder:"Street address, P.O. box, company name"})]}),(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"address_line2",children:"Address Line 2 (Optional)"}),d.jsx("input",{type:"text",id:"address_line2",name:"address_line2",value:P.address_line2,onChange:B,className:v().input,placeholder:"Apartment, suite, unit, building, floor, etc."})]}),(0,d.jsxs)("div",{className:v().formRow,children:[(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"city",children:"City"}),d.jsx("input",{type:"text",id:"city",name:"city",value:P.city,onChange:B,className:v().input,required:!0})]}),(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"state",children:"State / Province"}),d.jsx("input",{type:"text",id:"state",name:"state",value:P.state,onChange:B,className:v().input,required:!0})]})]}),(0,d.jsxs)("div",{className:v().formRow,children:[(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"postal_code",children:"Postal Code"}),d.jsx("input",{type:"text",id:"postal_code",name:"postal_code",value:P.postal_code,onChange:B,className:v().input,required:!0})]}),(0,d.jsxs)("div",{className:v().formGroup,children:[d.jsx("label",{htmlFor:"country",children:"Country"}),(0,d.jsxs)("select",{id:"country",name:"country",value:P.country,onChange:B,className:v().select,required:!0,children:[d.jsx("option",{value:"US",children:"United States"}),d.jsx("option",{value:"CA",children:"Canada"}),d.jsx("option",{value:"GB",children:"United Kingdom"}),d.jsx("option",{value:"AU",children:"Australia"}),d.jsx("option",{value:"DE",children:"Germany"}),d.jsx("option",{value:"FR",children:"France"}),d.jsx("option",{value:"JP",children:"Japan"}),d.jsx("option",{value:"CN",children:"China"}),d.jsx("option",{value:"IN",children:"India"}),d.jsx("option",{value:"BR",children:"Brazil"}),d.jsx("option",{value:"MX",children:"Mexico"})]})]})]}),d.jsx("div",{className:v().formGroup,children:(0,d.jsxs)("label",{className:v().checkboxLabel,children:[d.jsx("input",{type:"checkbox",name:"is_default",checked:P.is_default,onChange:B}),"Set as default address"]})}),(0,d.jsxs)("div",{className:v().formActions,children:[F&&d.jsx("button",{type:"button",className:v().cancelButton,onClick:()=>{C({address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"US",is_default:!1}),A(null)},children:"Cancel"}),d.jsx("button",{type:"submit",className:v().saveButton,disabled:n,children:n?"Saving...":F?"Update Address":"Add Address"})]})]})]}),"security"===a&&(0,d.jsxs)("div",{className:v().tabContent,children:[d.jsx("h2",{children:"Security Settings"}),(0,d.jsxs)("div",{className:v().securitySection,children:[d.jsx("h3",{children:"Two-Factor Authentication"}),d.jsx(g,{})]})]}),"orders"===a&&(0,d.jsxs)("div",{className:v().tabContent,children:[d.jsx("h2",{children:"Your Orders"}),d.jsx("div",{className:v().ordersList,children:d.jsx("p",{className:v().comingSoon,children:"Order history coming soon!"})})]})]})]})]})}async function y(e){let s=await (0,u.getSession)(e);return s?{props:{session:s}}:{redirect:{destination:"/auth/signin?callbackUrl=/user/profile",permanent:!1}}}let N=(0,n.l)(t,"default"),S=(0,n.l)(t,"getStaticProps"),P=(0,n.l)(t,"getStaticPaths"),C=(0,n.l)(t,"getServerSideProps"),F=(0,n.l)(t,"config"),A=(0,n.l)(t,"reportWebVitals"),k=(0,n.l)(t,"unstable_getStaticProps"),T=(0,n.l)(t,"unstable_getStaticPaths"),U=(0,n.l)(t,"unstable_getStaticParams"),B=(0,n.l)(t,"unstable_getServerProps"),E=(0,n.l)(t,"unstable_getServerSideProps"),L=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/user/profile",pathname:"/user/profile",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:t})},65949:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(20997),r=a(56859),i=a.n(r);class n extends i(){render(){return(0,t.jsxs)(r.Html,{children:[(0,t.jsxs)(r.Head,{children:[t.jsx("meta",{name:"application-name",content:"Nexus TechHub"}),t.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),t.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),t.jsx("meta",{name:"apple-mobile-web-app-title",content:"Nexus TechHub"}),t.jsx("meta",{name:"description",content:"Your trusted partner for professional repair parts & tools in UAE"}),t.jsx("meta",{name:"format-detection",content:"telephone=no"}),t.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),t.jsx("meta",{name:"theme-color",content:"#0066cc"}),t.jsx("link",{rel:"apple-touch-icon",href:"/icons/icon-192x192.svg"}),t.jsx("link",{rel:"manifest",href:"/manifest.json"}),t.jsx("link",{rel:"shortcut icon",href:"/favicon.svg"})]}),(0,t.jsxs)("body",{children:[t.jsx(r.Main,{}),t.jsx(r.NextScript,{})]})]})}}let o=n},41649:e=>{"use strict";e.exports=require("next-auth/react")},62785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},40968:e=>{"use strict";e.exports=require("next/head")},16689:e=>{"use strict";e.exports=require("react")},66405:e=>{"use strict";e.exports=require("react-dom")},20997:e=>{"use strict";e.exports=require("react/jsx-runtime")},92048:e=>{"use strict";e.exports=require("fs")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},71568:e=>{"use strict";e.exports=require("zlib")}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[4567,1859,6859,8559,5675,4239],()=>a(17686));module.exports=t})();