(()=>{var e={};e.id=577,e.ids=[577,2888],e.modules={62390:e=>{e.exports={container:"AdminPages_container__nj6XB",pageHeader:"AdminPages_pageHeader__LHSBG",addButton:"AdminPages_addButton__3YV2v",filterBar:"AdminPages_filterBar__fJxVO",filterGroup:"AdminPages_filterGroup__CvemU",select:"AdminPages_select__5v_Ue",searchForm:"AdminPages_searchForm__DxHvp",searchInput:"AdminPages_searchInput__czn7m",searchButton:"AdminPages_searchButton__HrKq3",tableContainer:"AdminPages_tableContainer__EZ3Ac",table:"AdminPages_table__KVh8N",sortableColumn:"AdminPages_sortableColumn___99vU",activeSortColumn:"AdminPages_activeSortColumn__pPIua",sortIcon:"AdminPages_sortIcon__tiBuk",imageColumn:"AdminPages_imageColumn__m3_De",imageCell:"AdminPages_imageCell__ahCj4",productImage:"AdminPages_productImage__8KMQy",stockBadge:"AdminPages_stockBadge__Uquo4",inStock:"AdminPages_inStock__4D2jV",lowStock:"AdminPages_lowStock__JQmaX",outOfStock:"AdminPages_outOfStock__PVOkV",stockCount:"AdminPages_stockCount__CJVuo",actions:"AdminPages_actions__5NUWv",actionButton:"AdminPages_actionButton__A25EK",editButton:"AdminPages_editButton__xhIdN",deleteButton:"AdminPages_deleteButton__wFOYO",ordersButton:"AdminPages_ordersButton__nuIHY",updateButton:"AdminPages_updateButton__TKzfU",statusBadge:"AdminPages_statusBadge__vf_aR",statusPending:"AdminPages_statusPending__uo129",statusProcessing:"AdminPages_statusProcessing__mabVA",statusShipped:"AdminPages_statusShipped__Jc_6I",statusDelivered:"AdminPages_statusDelivered__falDE",statusCancelled:"AdminPages_statusCancelled__fxl2i",statusDropdown:"AdminPages_statusDropdown__FTpQA",dropdownContent:"AdminPages_dropdownContent__4sAyN",activeStatus:"AdminPages_activeStatus__rh9Cs",noData:"AdminPages_noData__Mc9eU",pagination:"AdminPages_pagination__1uxxQ",paginationButton:"AdminPages_paginationButton__kiY8c",pageInfo:"AdminPages_pageInfo__XD0jp",loading:"AdminPages_loading__zLU2R",spinner:"AdminPages_spinner__lVOQO",spin:"AdminPages_spin__s6LXq",settingsContainer:"AdminPages_settingsContainer__yidTp",settingsTabs:"AdminPages_settingsTabs__Iw9Zr",tabButton:"AdminPages_tabButton__Swz33",activeTab:"AdminPages_activeTab___YGm8",settingsContent:"AdminPages_settingsContent__5zi5i",settingsForm:"AdminPages_settingsForm__6w8pE",formGroup:"AdminPages_formGroup__MbgWF",input:"AdminPages_input__NjzSf",textarea:"AdminPages_textarea__zm7h5",checkboxLabel:"AdminPages_checkboxLabel__QnbQ4",helpText:"AdminPages_helpText__6QXDW",formRow:"AdminPages_formRow__vrK66",formActions:"AdminPages_formActions__6_1in",saveButton:"AdminPages_saveButton__aoM8K",successMessage:"AdminPages_successMessage__42J_F",errorMessage:"AdminPages_errorMessage__CBbWX",shippingRate:"AdminPages_shippingRate__4pZsF",removeButton:"AdminPages_removeButton__k0hN8",paymentSection:"AdminPages_paymentSection___O13P",securitySection:"AdminPages_securitySection__lvIFb",testButton:"AdminPages_testButton__Xov_6"}},72355:(e,s,a)=>{"use strict";a.r(s),a.d(s,{config:()=>S,default:()=>v,getServerSideProps:()=>N,getStaticPaths:()=>P,getStaticProps:()=>y,reportWebVitals:()=>A,routeModule:()=>B,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>F,unstable_getStaticParams:()=>C,unstable_getStaticPaths:()=>k,unstable_getStaticProps:()=>f});var t={};a.r(t),a.d(t,{default:()=>b,getServerSideProps:()=>j});var n=a(87093),i=a(35244),r=a(1323),l=a(65949),c=a(14239),o=a(20997),p=a(16689),d=a(41649),m=a(11163),_=a(40968),h=a.n(_),u=a(79046),g=a(62390),x=a.n(g);function b(){let{data:e}=(0,d.useSession)(),[s,a]=(0,p.useState)("general"),[t,n]=(0,p.useState)(!0),[i,r]=(0,p.useState)(!1),[l,c]=(0,p.useState)(""),[_,g]=(0,p.useState)(""),[b,j]=(0,p.useState)({store_name:"",store_email:"",store_phone:"",store_address:"",currency:"USD",tax_rate:0}),[v,y]=(0,p.useState)({enable_shipping:!0,free_shipping_threshold:500,shipping_rates:[{name:"Standard Shipping",price:5.99,days:"3-5"},{name:"Express Shipping",price:12.99,days:"1-2"}]}),[P,N]=(0,p.useState)({enable_stripe:!0,stripe_publishable_key:"",stripe_secret_key:"",enable_paypal:!1,paypal_client_id:"",paypal_secret:""}),[S,A]=(0,p.useState)({email_from:"",smtp_host:"",smtp_port:"",smtp_user:"",smtp_password:"",smtp_secure:!0}),[f,k]=(0,p.useState)({enable_2fa:!1,enable_captcha:!1,captcha_site_key:"",captcha_secret_key:"",password_min_length:8,password_require_uppercase:!0,password_require_lowercase:!0,password_require_number:!0,password_require_special:!0});async function C(){try{n(!0);let e=await fetch(`/api/admin/settings/${s}`);if(!e.ok)throw Error(`Failed to fetch ${s} settings`);let a=await e.json();switch(s){case"general":j(a.settings);break;case"shipping":y(a.settings);break;case"payment":N(a.settings);break;case"email":A(a.settings);break;case"security":k(a.settings)}n(!1)}catch(e){console.error(`Error fetching ${s} settings:`,e),g(`Failed to load ${s} settings. Please try again.`),n(!1)}}(0,m.useRouter)();let w=async()=>{try{let e;switch(r(!0),c(""),g(""),s){case"general":e=b;break;case"shipping":e=v;break;case"payment":e=P;break;case"email":e=S;break;case"security":e=f}if(!(await fetch(`/api/admin/settings/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:e})})).ok)throw Error(`Failed to save ${s} settings`);c(`${s.charAt(0).toUpperCase()+s.slice(1)} settings saved successfully!`),r(!1),C()}catch(e){console.error(`Error saving ${s} settings:`,e),g(`Failed to save ${s} settings. Please try again.`),r(!1)}},F=e=>{let{name:s,value:a}=e.target;j({...b,[s]:"tax_rate"===s?parseFloat(a):a})},B=e=>{let{name:s,value:a,type:t,checked:n}=e.target;y({...v,[s]:"checkbox"===t?n:"free_shipping_threshold"===s?parseFloat(a):a})},G=(e,s,a)=>{let t=[...v.shipping_rates];t[e]={...t[e],[s]:"price"===s?parseFloat(a):a},y({...v,shipping_rates:t})},T=e=>{let s=[...v.shipping_rates];s.splice(e,1),y({...v,shipping_rates:s})},q=e=>{let{name:s,value:a,type:t,checked:n}=e.target;N({...P,[s]:"checkbox"===t?n:a})},$=e=>{let{name:s,value:a,type:t,checked:n}=e.target;A({...S,[s]:"checkbox"===t?n:"smtp_port"===s?parseInt(a):a})},D=e=>{let{name:s,value:a,type:t,checked:n}=e.target;k({...f,[s]:"checkbox"===t?n:"password_min_length"===s?parseInt(a):a})};return(0,o.jsxs)(o.Fragment,{children:[o.jsx(h(),{children:o.jsx("title",{children:"Settings | Admin Dashboard"})}),(0,o.jsxs)(u.Z,{children:[o.jsx("div",{className:x().pageHeader,children:o.jsx("h1",{children:"Settings"})}),(0,o.jsxs)("div",{className:x().settingsContainer,children:[(0,o.jsxs)("div",{className:x().settingsTabs,children:[o.jsx("button",{className:`${x().tabButton} ${"general"===s?x().activeTab:""}`,onClick:()=>a("general"),children:"General"}),o.jsx("button",{className:`${x().tabButton} ${"shipping"===s?x().activeTab:""}`,onClick:()=>a("shipping"),children:"Shipping"}),o.jsx("button",{className:`${x().tabButton} ${"payment"===s?x().activeTab:""}`,onClick:()=>a("payment"),children:"Payment"}),o.jsx("button",{className:`${x().tabButton} ${"email"===s?x().activeTab:""}`,onClick:()=>a("email"),children:"Email"}),o.jsx("button",{className:`${x().tabButton} ${"security"===s?x().activeTab:""}`,onClick:()=>a("security"),children:"Security"})]}),(0,o.jsxs)("div",{className:x().settingsContent,children:[l&&o.jsx("div",{className:x().successMessage,children:l}),_&&o.jsx("div",{className:x().errorMessage,children:_}),t?(0,o.jsxs)("div",{className:x().loading,children:[o.jsx("div",{className:x().spinner}),o.jsx("p",{children:"Loading settings..."})]}):(0,o.jsxs)(o.Fragment,{children:["general"===s&&(0,o.jsxs)("div",{className:x().settingsForm,children:[(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"store_name",children:"Store Name"}),o.jsx("input",{type:"text",id:"store_name",name:"store_name",value:b.store_name,onChange:F,className:x().input})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"store_email",children:"Store Email"}),o.jsx("input",{type:"email",id:"store_email",name:"store_email",value:b.store_email,onChange:F,className:x().input})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"store_phone",children:"Store Phone"}),o.jsx("input",{type:"text",id:"store_phone",name:"store_phone",value:b.store_phone,onChange:F,className:x().input})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"store_address",children:"Store Address"}),o.jsx("textarea",{id:"store_address",name:"store_address",value:b.store_address,onChange:F,className:x().textarea,rows:3})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"currency",children:"Currency"}),(0,o.jsxs)("select",{id:"currency",name:"currency",value:b.currency,onChange:F,className:x().select,children:[o.jsx("option",{value:"USD",children:"USD ($)"}),o.jsx("option",{value:"EUR",children:"EUR (â‚¬)"}),o.jsx("option",{value:"GBP",children:"GBP (\xa3)"}),o.jsx("option",{value:"CAD",children:"CAD (C$)"}),o.jsx("option",{value:"AUD",children:"AUD (A$)"})]})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"tax_rate",children:"Tax Rate (%)"}),o.jsx("input",{type:"number",id:"tax_rate",name:"tax_rate",value:b.tax_rate,onChange:F,className:x().input,min:"0",step:"0.01"})]})]}),"shipping"===s&&(0,o.jsxs)("div",{className:x().settingsForm,children:[o.jsx("div",{className:x().formGroup,children:(0,o.jsxs)("label",{className:x().checkboxLabel,children:[o.jsx("input",{type:"checkbox",name:"enable_shipping",checked:v.enable_shipping,onChange:B}),"Enable Shipping"]})}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"free_shipping_threshold",children:"Free Shipping Threshold ($)"}),o.jsx("input",{type:"number",id:"free_shipping_threshold",name:"free_shipping_threshold",value:v.free_shipping_threshold,onChange:B,className:x().input,min:"0",step:"0.01"}),o.jsx("p",{className:x().helpText,children:"Set to 0 to disable free shipping"})]}),o.jsx("h3",{children:"Shipping Rates"}),v.shipping_rates.map((e,s)=>(0,o.jsxs)("div",{className:x().shippingRate,children:[(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:`rate_name_${s}`,children:"Shipping Option Name"}),o.jsx("input",{type:"text",id:`rate_name_${s}`,value:e.name,onChange:e=>G(s,"name",e.target.value),className:x().input})]}),(0,o.jsxs)("div",{className:x().formRow,children:[(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:`rate_price_${s}`,children:"Price ($)"}),o.jsx("input",{type:"number",id:`rate_price_${s}`,value:e.price,onChange:e=>G(s,"price",e.target.value),className:x().input,min:"0",step:"0.01"})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:`rate_days_${s}`,children:"Delivery Time (days)"}),o.jsx("input",{type:"text",id:`rate_days_${s}`,value:e.days,onChange:e=>G(s,"days",e.target.value),className:x().input,placeholder:"e.g. 3-5"})]})]}),o.jsx("button",{type:"button",onClick:()=>T(s),className:x().removeButton,children:"Remove"})]},s)),o.jsx("button",{type:"button",onClick:()=>{y({...v,shipping_rates:[...v.shipping_rates,{name:"New Shipping Option",price:0,days:"3-5"}]})},className:x().addButton,children:"Add Shipping Option"})]}),"payment"===s&&(0,o.jsxs)("div",{className:x().settingsForm,children:[(0,o.jsxs)("div",{className:x().paymentSection,children:[o.jsx("h3",{children:"Stripe"}),o.jsx("div",{className:x().formGroup,children:(0,o.jsxs)("label",{className:x().checkboxLabel,children:[o.jsx("input",{type:"checkbox",name:"enable_stripe",checked:P.enable_stripe,onChange:q}),"Enable Stripe Payments"]})}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"stripe_publishable_key",children:"Stripe Publishable Key"}),o.jsx("input",{type:"text",id:"stripe_publishable_key",name:"stripe_publishable_key",value:P.stripe_publishable_key,onChange:q,className:x().input,disabled:!P.enable_stripe})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"stripe_secret_key",children:"Stripe Secret Key"}),o.jsx("input",{type:"password",id:"stripe_secret_key",name:"stripe_secret_key",value:P.stripe_secret_key,onChange:q,className:x().input,disabled:!P.enable_stripe})]})]}),(0,o.jsxs)("div",{className:x().paymentSection,children:[o.jsx("h3",{children:"PayPal"}),o.jsx("div",{className:x().formGroup,children:(0,o.jsxs)("label",{className:x().checkboxLabel,children:[o.jsx("input",{type:"checkbox",name:"enable_paypal",checked:P.enable_paypal,onChange:q}),"Enable PayPal Payments"]})}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"paypal_client_id",children:"PayPal Client ID"}),o.jsx("input",{type:"text",id:"paypal_client_id",name:"paypal_client_id",value:P.paypal_client_id,onChange:q,className:x().input,disabled:!P.enable_paypal})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"paypal_secret",children:"PayPal Secret"}),o.jsx("input",{type:"password",id:"paypal_secret",name:"paypal_secret",value:P.paypal_secret,onChange:q,className:x().input,disabled:!P.enable_paypal})]})]})]}),"email"===s&&(0,o.jsxs)("div",{className:x().settingsForm,children:[(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"email_from",children:"From Email Address"}),o.jsx("input",{type:"email",id:"email_from",name:"email_from",value:S.email_from,onChange:$,className:x().input})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"smtp_host",children:"SMTP Host"}),o.jsx("input",{type:"text",id:"smtp_host",name:"smtp_host",value:S.smtp_host,onChange:$,className:x().input})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"smtp_port",children:"SMTP Port"}),o.jsx("input",{type:"number",id:"smtp_port",name:"smtp_port",value:S.smtp_port,onChange:$,className:x().input})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"smtp_user",children:"SMTP Username"}),o.jsx("input",{type:"text",id:"smtp_user",name:"smtp_user",value:S.smtp_user,onChange:$,className:x().input})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"smtp_password",children:"SMTP Password"}),o.jsx("input",{type:"password",id:"smtp_password",name:"smtp_password",value:S.smtp_password,onChange:$,className:x().input})]}),o.jsx("div",{className:x().formGroup,children:(0,o.jsxs)("label",{className:x().checkboxLabel,children:[o.jsx("input",{type:"checkbox",name:"smtp_secure",checked:S.smtp_secure,onChange:$}),"Use Secure Connection (TLS)"]})}),o.jsx("button",{type:"button",className:x().testButton,onClick:()=>alert("Test email functionality will be implemented soon."),children:"Send Test Email"})]}),"security"===s&&(0,o.jsxs)("div",{className:x().settingsForm,children:[(0,o.jsxs)("div",{className:x().securitySection,children:[o.jsx("h3",{children:"Two-Factor Authentication"}),(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsxs)("label",{className:x().checkboxLabel,children:[o.jsx("input",{type:"checkbox",name:"enable_2fa",checked:f.enable_2fa,onChange:D}),"Enable Two-Factor Authentication"]}),o.jsx("p",{className:x().helpText,children:"Require administrators to use two-factor authentication when logging in"})]})]}),(0,o.jsxs)("div",{className:x().securitySection,children:[o.jsx("h3",{children:"CAPTCHA Protection"}),(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsxs)("label",{className:x().checkboxLabel,children:[o.jsx("input",{type:"checkbox",name:"enable_captcha",checked:f.enable_captcha,onChange:D}),"Enable CAPTCHA on Forms"]}),o.jsx("p",{className:x().helpText,children:"Add CAPTCHA verification to login, registration, and contact forms"})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"captcha_site_key",children:"reCAPTCHA Site Key"}),o.jsx("input",{type:"text",id:"captcha_site_key",name:"captcha_site_key",value:f.captcha_site_key,onChange:D,className:x().input,disabled:!f.enable_captcha})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"captcha_secret_key",children:"reCAPTCHA Secret Key"}),o.jsx("input",{type:"password",id:"captcha_secret_key",name:"captcha_secret_key",value:f.captcha_secret_key,onChange:D,className:x().input,disabled:!f.enable_captcha})]})]}),(0,o.jsxs)("div",{className:x().securitySection,children:[o.jsx("h3",{children:"Password Requirements"}),(0,o.jsxs)("div",{className:x().formGroup,children:[o.jsx("label",{htmlFor:"password_min_length",children:"Minimum Password Length"}),o.jsx("input",{type:"number",id:"password_min_length",name:"password_min_length",value:f.password_min_length,onChange:D,className:x().input,min:"6"})]}),o.jsx("div",{className:x().formGroup,children:(0,o.jsxs)("label",{className:x().checkboxLabel,children:[o.jsx("input",{type:"checkbox",name:"password_require_uppercase",checked:f.password_require_uppercase,onChange:D}),"Require Uppercase Letter"]})}),o.jsx("div",{className:x().formGroup,children:(0,o.jsxs)("label",{className:x().checkboxLabel,children:[o.jsx("input",{type:"checkbox",name:"password_require_lowercase",checked:f.password_require_lowercase,onChange:D}),"Require Lowercase Letter"]})}),o.jsx("div",{className:x().formGroup,children:(0,o.jsxs)("label",{className:x().checkboxLabel,children:[o.jsx("input",{type:"checkbox",name:"password_require_number",checked:f.password_require_number,onChange:D}),"Require Number"]})}),o.jsx("div",{className:x().formGroup,children:(0,o.jsxs)("label",{className:x().checkboxLabel,children:[o.jsx("input",{type:"checkbox",name:"password_require_special",checked:f.password_require_special,onChange:D}),"Require Special Character"]})})]})]}),o.jsx("div",{className:x().formActions,children:o.jsx("button",{type:"button",onClick:w,className:x().saveButton,disabled:i,children:i?"Saving...":"Save Settings"})})]})]})]})]})]})}async function j(e){let s=await (0,d.getSession)(e);return s?{props:{session:s}}:{redirect:{destination:"/auth/signin?callbackUrl=/admin/settings",permanent:!1}}}let v=(0,r.l)(t,"default"),y=(0,r.l)(t,"getStaticProps"),P=(0,r.l)(t,"getStaticPaths"),N=(0,r.l)(t,"getServerSideProps"),S=(0,r.l)(t,"config"),A=(0,r.l)(t,"reportWebVitals"),f=(0,r.l)(t,"unstable_getStaticProps"),k=(0,r.l)(t,"unstable_getStaticPaths"),C=(0,r.l)(t,"unstable_getStaticParams"),w=(0,r.l)(t,"unstable_getServerProps"),F=(0,r.l)(t,"unstable_getServerSideProps"),B=new n.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/admin/settings",pathname:"/admin/settings",bundlePath:"",filename:""},components:{App:c.default,Document:l.default},userland:t})},41649:e=>{"use strict";e.exports=require("next-auth/react")},62785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},40968:e=>{"use strict";e.exports=require("next/head")},16689:e=>{"use strict";e.exports=require("react")},66405:e=>{"use strict";e.exports=require("react-dom")},20997:e=>{"use strict";e.exports=require("react/jsx-runtime")},92048:e=>{"use strict";e.exports=require("fs")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},71568:e=>{"use strict";e.exports=require("zlib")}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[4567,1859,6859,8559,4239,2218],()=>a(72355));module.exports=t})();