(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{53829:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return s(25911)}])},25911:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return g}});var t=s(85893),r=s(67294),n=s(33299),o=s(11163),l=s(41664),i=s.n(l),u=s(9008),c=s.n(u),h=s(81605),d=s(19402),m=s(85842),_=s(59235),p=s.n(_);function g(){let[e,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[u,_]=(0,r.useState)(""),[g,f]=(0,r.useState)(""),[x,N]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),[A,P]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[C,w]=(0,r.useState)(""),[S,L]=(0,r.useState)(!1),[E,I]=(0,r.useState)(null),B=(0,o.useRouter)();(0,r.useEffect)(()=>{if(null!==E){if(E>0){let e=setTimeout(()=>{I(E-1)},1e3);return()=>clearTimeout(e)}B.push("/dashboard")}},[E,B]);let F=async a=>{if(a.preventDefault(),L(!0),y(""),!e.trim()||!s.trim()){y("Please enter your first and last name"),L(!1);return}if(g!==x){y("Passwords do not match"),L(!1);return}if(g.length<8){y("Password must be at least 8 characters long"),L(!1);return}if(b&&!b.match(/^(\+971|971|0)?[0-9]{8,9}$/)){y("Please enter a valid UAE phone number"),L(!1);return}try{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:e,lastName:s,email:u,password:g,phone:b||null,businessName:A||null})}),t=await a.json();if(!a.ok)throw Error(t.message||"Registration failed");(await (0,n.signIn)("credentials",{redirect:!1,email:u,password:g})).error?(y("Registration successful, but sign-in failed. Please try signing in manually."),L(!1)):(w("Account created successfully! Welcome, ".concat(e,". You will be redirected to your dashboard in 5 seconds.")),L(!1),I(5))}catch(e){y(e.message),L(!1)}};return(0,t.jsxs)(m.ZP,{componentName:"Register",children:[(0,t.jsxs)(c(),{children:[(0,t.jsx)("title",{children:"Create Account - Nexus TechHub | Customer Registration"}),(0,t.jsx)("meta",{name:"description",content:"Create your Nexus TechHub account to access mobile repair parts, quotes, and manage your orders in the UAE."}),(0,t.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,t.jsx)(h.Z,{}),(0,t.jsx)("main",{className:p().authMain,children:(0,t.jsx)("div",{className:p().authContainer,children:(0,t.jsxs)("div",{className:p().authCard,children:[(0,t.jsxs)("div",{className:p().authHeader,children:[(0,t.jsx)("h1",{className:p().authTitle,children:"Create Your Account"}),(0,t.jsx)("p",{className:p().authSubtitle,children:"Join Nexus TechHub and access premium mobile repair parts in the UAE"})]}),v&&(0,t.jsx)("div",{className:p().formError,children:v}),C&&(0,t.jsxs)("div",{className:p().successMessage,children:[C,null!==E&&(0,t.jsxs)("p",{children:["Redirecting in ",E," seconds..."]})]}),(0,t.jsxs)("form",{onSubmit:F,className:p().authForm,children:[(0,t.jsxs)("div",{className:p().formGroup,children:[(0,t.jsx)("label",{htmlFor:"firstName",className:p().formLabel,children:"First Name *"}),(0,t.jsx)("input",{id:"firstName",type:"text",value:e,onChange:e=>a(e.target.value),className:"".concat(p().formInput," ").concat(v?p().error:""),placeholder:"Enter your first name",required:!0})]}),(0,t.jsxs)("div",{className:p().formGroup,children:[(0,t.jsx)("label",{htmlFor:"lastName",className:p().formLabel,children:"Last Name *"}),(0,t.jsx)("input",{id:"lastName",type:"text",value:s,onChange:e=>l(e.target.value),className:"".concat(p().formInput," ").concat(v?p().error:""),placeholder:"Enter your last name",required:!0})]}),(0,t.jsxs)("div",{className:p().formGroup,children:[(0,t.jsx)("label",{htmlFor:"email",className:p().formLabel,children:"Email Address *"}),(0,t.jsx)("input",{id:"email",type:"email",value:u,onChange:e=>_(e.target.value),className:"".concat(p().formInput," ").concat(v?p().error:""),placeholder:"Enter your email address",required:!0})]}),(0,t.jsxs)("div",{className:p().formGroup,children:[(0,t.jsx)("label",{htmlFor:"phone",className:p().formLabel,children:"Phone Number (UAE)"}),(0,t.jsx)("input",{id:"phone",type:"tel",value:b,onChange:e=>j(e.target.value),className:p().formInput,placeholder:"+971 50 123 4567"})]}),(0,t.jsxs)("div",{className:p().formGroup,children:[(0,t.jsx)("label",{htmlFor:"businessName",className:p().formLabel,children:"Business Name (Optional)"}),(0,t.jsx)("input",{id:"businessName",type:"text",value:A,onChange:e=>P(e.target.value),className:p().formInput,placeholder:"Your repair shop or business name"})]}),(0,t.jsxs)("div",{className:p().formGroup,children:[(0,t.jsx)("label",{htmlFor:"password",className:p().formLabel,children:"Password *"}),(0,t.jsx)("input",{id:"password",type:"password",value:g,onChange:e=>f(e.target.value),className:"".concat(p().formInput," ").concat(v?p().error:""),placeholder:"Create a strong password",required:!0,minLength:8}),(0,t.jsx)("small",{style:{color:"var(--text-gray, #6b7280)",fontSize:"14px"},children:"Password must be at least 8 characters long"})]}),(0,t.jsxs)("div",{className:p().formGroup,children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:p().formLabel,children:"Confirm Password *"}),(0,t.jsx)("input",{id:"confirmPassword",type:"password",value:x,onChange:e=>N(e.target.value),className:"".concat(p().formInput," ").concat(v?p().error:""),placeholder:"Confirm your password",required:!0})]}),(0,t.jsxs)("button",{type:"submit",className:"".concat(p().primaryBtn," ").concat(S?p().loading:""),disabled:S,children:[S&&(0,t.jsx)("span",{className:p().loadingSpinner}),S?"Creating Account...":"Create Account"]})]}),(0,t.jsx)("div",{className:p().divider,children:"OR"}),(0,t.jsxs)("button",{onClick:()=>{(0,n.signIn)("google",{callbackUrl:"/"})},className:p().googleBtn,type:"button",disabled:S,children:[(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,t.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,t.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,t.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),(0,t.jsx)("div",{className:p().authLinks,children:(0,t.jsxs)("p",{className:p().authLink,children:["Already have an account? ",(0,t.jsx)(i(),{href:"/auth/signin",children:"Sign In"})]})})]})})}),(0,t.jsx)(d.Z,{})]})}},59235:function(e){e.exports={authMain:"AuthPages_authMain__quRD7",authContainer:"AuthPages_authContainer__WlUa5",authCard:"AuthPages_authCard__GeZyH",authHeader:"AuthPages_authHeader__MArq5",authTitle:"AuthPages_authTitle__TBFmG",authSubtitle:"AuthPages_authSubtitle__Oy597",authForm:"AuthPages_authForm__vB_1b",formGroup:"AuthPages_formGroup___7bmc",formLabel:"AuthPages_formLabel___eybm",formInput:"AuthPages_formInput__EKCCO",error:"AuthPages_error__FVL0_",formError:"AuthPages_formError__NxJQS",primaryBtn:"AuthPages_primaryBtn__NuwlB",secondaryBtn:"AuthPages_secondaryBtn__LH4uE",authLinks:"AuthPages_authLinks__H5GYv",authLink:"AuthPages_authLink__2SWyp",divider:"AuthPages_divider__DxYAq",googleBtn:"AuthPages_googleBtn__5Z6oc",errorIcon:"AuthPages_errorIcon__490Nd",errorContent:"AuthPages_errorContent__KbazK",errorMessage:"AuthPages_errorMessage__SYCj9",userInfo:"AuthPages_userInfo__NB1mh",errorActions:"AuthPages_errorActions__qM6uO",helpSection:"AuthPages_helpSection__eUgQY",contactInfo:"AuthPages_contactInfo__Ony_b",whatsappLink:"AuthPages_whatsappLink__ufoHD",loading:"AuthPages_loading__DPGFI",loadingSpinner:"AuthPages_loadingSpinner__8W2zL",spin:"AuthPages_spin__Z5V52",successMessage:"AuthPages_successMessage__2vvG1"}}},function(e){e.O(0,[1664,5675,4368,2888,9774,179],function(){return e(e.s=53829)}),_N_E=e.O()}]);