(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2575],{2575:function(e,a,s){"use strict";var t=s(85893),n=s(67294),i=s(33299),r=s(11163),o=s(41664),d=s.n(o),c=s(38243),h=s.n(c);a.Z=e=>{var a,s;let{children:o}=e,{data:c,status:l}=(0,i.useSession)(),[m,u]=(0,n.useState)(!0),[x,p]=(0,n.useState)(!1),v=(0,r.useRouter)();return((0,n.useEffect)(()=>{(async function(){if(!await (0,i.getSession)()){v.replace("/auth/signin?callbackUrl="+v.asPath);return}try{let e=await fetch("/api/admin/check-admin");if(!(await e.json()).isAdmin){v.replace("/");return}p(!0),u(!1)}catch(e){console.error("Error checking admin status:",e),v.replace("/")}})()},[v]),m)?(0,t.jsxs)("div",{className:h().loadingContainer,children:[(0,t.jsx)("div",{className:h().spinner}),(0,t.jsx)("p",{children:"Loading..."})]}):x?(0,t.jsxs)("div",{className:h().adminLayout,children:[(0,t.jsxs)("aside",{className:h().sidebar,children:[(0,t.jsx)("div",{className:h().logo,children:(0,t.jsx)(d(),{href:"/admin",children:"MDTS Admin"})}),(0,t.jsxs)("nav",{className:h().nav,children:[(0,t.jsxs)(d(),{href:"/admin",className:"".concat(h().navItem," ").concat("/admin"===v.pathname?h().active:""),children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,t.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,t.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"}),(0,t.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"Dashboard"]}),(0,t.jsxs)(d(),{href:"/admin/products",className:"".concat(h().navItem," ").concat(v.pathname.startsWith("/admin/products")?h().active:""),children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,t.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,t.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),"Products"]}),(0,t.jsxs)(d(),{href:"/admin/orders",className:"".concat(h().navItem," ").concat(v.pathname.startsWith("/admin/orders")?h().active:""),children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M12 2H2v10h10V2z"}),(0,t.jsx)("path",{d:"M12 12H2v10h10V12z"}),(0,t.jsx)("path",{d:"M22 2h-10v10h10V2z"}),(0,t.jsx)("path",{d:"M22 12h-10v10h10V12z"})]}),"Orders"]}),(0,t.jsxs)(d(),{href:"/admin/customers",className:"".concat(h().navItem," ").concat(v.pathname.startsWith("/admin/customers")?h().active:""),children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),"Customers"]}),(0,t.jsxs)(d(),{href:"/admin/marketplace",className:"".concat(h().navItem," ").concat(v.pathname.startsWith("/admin/marketplace")?h().active:""),children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),(0,t.jsx)("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"}),(0,t.jsx)("path",{d:"M6 11h4"}),(0,t.jsx)("path",{d:"M14 11h4"})]}),"Marketplace"]}),(0,t.jsxs)(d(),{href:"/admin/settings",className:"".concat(h().navItem," ").concat(v.pathname.startsWith("/admin/settings")?h().active:""),children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,t.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),"Settings"]})]}),(0,t.jsx)("div",{className:h().sidebarFooter,children:(0,t.jsxs)("button",{onClick:()=>{(0,i.signOut)({callbackUrl:"/"})},className:h().signOutButton,children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,t.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,t.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sign Out"]})})]}),(0,t.jsxs)("main",{className:h().main,children:[(0,t.jsxs)("header",{className:h().header,children:[(0,t.jsx)("div",{className:h().headerLeft,children:(0,t.jsxs)("h1",{className:h().pageTitle,children:["/admin"===v.pathname&&"Dashboard","/admin/products"===v.pathname&&"Products","/admin/orders"===v.pathname&&"Orders","/admin/customers"===v.pathname&&"Customers","/admin/marketplace"===v.pathname&&"Marketplace Integration","/admin/settings"===v.pathname&&"Settings"]})}),(0,t.jsx)("div",{className:h().headerRight,children:(0,t.jsxs)("div",{className:h().userInfo,children:[(0,t.jsx)("span",{className:h().userName,children:(null==c?void 0:null===(a=c.user)||void 0===a?void 0:a.name)||"Admin"}),(0,t.jsx)("span",{className:h().userEmail,children:(null==c?void 0:null===(s=c.user)||void 0===s?void 0:s.email)||"admin@mdtstech.store"})]})})]}),(0,t.jsx)("div",{className:h().content,children:o})]})]}):null}},38243:function(e){e.exports={adminLayout:"AdminLayout_adminLayout__9cYWD",sidebar:"AdminLayout_sidebar__7GhkI",logo:"AdminLayout_logo__OD9sx",nav:"AdminLayout_nav__G5l8_",navItem:"AdminLayout_navItem__pbDDU",active:"AdminLayout_active__5_0gP",sidebarFooter:"AdminLayout_sidebarFooter__lrBXK",signOutButton:"AdminLayout_signOutButton__6B0_k",main:"AdminLayout_main__y1wRM",header:"AdminLayout_header__Is4Ky",pageTitle:"AdminLayout_pageTitle__GNDSA",userInfo:"AdminLayout_userInfo__CFAWx",userName:"AdminLayout_userName___1MJG",userEmail:"AdminLayout_userEmail__qxuGx",content:"AdminLayout_content__WpNpN",loadingContainer:"AdminLayout_loadingContainer__hedZt",spinner:"AdminLayout_spinner__cLKGy",spin:"AdminLayout_spin__PeL6b"}}}]);