(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7905,7330,8261],{25025:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[slug]",function(){return i(69023)}])},97330:function(e,t,i){"use strict";i.r(t);var r=i(85893),a=i(67294);i(41664);var s=i(48640),n=i(86272),o=i.n(n);t.default=e=>{let{currentProductId:t,limit:i=4,title:n="Recently Viewed",subtitle:c="Products you've viewed recently"}=e,[l,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=async()=>{try{m(!0);let e=JSON.parse(localStorage.getItem("recentlyViewed")||"[]"),r=t?e.filter(e=>e!==t):e;if(0===r.length){d([{id:1,name:"iPhone 13 Pro OLED Screen",slug:"iphone-13-pro-oled-screen",price:129.99,category_name:"iPhone Parts",image_url:"/images/products/iphone-screen.jpg",rating:4.5,review_count:28,stock:15},{id:2,name:"Samsung Galaxy S22 Battery",slug:"samsung-galaxy-s22-battery",price:39.99,category_name:"Samsung Parts",image_url:"/images/products/samsung-battery.jpg",rating:4.2,review_count:17,stock:23},{id:3,name:"Professional Repair Tool Kit",slug:"professional-repair-tool-kit",price:89.99,category_name:"Repair Tools",image_url:"/images/products/repair-tools.jpg",rating:4.8,review_count:42,stock:8},{id:4,name:'iPad Pro 12.9" LCD Assembly',slug:"ipad-pro-12-9-lcd-assembly",price:199.99,category_name:"iPad Parts",image_url:"/images/products/ipad-screen.jpg",rating:4.6,review_count:13,stock:5}]),m(!1);return}let a=r.slice(0,i),s=await fetch("/api/products/batch?ids=".concat(a.join(",")));if(!s.ok)throw Error("Failed to fetch recently viewed products");let n=await s.json();d(n)}catch(e){console.error("Error loading recently viewed products:",e),d([])}finally{m(!1)}};t&&(()=>{if(t)try{let e=JSON.parse(localStorage.getItem("recentlyViewed")||"[]").filter(e=>e!==t);e.unshift(t);let i=e.slice(0,20);localStorage.setItem("recentlyViewed",JSON.stringify(i))}catch(e){console.error("Error updating recently viewed products:",e)}})(),e()},[t,i]),u)?(0,r.jsx)("div",{className:o().recentlyViewedLoading,children:(0,r.jsx)("div",{className:o().loadingSpinner})}):0===l.length?null:(0,r.jsx)("section",{className:o().recentlyViewed,children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h2",{className:o().title,children:n}),(0,r.jsx)("p",{className:o().subtitle,children:c}),(0,r.jsx)("div",{className:o().products,children:l.map(e=>(0,r.jsx)("div",{className:o().productWrapper,children:(0,r.jsx)(s.Z,{product:e})},e.id))})]})})}},18670:function(e,t,i){"use strict";var r=i(85893),a=i(67294),s=i(70297),n=i.n(s);t.Z=e=>{let{url:t,title:i,description:s,image:o,platforms:c=["facebook","twitter","pinterest","linkedin","email","copy"]}=e,[l,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),h=encodeURIComponent(t),p=encodeURIComponent(i),_=encodeURIComponent(s||""),x=o?encodeURIComponent(o):"",g={facebook:"https://www.facebook.com/sharer/sharer.php?u=".concat(h),twitter:"https://twitter.com/intent/tweet?url=".concat(h,"&text=").concat(p),pinterest:"https://pinterest.com/pin/create/button/?url=".concat(h,"&media=").concat(x,"&description=").concat(p),linkedin:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(h),email:"mailto:?subject=".concat(p,"&body=").concat(_,"%0A%0A").concat(h)},v={facebook:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})}),twitter:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})}),pinterest:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 0a12 12 0 0 0-4.37 23.17c-.1-.94-.2-2.43.04-3.47l1.42-6.02s-.36-.72-.36-1.78c0-1.67.97-2.92 2.17-2.92 1.02 0 1.51.77 1.51 1.7 0 1.03-.66 2.57-1 4-.28 1.2.6 2.17 1.78 2.17 2.13 0 3.77-2.25 3.77-5.5 0-2.87-2.06-4.88-5-4.88-3.4 0-5.39 2.56-5.39 5.2 0 1.03.4 2.13.9 2.73.1.12.11.22.08.34l-.34 1.36c-.05.22-.18.27-.4.16-1.5-.7-2.43-2.89-2.43-4.65 0-3.78 2.75-7.26 7.92-7.26 4.17 0 7.4 2.97 7.4 6.93 0 4.14-2.6 7.46-6.2 7.46-1.21 0-2.35-.63-2.74-1.37l-.75 2.85c-.27 1.04-1 2.35-1.49 3.15.94.29 1.92.44 2.96.44a12 12 0 0 0 12-12A12 12 0 0 0 12 0z"})}),linkedin:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,r.jsx)("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),(0,r.jsx)("rect",{x:"2",y:"9",width:"4",height:"12"}),(0,r.jsx)("circle",{cx:"4",cy:"4",r:"2"})]}),email:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,r.jsx)("polyline",{points:"22,6 12,13 2,6"})]}),copy:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,r.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})},j={facebook:"Facebook",twitter:"Twitter",pinterest:"Pinterest",linkedin:"LinkedIn",email:"Email",copy:"Copy Link"},w=e=>{"copy"===e?navigator.clipboard.writeText(t).then(()=>{d(!0),m(!0),setTimeout(()=>{m(!1),setTimeout(()=>d(!1),300)},2e3)}):window.open(g[e],"_blank","width=600,height=400")};return(0,r.jsxs)("div",{className:n().socialShare,children:[(0,r.jsx)("div",{className:n().shareButtons,children:c.map(e=>(0,r.jsxs)("button",{className:"".concat(n().shareButton," ").concat(n()[e]),onClick:()=>w(e),"aria-label":"Share on ".concat(j[e]),title:j[e],children:[v[e],(0,r.jsx)("span",{className:n().buttonText,children:j[e]})]},e))}),l&&(0,r.jsx)("div",{className:"".concat(n().tooltip," ").concat(u?n().show:""),children:"Link copied to clipboard!"})]})}},69023:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return E}});var r=i(85893),a=i(67294);i(9008);var s=i(41664),n=i.n(s),o=i(11163),c=i(56029);function l(e){let{product:t,quantity:i=1}=e,[s,n]=(0,a.useState)(i),[c,l]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(!1),p=(0,o.useRouter)(),_=async()=>{try{l(!0),u(null),h(!1);let e=await fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:t.id,quantity:s})});if(!e.ok)throw Error("Failed to add to cart");let i=await e.json();if(i.success)h(!0),setTimeout(()=>h(!1),3e3);else throw Error(i.message||"Failed to add to cart")}catch(e){console.error("Error adding to cart:",e),u(e.message)}finally{l(!1)}};return(0,r.jsxs)("div",{className:"add-to-cart",children:[(0,r.jsxs)("div",{className:"quantity-selector",children:[(0,r.jsx)("button",{onClick:()=>{n(e=>Math.max(1,e-1))},disabled:s<=1,className:"quantity-button",children:"-"}),(0,r.jsx)("input",{type:"number",min:"1",value:s,onChange:e=>{let t=parseInt(e.target.value);t>0&&n(t)},className:"quantity-input"}),(0,r.jsx)("button",{onClick:()=>{n(e=>e+1)},className:"quantity-button",children:"+"})]}),(0,r.jsxs)("div",{className:"add-to-cart-actions",children:[(0,r.jsx)("button",{onClick:_,disabled:c,className:"btn btn-primary add-to-cart-button",children:c?"Adding...":"Add to Cart"}),(0,r.jsx)("button",{onClick:()=>{p.push("/cart")},className:"btn btn-secondary go-to-cart-button",children:"View Cart"})]}),d&&(0,r.jsx)("div",{className:"error-message",children:(0,r.jsx)("p",{children:d})}),m&&(0,r.jsx)("div",{className:"success-message",children:(0,r.jsx)("p",{children:"Product added to cart!"})})]})}i(25675);var d=i(68975),u=i.n(d),m=e=>{let{product:t}=e,i=[t.image_url||"/placeholder.svg","/images/product-detail-1.jpg","/images/product-detail-2.jpg","/images/product-detail-3.jpg"],[s,n]=(0,a.useState)(i[0]);return(0,r.jsxs)("div",{className:u().productImages,children:[(0,r.jsxs)("div",{className:u().mainImage,children:[(0,r.jsx)("img",{src:s,alt:t.name}),(0,r.jsx)("div",{className:u().zoomOverlay,children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,r.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),(0,r.jsx)("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),(0,r.jsx)("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]})})]}),(0,r.jsx)("div",{className:u().thumbnails,children:i.map((e,i)=>(0,r.jsx)("div",{className:"".concat(u().thumbnail," ").concat(s===e?u().active:""),onClick:()=>n(e),children:(0,r.jsx)("img",{src:e,alt:"".concat(t.name," - View ").concat(i+1)})},i))})]})},h=i(6458),p=i.n(h),_=e=>{let{product:t}=e,[i,s]=(0,a.useState)("description");return(0,r.jsxs)("div",{className:p().productTabs,children:[(0,r.jsxs)("div",{className:p().tabs,children:[(0,r.jsx)("button",{className:"".concat(p().tab," ").concat("description"===i?p().active:""),onClick:()=>s("description"),children:"Description"}),(0,r.jsx)("button",{className:"".concat(p().tab," ").concat("specifications"===i?p().active:""),onClick:()=>s("specifications"),children:"Specifications"}),(0,r.jsx)("button",{className:"".concat(p().tab," ").concat("shipping"===i?p().active:""),onClick:()=>s("shipping"),children:"Shipping & Returns"})]}),(0,r.jsxs)("div",{className:p().tabContent,children:["description"===i&&(0,r.jsxs)("div",{className:p().description,children:[(0,r.jsx)("p",{children:t.description||"No description available for this product."}),(0,r.jsx)("p",{children:"This high-quality replacement part is designed to restore your device to its original functionality. Our parts undergo rigorous testing to ensure they meet or exceed OEM specifications."}),(0,r.jsx)("h3",{children:"Features:"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"100% compatible with your device"}),(0,r.jsx)("li",{children:"Tested for optimal performance"}),(0,r.jsx)("li",{children:"Easy installation with proper tools"}),(0,r.jsx)("li",{children:"30-day warranty included"})]})]}),"specifications"===i&&(0,r.jsx)("div",{className:p().specifications,children:(0,r.jsx)("table",{className:p().specTable,children:(0,r.jsxs)("tbody",{children:[t.specifications&&Object.entries(t.specifications).map(e=>{let[t,i]=e;return i&&"id"!==t&&"product_id"!==t&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),(0,r.jsx)("td",{children:i})]},t)}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Compatibility"}),(0,r.jsx)("td",{children:"iPhone 13 Pro, iPhone 13 Pro Max"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Material"}),(0,r.jsx)("td",{children:"OLED Display"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Resolution"}),(0,r.jsx)("td",{children:"2532 x 1170 pixels"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Dimensions"}),(0,r.jsx)("td",{children:"146.7 x 71.5 mm"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Warranty"}),(0,r.jsx)("td",{children:"30 days"})]})]})})}),"shipping"===i&&(0,r.jsxs)("div",{className:p().shipping,children:[(0,r.jsx)("h3",{children:"Shipping Information"}),(0,r.jsx)("p",{children:"We ship all orders within 24 hours of purchase (excluding weekends and holidays). Standard shipping typically takes 3-5 business days, while expedited shipping options are available at checkout."}),(0,r.jsx)("h3",{children:"Return Policy"}),(0,r.jsx)("p",{children:"If you're not completely satisfied with your purchase, you can return it within 30 days of delivery for a full refund or exchange. Please note that items must be in their original condition and packaging."}),(0,r.jsx)("h3",{children:"Warranty"}),(0,r.jsx)("p",{children:"All our products come with a 30-day warranty against manufacturing defects. If your item arrives damaged or stops working within the warranty period, please contact our customer service team for assistance."})]})]})]})};i(87141);var x=i(17702),g=i.n(x),v=e=>{let{productId:t}=e,[i]=(0,a.useState)([{id:1,author:"John D.",rating:5,date:"2023-05-15",title:"Excellent quality",content:"The screen was a perfect fit for my iPhone 13 Pro. Installation was straightforward and the quality is indistinguishable from the original.",verified:!0},{id:2,author:"Sarah M.",rating:4,date:"2023-04-22",title:"Good value",content:"Good quality for the price. The colors are slightly different from the original but not noticeable unless you're really looking for it.",verified:!0},{id:3,author:"Michael T.",rating:5,date:"2023-03-10",title:"Fast shipping",content:"Received the product earlier than expected. Installation was easy with the included tools. Very satisfied with my purchase.",verified:!1}]),[s,n]=(0,a.useState)(!1),o=i.reduce((e,t)=>e+t.rating,0)/i.length;return(0,r.jsxs)("div",{className:g().productReviews,children:[(0,r.jsx)("h2",{className:g().title,children:"Customer Reviews"}),(0,r.jsxs)("div",{className:g().summary,children:[(0,r.jsxs)("div",{className:g().averageRating,children:[(0,r.jsx)("div",{className:g().ratingValue,children:o.toFixed(1)}),(0,r.jsx)("div",{className:g().stars,children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("span",{className:t<Math.round(o)?g().starFilled:g().starEmpty,children:"★"},t))}),(0,r.jsxs)("div",{className:g().reviewCount,children:["Based on ",i.length," reviews"]})]}),(0,r.jsx)("button",{className:g().writeReviewButton,onClick:()=>n(!s),children:"Write a Review"})]}),s&&(0,r.jsxs)("div",{className:g().reviewForm,children:[(0,r.jsx)("h3",{children:"Write Your Review"}),(0,r.jsxs)("form",{children:[(0,r.jsxs)("div",{className:g().formGroup,children:[(0,r.jsx)("label",{children:"Rating"}),(0,r.jsx)("div",{className:g().ratingSelector,children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("span",{className:g().ratingStar,children:"★"},t))})]}),(0,r.jsxs)("div",{className:g().formGroup,children:[(0,r.jsx)("label",{children:"Title"}),(0,r.jsx)("input",{type:"text",placeholder:"Summarize your review"})]}),(0,r.jsxs)("div",{className:g().formGroup,children:[(0,r.jsx)("label",{children:"Review"}),(0,r.jsx)("textarea",{placeholder:"Write your review here...",rows:4})]}),(0,r.jsxs)("div",{className:g().formGroup,children:[(0,r.jsx)("label",{children:"Name"}),(0,r.jsx)("input",{type:"text",placeholder:"Your name"})]}),(0,r.jsxs)("div",{className:g().formGroup,children:[(0,r.jsx)("label",{children:"Email"}),(0,r.jsx)("input",{type:"email",placeholder:"Your email (will not be published)"})]}),(0,r.jsx)("button",{type:"submit",className:g().submitButton,children:"Submit Review"})]})]}),(0,r.jsx)("div",{className:g().reviewsList,children:i.map(e=>(0,r.jsxs)("div",{className:g().review,children:[(0,r.jsxs)("div",{className:g().reviewHeader,children:[(0,r.jsx)("div",{className:g().reviewAuthor,children:e.author}),(0,r.jsx)("div",{className:g().reviewDate,children:new Date(e.date).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:g().reviewRating,children:[[void 0,void 0,void 0,void 0,void 0].map((t,i)=>(0,r.jsx)("span",{className:i<e.rating?g().starFilled:g().starEmpty,children:"★"},i)),e.verified&&(0,r.jsx)("span",{className:g().verifiedBadge,children:"Verified Purchase"})]}),(0,r.jsx)("h4",{className:g().reviewTitle,children:e.title}),(0,r.jsx)("p",{className:g().reviewContent,children:e.content})]},e.id))})]})},j=i(9488),w=i.n(j),y=e=>{let{product:t}=e,i=(0,o.useRouter)(),[s,n]=(0,a.useState)(!1),[c,l]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e=d();n(e.some(e=>e.id===t.id)),l(e.length)},[t]);let d=()=>{let e=localStorage.getItem("compareList");return e?JSON.parse(e):[]};return(0,r.jsxs)("div",{className:w().compareContainer,children:[(0,r.jsxs)("button",{className:"".concat(w().compareButton," ").concat(s?w().active:""),onClick:()=>{let e=d();if(s){let i=e.filter(e=>e.id!==t.id);localStorage.setItem("compareList",JSON.stringify(i)),n(!1),l(i.length)}else{if(e.length>=4){alert("You can compare up to 4 products at a time. Please remove a product before adding a new one.");return}let i=[...e,{id:t.id,name:t.name,slug:t.slug,image_url:t.image_url}];localStorage.setItem("compareList",JSON.stringify(i)),n(!0),l(i.length)}},children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,r.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),s?"Remove from Compare":"Add to Compare"]}),c>0&&(0,r.jsxs)("button",{className:w().viewCompareButton,onClick:()=>{let e=d();if(0===e.length){alert("Please add products to compare first.");return}let t=e.map(e=>e.id).join(",");i.push("/compare?ids=".concat(t))},children:["View Comparison (",c,")"]})]})},f=i(48640),b=i(22568),N=i.n(b),S=e=>{let{currentProductId:t,currentCategory:i,viewedProducts:s=[],limit:o=4,title:c="You Might Also Like"}=e,[l,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{m(!0);let e=new URLSearchParams;t&&e.append("excludeId",t),i&&e.append("category",i),s&&s.length>0&&e.append("viewedProducts",s.join(",")),e.append("limit",o);let r=await fetch("/api/recommendations?".concat(e.toString()));if(!r.ok)throw Error("Failed to fetch recommendations");let a=await r.json();d(a)}catch(e){console.error("Error fetching recommendations:",e),d([])}finally{m(!1)}})()},[t,i,s,o]),u)?(0,r.jsx)("div",{className:N().recommendationsLoading,children:(0,r.jsx)("div",{className:N().loadingSpinner})}):0===l.length?null:(0,r.jsxs)("div",{className:N().recommendationsContainer,children:[(0,r.jsx)("h2",{className:N().recommendationsTitle,children:c}),(0,r.jsx)("div",{className:N().recommendationsList,children:l.map(e=>(0,r.jsx)("div",{className:N().recommendationItem,children:(0,r.jsx)(f.Z,{product:e})},e.id))}),(0,r.jsx)("div",{className:N().viewAllContainer,children:(0,r.jsx)(n(),{href:"/products",className:N().viewAllLink,children:"View All Products"})})]})},P=i(97330),k=i(18670),R=i(86759),C=i(91039),L=i.n(C),I=e=>{let{productId:t,categoryId:i,title:s="Similar Products",subtitle:o="You might also be interested in these products",limit:c=4}=e,[l,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=async()=>{try{m(!0);let e=await (0,R.Se)(t,i,c);d(e)}catch(e){console.error("Error fetching similar products:",e),d([])}finally{m(!1)}};(t||i)&&e()},[t,i,c]),u)?(0,r.jsx)("div",{className:L().recommendationsLoading,children:(0,r.jsx)("div",{className:L().loadingSpinner})}):0===l.length?null:(0,r.jsx)("section",{className:L().recommendationsSection,children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:L().recommendationsHeader,children:[(0,r.jsx)("h2",{className:L().recommendationsTitle,children:s}),o&&(0,r.jsx)("p",{className:L().recommendationsSubtitle,children:o})]}),(0,r.jsx)("div",{className:L().recommendationsGrid,children:l.map(e=>(0,r.jsx)("div",{className:L().recommendationItem,children:(0,r.jsx)(f.Z,{product:e})},e.id))}),(0,r.jsx)("div",{className:L().viewAllContainer,children:(0,r.jsx)(n(),{href:i?"/categories/".concat(i):"/products",className:L().viewAllLink,children:"View More"})})]})})},B=e=>{let{productId:t,currentProduct:i,title:s="Frequently Bought Together",limit:n=3}=e,[o,c]=(0,a.useState)([]),[l,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)({}),[h,p]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e=async()=>{try{d(!0);let e=await (0,R.oj)(t,n);c(e);let r={};e.forEach(e=>{r[e.id]=!0}),m(r);let a=i.price+e.reduce((e,t)=>e+t.price,0);p(a)}catch(e){console.error("Error fetching frequently bought together products:",e),c([])}finally{d(!1)}};t&&i&&e()},[t,i,n]);let _=(e,t)=>{m(t=>{let r={...t,[e]:!t[e]},a=i.price;return o.forEach(e=>{r[e.id]&&(a+=e.price)}),p(a),r})};return l?(0,r.jsx)("div",{className:L().recommendationsLoading,children:(0,r.jsx)("div",{className:L().loadingSpinner})}):0===o.length?null:(0,r.jsx)("section",{className:L().frequentlyBoughtSection,children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h2",{className:L().recommendationsTitle,children:s}),(0,r.jsxs)("div",{className:L().frequentlyBoughtContainer,children:[(0,r.jsxs)("div",{className:L().productCombination,children:[(0,r.jsxs)("div",{className:L().combinationItem,children:[(0,r.jsx)("div",{className:L().combinationImageContainer,children:(0,r.jsx)("img",{src:i.image_url||"/images/placeholder.svg",alt:i.name,className:L().combinationImage})}),(0,r.jsx)("div",{className:L().combinationName,children:i.name}),(0,r.jsx)("div",{className:L().combinationPrice,children:"$82.34"})]}),o.map((e,t)=>(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)("div",{className:L().plusSign,children:"+"}),(0,r.jsx)("div",{className:L().combinationItem,children:(0,r.jsxs)("label",{className:L().combinationCheckbox,children:[(0,r.jsx)("input",{type:"checkbox",checked:u[e.id]||!1,onChange:()=>_(e.id,e.price)}),(0,r.jsx)("div",{className:L().combinationImageContainer,children:(0,r.jsx)("img",{src:e.image_url||"/images/placeholder.svg",alt:e.name,className:L().combinationImage})}),(0,r.jsx)("div",{className:L().combinationName,children:e.name}),(0,r.jsxs)("div",{className:L().combinationPrice,children:["$",e.price.toFixed(2)]})]})})]},"plus-".concat(e.id)))]}),(0,r.jsxs)("div",{className:L().bundleSummary,children:[(0,r.jsxs)("div",{className:L().bundlePrice,children:[(0,r.jsx)("span",{className:L().bundlePriceLabel,children:"Price for all:"}),(0,r.jsx)("span",{className:L().bundlePriceValue,children:"$82.34"})]}),(0,r.jsx)("button",{className:L().addAllButton,onClick:()=>{let e=[i.id];o.forEach(t=>{u[t.id]&&e.push(t.id)});let t=JSON.parse(localStorage.getItem("cartItems")||"[]"),r=t.find(e=>e.id===i.id);r?r.quantity+=1:t.push({id:i.id,name:i.name,price:i.price,image_url:i.image_url,quantity:1}),o.forEach(e=>{if(u[e.id]){let i=t.find(t=>t.id===e.id);i?i.quantity+=1:t.push({id:e.id,name:e.name,price:e.price,image_url:e.image_url,quantity:1})}}),localStorage.setItem("cartItems",JSON.stringify(t)),alert("Products added to cart!")},children:"Add Selected To Cart"})]})]})]})})},T=i(27580),D=i.n(T);function E(){let{slug:e}=(0,o.useRouter)().query,[t,i]=(0,a.useState)(null),[s,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null),[p,x]=(0,a.useState)(1);(0,a.useEffect)(()=>{e&&(async()=>{try{d(!0);let t=await fetch("/api/products/".concat(e));if(!t.ok)throw Error("Failed to fetch product");let r=await t.json();if(r.success){i(r.product);try{let e=JSON.parse(localStorage.getItem("recentlyViewed")||"[]"),t=r.product.id.toString(),i=e.filter(e=>e!==t);i.unshift(t);let a=i.slice(0,20);localStorage.setItem("recentlyViewed",JSON.stringify(a)),(0,R.A0)(r.product.id)}catch(e){console.error("Error updating recently viewed:",e)}}else throw Error(r.message||"Failed to fetch product")}catch(e){console.error("Error fetching product:",e),h(e.message)}finally{d(!1)}})()},[e]);let g=e=>{x(e)};return s?(0,r.jsx)(c.Z,{title:"Loading Product",description:"Loading product details...",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"Loading product details..."})]})})}):u?(0,r.jsx)(c.Z,{title:"Error",description:"An error occurred while loading the product",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)("h1",{children:"Error"}),(0,r.jsx)("p",{children:u}),(0,r.jsx)(n(),{href:"/products",className:"btn",children:"Back to Products"})]})})}):t?(0,r.jsx)(c.Z,{title:t.name,description:t.description||"Buy ".concat(t.name," from MDTS"),children:(0,r.jsxs)("div",{className:"container product-detail-container",children:[(0,r.jsxs)("div",{className:D().breadcrumbs,children:[(0,r.jsx)(n(),{href:"/",children:"Home"})," /",(0,r.jsx)(n(),{href:"/products",children:"Products"})," /",(0,r.jsx)(n(),{href:"/categories/".concat(t.category_slug||"all"),children:t.category_name})," /",(0,r.jsx)("span",{children:t.name})]}),(0,r.jsxs)("div",{className:D().productDetail,children:[(0,r.jsx)("div",{className:D().productMedia,children:(0,r.jsx)(m,{product:t})}),(0,r.jsxs)("div",{className:D().productInfo,children:[(0,r.jsx)("h1",{className:D().productName,children:t.name}),(0,r.jsxs)("div",{className:D().productMeta,children:[(0,r.jsxs)("span",{className:D().productCategory,children:["Category: ",t.category_name]}),(0,r.jsxs)("span",{className:D().productSku,children:["SKU: ",t.sku||"N/A"]}),t.stock_status&&(0,r.jsx)("span",{className:"".concat(D().stockStatus," ").concat("In Stock"===t.stock_status?D().inStock:D().outOfStock),children:t.stock_status})]}),(0,r.jsx)("div",{className:D().productPrice,children:(0,r.jsx)("span",{className:D().currentPrice,children:"$82.34"})}),(0,r.jsx)("div",{className:D().productDescription,children:(0,r.jsx)("p",{children:t.description||"No description available for this product."})}),(0,r.jsxs)("div",{className:D().productActions,children:[(0,r.jsxs)("div",{className:D().quantityWrapper,children:[(0,r.jsx)("label",{htmlFor:"quantity",children:"Quantity:"}),(0,r.jsxs)("div",{className:D().quantitySelector+" "+D().horizontalQuantity,children:[(0,r.jsx)("button",{onClick:()=>g(Math.max(1,p-1)),disabled:p<=1,className:D().quantityButton,children:"-"}),(0,r.jsx)("input",{type:"number",id:"quantity",value:p,min:"1",onChange:e=>g(parseInt(e.target.value)||1),className:D().quantityInput}),(0,r.jsx)("button",{onClick:()=>g(p+1),className:D().quantityButton,children:"+"})]})]}),(0,r.jsx)(l,{product:t,quantity:p}),(0,r.jsxs)("button",{className:D().wishlistButton,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),"Add to Wishlist"]}),(0,r.jsx)(y,{product:t})]}),(0,r.jsxs)("div",{className:D().socialShareContainer,children:[(0,r.jsx)("h4",{className:D().socialShareTitle,children:"Share This Product"}),(0,r.jsx)(k.Z,{url:"".concat(window.location.origin,"/products/").concat(t.slug),title:t.name,description:t.description||"Check out ".concat(t.name," at MDTS - Midas Technical Solutions"),image:t.image_url})]}),(0,r.jsxs)("div",{className:D().productFeatures,children:[(0,r.jsxs)("div",{className:D().feature,children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("rect",{x:"1",y:"3",width:"15",height:"13"}),(0,r.jsx)("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),(0,r.jsx)("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]}),(0,r.jsx)("span",{children:"Free shipping on orders over $1000"})]}),(0,r.jsxs)("div",{className:D().feature,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"})}),(0,r.jsx)("span",{children:"30-day satisfaction guarantee"})]}),(0,r.jsxs)("div",{className:D().feature,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),(0,r.jsx)("span",{children:"Secure checkout"})]})]})]})]}),(0,r.jsx)(_,{product:t}),(0,r.jsx)(v,{productId:t.id}),(0,r.jsx)(B,{productId:t.id,currentProduct:t,title:"Frequently Bought Together",limit:3}),(0,r.jsx)(I,{productId:t.id,categoryId:t.category_id,title:"Similar Products",subtitle:"You might also be interested in these products",limit:4}),(0,r.jsx)(S,{currentProductId:t.id,currentCategory:t.category_name,title:"You Might Also Like"}),(0,r.jsx)(P.default,{currentProductId:t.id,title:"Recently Viewed Products"})]})}):(0,r.jsx)(c.Z,{title:"Product Not Found",description:"The requested product could not be found",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)("h1",{children:"Product Not Found"}),(0,r.jsx)("p",{children:"The requested product could not be found."}),(0,r.jsx)(n(),{href:"/products",className:"btn",children:"Back to Products"})]})})})}},9488:function(e){e.exports={compareContainer:"CompareButton_compareContainer__nTubD",compareButton:"CompareButton_compareButton__HpcX8",active:"CompareButton_active__3kmEt",viewCompareButton:"CompareButton_viewCompareButton__HpWi0"}},68975:function(e){e.exports={productImages:"ProductImages_productImages__om3Mp",mainImage:"ProductImages_mainImage__eQPMB",zoomOverlay:"ProductImages_zoomOverlay__vCg6m",thumbnails:"ProductImages_thumbnails__lbi06",thumbnail:"ProductImages_thumbnail__drkjW",active:"ProductImages_active__jIuQc"}},17702:function(e){e.exports={productReviews:"ProductReviews_productReviews__Gwj4M",title:"ProductReviews_title__Q_qcU",summary:"ProductReviews_summary__mzfeT",averageRating:"ProductReviews_averageRating__7L2hk",ratingValue:"ProductReviews_ratingValue__sOs1S",stars:"ProductReviews_stars__Zk_7C",starFilled:"ProductReviews_starFilled__02lmO",starEmpty:"ProductReviews_starEmpty__3ZWyA",reviewCount:"ProductReviews_reviewCount__uQM3V",writeReviewButton:"ProductReviews_writeReviewButton__JtPgj",reviewForm:"ProductReviews_reviewForm___Zr8C",formGroup:"ProductReviews_formGroup__sXmzx",ratingSelector:"ProductReviews_ratingSelector__Cw4E8",ratingStar:"ProductReviews_ratingStar__kH2jn",submitButton:"ProductReviews_submitButton__bWVtm",reviewsList:"ProductReviews_reviewsList__5IJv8",review:"ProductReviews_review__Cb3d6",reviewHeader:"ProductReviews_reviewHeader__TXhDJ",reviewAuthor:"ProductReviews_reviewAuthor__Wv11k",reviewDate:"ProductReviews_reviewDate__u4_Cr",reviewRating:"ProductReviews_reviewRating__GyszM",verifiedBadge:"ProductReviews_verifiedBadge__Mdtxz",reviewTitle:"ProductReviews_reviewTitle__Cd_1f",reviewContent:"ProductReviews_reviewContent__UvhO3"}},6458:function(e){e.exports={productTabs:"ProductTabs_productTabs__S4goF",tabs:"ProductTabs_tabs__8wgb7",tab:"ProductTabs_tab__esbBm",active:"ProductTabs_active__9LlZV",tabContent:"ProductTabs_tabContent__5Vx8m",description:"ProductTabs_description__q5J18",specTable:"ProductTabs_specTable__fXcFX",shipping:"ProductTabs_shipping__Vn3Ga"}},87141:function(e){e.exports={relatedProducts:"RelatedProducts_relatedProducts__JYi6A",title:"RelatedProducts_title__3B3_y",products:"RelatedProducts_products__x9S7Q",product:"RelatedProducts_product__bRaJl",imageContainer:"RelatedProducts_imageContainer__EO67T",image:"RelatedProducts_image__b7ZNC",content:"RelatedProducts_content__tYcoZ",category:"RelatedProducts_category__Hf0N2",name:"RelatedProducts_name__Hxg0d",price:"RelatedProducts_price___n15f"}},22568:function(e){e.exports={recommendationsContainer:"ProductRecommendations_recommendationsContainer__CDECe",recommendationsTitle:"ProductRecommendations_recommendationsTitle__P4aLL",recommendationsList:"ProductRecommendations_recommendationsList__CRfO9",recommendationItem:"ProductRecommendations_recommendationItem__3T7y4",viewAllContainer:"ProductRecommendations_viewAllContainer__9LSqe",viewAllLink:"ProductRecommendations_viewAllLink__R1oFc",recommendationsLoading:"ProductRecommendations_recommendationsLoading___n3gQ",loadingSpinner:"ProductRecommendations_loadingSpinner__gx13U",spin:"ProductRecommendations_spin__JpljY"}},86272:function(e){e.exports={recentlyViewed:"RecentlyViewed_recentlyViewed__OmErO",title:"RecentlyViewed_title__87hHT",subtitle:"RecentlyViewed_subtitle__5jRvp",products:"RecentlyViewed_products__JWSWp",productWrapper:"RecentlyViewed_productWrapper__hvr0m",recentlyViewedLoading:"RecentlyViewed_recentlyViewedLoading__VJ3hL",loadingSpinner:"RecentlyViewed_loadingSpinner__84sbq",spin:"RecentlyViewed_spin__J5rUJ"}},91039:function(e){e.exports={recommendationsSection:"Recommendations_recommendationsSection__SHr83",recommendationsHeader:"Recommendations_recommendationsHeader__SDqqG",recommendationsTitle:"Recommendations_recommendationsTitle__olegU",recommendationsSubtitle:"Recommendations_recommendationsSubtitle__bu59r",recommendationsGrid:"Recommendations_recommendationsGrid__SoS5P",recommendationItem:"Recommendations_recommendationItem__UT7vZ",viewAllContainer:"Recommendations_viewAllContainer__yYDw7",viewAllLink:"Recommendations_viewAllLink__ynjhC",recommendationsLoading:"Recommendations_recommendationsLoading__R8qAA",loadingSpinner:"Recommendations_loadingSpinner__VS_HM",spin:"Recommendations_spin__L_WCJ",frequentlyBoughtSection:"Recommendations_frequentlyBoughtSection__rW_fR",frequentlyBoughtContainer:"Recommendations_frequentlyBoughtContainer__KqRfN",productCombination:"Recommendations_productCombination__qCYWB",combinationItem:"Recommendations_combinationItem__MSpS1",combinationCheckbox:"Recommendations_combinationCheckbox__UMDRk",combinationImageContainer:"Recommendations_combinationImageContainer__PdALG",combinationImage:"Recommendations_combinationImage__n3xY3",combinationName:"Recommendations_combinationName__f2Ut_",combinationPrice:"Recommendations_combinationPrice__a65_L",plusSign:"Recommendations_plusSign__jzxxE",bundleSummary:"Recommendations_bundleSummary__12LUp",bundlePrice:"Recommendations_bundlePrice__rW5ns",bundlePriceLabel:"Recommendations_bundlePriceLabel__JjBy8",bundlePriceValue:"Recommendations_bundlePriceValue__iWxmr",addAllButton:"Recommendations_addAllButton__JtdDp"}},70297:function(e){e.exports={socialShare:"SocialShare_socialShare__DoxjP",shareButtons:"SocialShare_shareButtons__EWJE5",shareButton:"SocialShare_shareButton__6NDI1",buttonText:"SocialShare_buttonText__sE4rw",facebook:"SocialShare_facebook__ucJ1U",twitter:"SocialShare_twitter___Djgs",pinterest:"SocialShare_pinterest__3oB3p",linkedin:"SocialShare_linkedin__Fex9y",email:"SocialShare_email__X_JE0",copy:"SocialShare_copy__X3EY0",tooltip:"SocialShare_tooltip__JhGxQ",show:"SocialShare_show__Vv5Mh"}},27580:function(e){e.exports={breadcrumbs:"ProductDetail_breadcrumbs__s6lki",productDetail:"ProductDetail_productDetail__Sac_Z",productMedia:"ProductDetail_productMedia__YkpbW",productInfo:"ProductDetail_productInfo__V_lKm",productName:"ProductDetail_productName__JztXm",productMeta:"ProductDetail_productMeta__9vvTz",productCategory:"ProductDetail_productCategory__t6pbo",productSku:"ProductDetail_productSku__LdpLx",stockStatus:"ProductDetail_stockStatus__bSxEG",inStock:"ProductDetail_inStock__avfLI",outOfStock:"ProductDetail_outOfStock__Npakp",productPrice:"ProductDetail_productPrice__GrRCH",originalPrice:"ProductDetail_originalPrice__7GPWg",currentPrice:"ProductDetail_currentPrice__WD4mD",discountBadge:"ProductDetail_discountBadge__DyJSQ",productDescription:"ProductDetail_productDescription__A4Gus",productActions:"ProductDetail_productActions__L6HOS",quantityWrapper:"ProductDetail_quantityWrapper__lizhB",quantitySelector:"ProductDetail_quantitySelector__oums9",horizontalQuantity:"ProductDetail_horizontalQuantity__fPDX9",quantityButton:"ProductDetail_quantityButton__5U5hL",quantityInput:"ProductDetail_quantityInput__xJ1fV",wishlistButton:"ProductDetail_wishlistButton___hSps",socialShareContainer:"ProductDetail_socialShareContainer__xOiCW",socialShareTitle:"ProductDetail_socialShareTitle__qY_5f",productFeatures:"ProductDetail_productFeatures__FVi8d",feature:"ProductDetail_feature__XjZhG"}},11163:function(e,t,i){e.exports=i(43079)}},function(e){e.O(0,[1664,5675,6029,8640,2888,9774,179],function(){return e(e.s=25025)}),_N_E=e.O()}]);