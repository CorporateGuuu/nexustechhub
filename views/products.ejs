<h1>Products</h1>

<% if (products && products.length > 0) { %>
  <div class="grid">
    <% products.forEach(product => { %>
      <div class="card">
        <div class="card-image">
          <img src="<%= product.image_url || '/placeholder.svg' %>" alt="<%= product.name %>">
        </div>
        <div class="card-content">
          <h3 class="card-title"><%= product.name %></h3>
          <p class="card-category"><%= product.category_name %></p>
          <p class="card-price">$<%= parseFloat(product.price).toFixed(2) %></p>
          <a href="/products/<%= product.slug %>">View Details</a>
        </div>
      </div>
    <% }); %>
  </div>
  
  <% if (totalPages > 1) { %>
    <div class="pagination">
      <% if (currentPage > 1) { %>
        <a href="/products?page=<%= currentPage - 1 %>">Previous</a>
      <% } %>
      
      <% for (let i = 1; i <= totalPages; i++) { %>
        <a href="/products?page=<%= i %>" class="<%= currentPage === i ? 'active' : '' %>"><%= i %></a>
      <% } %>
      
      <% if (currentPage < totalPages) { %>
        <a href="/products?page=<%= currentPage + 1 %>">Next</a>
      <% } %>
    </div>
  <% } %>
<% } else { %>
  <p>No products found.</p>
<% } %>
