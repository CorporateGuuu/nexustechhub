# Supabase Configuration
# Get these values from your Supabase dashboard: https://supabase.com/dashboard/project/your-project/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Supabase Service Role Key (for server-side operations)
# This is different from the anon key and has admin privileges
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Supabase JWT Secret (for legacy HS256 verification)
# Optional: Only needed if you want to support legacy JWT verification
SUPABASE_JWT_SECRET=your-jwt-secret-here

# Device Grading Scale Database Setup
# Run this SQL in your Supabase SQL editor to create the devices table:
#
# -- Create devices table for device grading scale with buyback information
# CREATE TABLE public.devices (
#   id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
#   brand TEXT NOT NULL,
#   model TEXT NOT NULL,
#   size TEXT NOT NULL, -- e.g., "8GB", "32GB", "64GB"
#   color TEXT NOT NULL,
#   condition TEXT NOT NULL, -- e.g., "Grade A", "Grade B", "Grade C"
#   lcd TEXT NOT NULL, -- LCD condition
#   frame TEXT NOT NULL, -- Frame condition
#   buttons TEXT NOT NULL, -- Buttons condition
#   price DECIMAL(10, 2) NOT NULL,
#   in_stock BOOLEAN NOT NULL DEFAULT false,
#   images TEXT[], -- Array of image URLs
#   category TEXT, -- e.g., "iPhone", "Samsung", "Google"
#   created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
#   updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
# );
#
# -- Create indexes for better performance
# CREATE INDEX idx_devices_brand ON public.devices(brand);
# CREATE INDEX idx_devices_model ON public.devices(model);
# CREATE INDEX idx_devices_condition ON public.devices(condition);
# CREATE INDEX idx_devices_in_stock ON public.devices(in_stock);
# CREATE INDEX idx_devices_price ON public.devices(price);
# CREATE INDEX idx_devices_category ON public.devices(category);
#
# -- Add updated_at trigger
# CREATE TRIGGER devices_updated_at
#   BEFORE UPDATE ON public.devices
#   FOR EACH ROW EXECUTE FUNCTION public.handle_updated_at();
#
# -- Insert sample data
# INSERT INTO public.devices (brand, model, size, color, condition, lcd, frame, buttons, price, in_stock, images, category) VALUES
#   ('Apple', 'iPhone 5C', '8GB', 'Blue', 'Grade B', 'OK', 'OK', 'OK', 54.00, true, '{}', 'iPhone'),
#   ('Samsung', 'Galaxy S6', '32GB', 'Black', 'Grade A', 'OK', 'OK', 'OK', 75.00, false, '{}', 'Samsung'),
#   ('Apple', 'iPhone 6', '16GB', 'Silver', 'Grade C', 'OK', 'OK', 'OK', 45.00, true, '{}', 'iPhone'),
#   ('Google', 'Pixel 3', '64GB', 'White', 'Grade A', 'OK', 'OK', 'OK', 85.00, true, '{}', 'Google'),
#   ('Samsung', 'Galaxy Note 8', '64GB', 'Blue', 'Grade B', 'OK', 'OK', 'OK', 65.00, true, '{}', 'Samsung'),
#   ('Apple', 'iPhone 7', '32GB', 'Gold', 'Grade A', 'OK', 'OK', 'OK', 95.00, true, '{}', 'iPhone'),
#   ('Samsung', 'Galaxy S7', '32GB', 'White', 'Grade B', 'OK', 'OK', 'OK', 55.00, true, '{}', 'Samsung'),
#   ('Google', 'Pixel 2', '32GB', 'Black', 'Grade C', 'OK', 'OK', 'OK', 35.00, false, '{}', 'Google'),
#   ('Apple', 'iPhone 6S', '64GB', 'Space Gray', 'Grade A', 'OK', 'OK', 'OK', 78.00, true, '{}', 'iPhone'),
#   ('Samsung', 'Galaxy Note 9', '128GB', 'Purple', 'Grade A', 'OK', 'OK', 'OK', 125.00, true, '{}', 'Samsung');

# Support Tickets Database Setup
# Run this SQL in your Supabase SQL editor to create the required tables:
#
# -- Create support_tickets table
# CREATE TABLE support_tickets (
#   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
#   user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
#   ticket_number TEXT UNIQUE NOT NULL,
#   subject TEXT NOT NULL,
#   description TEXT NOT NULL,
#   preview TEXT NOT NULL,
#   category TEXT NOT NULL,
#   priority TEXT NOT NULL DEFAULT 'medium',
#   status TEXT NOT NULL DEFAULT 'Open' CHECK (status IN ('Open', 'Closed', 'Pending')),
#   replies INTEGER DEFAULT 0,
#   date_created DATE NOT NULL,
#   last_reply_date TIMESTAMP WITH TIME ZONE,
#   created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
#   updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
# );
#
# -- Create ticket_messages table
# CREATE TABLE ticket_messages (
#   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
#   ticket_id UUID REFERENCES support_tickets(id) ON DELETE CASCADE,
#   user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
#   sender TEXT NOT NULL CHECK (sender IN ('user', 'support')),
#   message TEXT NOT NULL,
#   timestamp TEXT NOT NULL,
#   created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
# );
#
# -- Create RPC function to increment ticket replies count
# CREATE OR REPLACE FUNCTION increment_ticket_replies(ticket_id UUID)
# RETURNS void
# LANGUAGE plpgsql
# AS $$
# BEGIN
#   UPDATE support_tickets
#   SET replies = replies + 1, updated_at = NOW(), last_reply_date = NOW()
#   WHERE id = ticket_id;
# END;
# $$;
#
# -- Enable RLS (Row Level Security)
# ALTER TABLE support_tickets ENABLE ROW LEVEL SECURITY;
# ALTER TABLE ticket_messages ENABLE ROW LEVEL SECURITY;
#
# -- Create policies for support_tickets
# CREATE POLICY "Users can view their own tickets" ON support_tickets
#   FOR SELECT USING (auth.uid() = user_id);
#
# CREATE POLICY "Users can create their own tickets" ON support_tickets
#   FOR INSERT WITH CHECK (auth.uid() = user_id);
#
# CREATE POLICY "Users can update their own tickets" ON support_tickets
#   FOR UPDATE USING (auth.uid() = user_id);
#
# -- Create policies for ticket_messages
# CREATE POLICY "Users can view messages from their own tickets" ON ticket_messages
#   FOR SELECT USING (
#     ticket_id IN (
#       SELECT id FROM support_tickets WHERE user_id = auth.uid()
#     )
#   );
#
# CREATE POLICY "Users can insert messages to their own tickets" ON ticket_messages
#   FOR INSERT WITH CHECK (
#     ticket_id IN (
#       SELECT id FROM support_tickets WHERE user_id = auth.uid()
#     ) AND auth.uid() = user_id
#   );
#
# -- Create indexes for better performance
# CREATE INDEX idx_support_tickets_user_id ON support_tickets(user_id);
# CREATE INDEX idx_support_tickets_status ON support_tickets(status);
# CREATE INDEX idx_support_tickets_created_at ON support_tickets(created_at);
# CREATE INDEX idx_ticket_messages_ticket_id ON ticket_messages(ticket_id);
# CREATE INDEX idx_ticket_messages_created_at ON ticket_messages(created_at);

# Marketing Materials Database Setup
# Run this SQL in your Supabase SQL editor to create the required tables:
#
# -- Create gapp_marketing_materials table
# CREATE TABLE gapp_marketing_materials (
#   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
#   name TEXT NOT NULL,
#   type TEXT NOT NULL CHECK (type IN ('Banner', 'Poster', 'Counter Mat', 'Brochure', 'Sticker', 'Flyer')),
#   description TEXT NOT NULL,
#   file_url TEXT NOT NULL,
#   thumbnail_url TEXT NOT NULL,
#   file_size INTEGER NOT NULL,
#   downloads_count INTEGER DEFAULT 0,
#   is_active BOOLEAN DEFAULT true,
#   created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
#   updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
# );
#
# -- Create marketing_material_downloads table for tracking
# CREATE TABLE marketing_material_downloads (
#   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
#   user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
#   material_id UUID REFERENCES gapp_marketing_materials(id) ON DELETE CASCADE,
#   downloaded_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
#   ip_address TEXT,
#   user_agent TEXT
# );
#
# -- Create RPC function to increment download count
# CREATE OR REPLACE FUNCTION increment_download_count(material_id UUID)
# RETURNS void
# LANGUAGE plpgsql
# AS $$
# BEGIN
#   UPDATE gapp_marketing_materials
#   SET downloads_count = downloads_count + 1, updated_at = NOW()
#   WHERE id = material_id;
# END;
# $$;
#
# -- Enable RLS (Row Level Security)
# ALTER TABLE gapp_marketing_materials ENABLE ROW LEVEL SECURITY;
# ALTER TABLE marketing_material_downloads ENABLE ROW LEVEL SECURITY;
#
# -- Create policies (adjust as needed for your security requirements)
# CREATE POLICY "Allow authenticated users to read active materials" ON gapp_marketing_materials
#   FOR SELECT USING (auth.role() = 'authenticated' AND is_active = true);
#
# CREATE POLICY "Allow users to track their own downloads" ON marketing_material_downloads
#   FOR INSERT WITH CHECK (auth.uid() = user_id);



# Stripe Configuration (for payments)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key-here
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# Stripe Live Keys (uncomment for production)
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key-here
# STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key-here
# STRIPE_WEBHOOK_SECRET=whsec_your-live-webhook-secret-here

# PayPal Configuration (for payments)
NEXT_PUBLIC_PAYPAL_CLIENT_ID=your-paypal-client-id-here
PAYPAL_CLIENT_SECRET=your-paypal-client-secret-here

# PayPal Live Keys (uncomment for production)
# NEXT_PUBLIC_PAYPAL_CLIENT_ID=your-live-paypal-client-id-here
# PAYPAL_CLIENT_SECRET=your-live-paypal-client-secret-here

# Email Configuration (SendGrid)
SENDGRID_API_KEY=your-sendgrid-api-key-here

# FedEx API Configuration (for shipment tracking)
# Get these from your FedEx Developer Portal: https://developer.fedex.com/
FEDEX_CLIENT_ID=your-fedex-client-id-here
FEDEX_CLIENT_SECRET=your-fedex-client-secret-here

# Braintree Configuration (for payments)
# Get these from your Braintree Dashboard: https://www.braintreegateway.com/login
BRAINTREE_MERCHANT_ID=your-braintree-merchant-id-here
BRAINTREE_PUBLIC_KEY=your-braintree-public-key-here
BRAINTREE_PRIVATE_KEY=your-braintree-private-key-here

# Discord Configuration (for Discord guild management)
# Get these from your Discord Developer Portal: https://discord.com/developers/applications
DISCORD_CLIENT_ID=your-discord-client-id-here
DISCORD_CLIENT_SECRET=your-discord-client-secret-here
DISCORD_BOT_TOKEN=your-discord-bot-token-here
DISCORD_REDIRECT_URI=http://localhost:3000/auth/discord/callback

# Public Discord Configuration (available in browser)
NEXT_PUBLIC_DISCORD_CLIENT_ID=your-discord-client-id-here
NEXT_PUBLIC_DISCORD_REDIRECT_URI=http://localhost:3000/auth/discord/callback
NEXT_PUBLIC_DISCORD_GUILD_ID=your-discord-guild-id-here
